function _0xbca5(_0x35b67d,_0xa801e9){const _0x5dd903=_0x4838();return _0xbca5=function(_0x3675b1,_0x2cb818){_0x3675b1=_0x3675b1-(-0x1cfe+-0x5*-0x277+-0x118d*-0x1);let _0x36e92f=_0x5dd903[_0x3675b1];if(_0xbca5['VcBGra']===undefined){var _0x473b9a=function(_0x547888){const _0x1f0c18='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9f7f0='',_0x2f76d7='',_0x304dec=_0x9f7f0+_0x473b9a;for(let _0x459da6=-0x12e3*0x1+-0x212c+-0x340f*-0x1,_0x4dd318,_0x40e7cb,_0x3f2cb1=-0x97*0x1+-0x10ff+0x1196;_0x40e7cb=_0x547888['charAt'](_0x3f2cb1++);~_0x40e7cb&&(_0x4dd318=_0x459da6%(0x1f10+0x123*-0x7+-0x1717)?_0x4dd318*(-0x124e+-0x142b+-0x1af*-0x17)+_0x40e7cb:_0x40e7cb,_0x459da6++%(-0xcfa*0x1+0x7*-0x313+-0x5d*-0x5f))?_0x9f7f0+=_0x304dec['charCodeAt'](_0x3f2cb1+(0x1*0xc61+-0x160*-0x9+-0x18b7))-(-0x12bf*0x1+0xff7+0x1*0x2d2)!==0x150c+-0x2a8+-0x1264?String['fromCharCode'](-0x2f*-0x96+-0x1*-0xe4f+-0x28da&_0x4dd318>>(-(-0x12fe+0xb92+0x1*0x76e)*_0x459da6&-0x2358*0x1+0x597+0x1dc7)):_0x459da6:-0x21a+0xac1*-0x2+0x179c){_0x40e7cb=_0x1f0c18['indexOf'](_0x40e7cb);}for(let _0x193322=0xc29+-0x1*0xa11+-0x218,_0x28eab3=_0x9f7f0['length'];_0x193322<_0x28eab3;_0x193322++){_0x2f76d7+='%'+('00'+_0x9f7f0['charCodeAt'](_0x193322)['toString'](0x2b9*0x4+-0x1428+0x954))['slice'](-(0x2*-0x107d+-0x2c*0x2f+0x2910));}return decodeURIComponent(_0x2f76d7);};_0xbca5['fZvZvs']=_0x473b9a,_0x35b67d=arguments,_0xbca5['VcBGra']=!![];}const _0x3b65e7=_0x5dd903[0x2*-0x55b+-0xfc1+-0x10f*-0x19],_0x2ce27f=_0x3675b1+_0x3b65e7,_0x5bb5ab=_0x35b67d[_0x2ce27f];if(!_0x5bb5ab){const _0x160540=function(_0x130222){this['mgZYfb']=_0x130222,this['UwMpAO']=[-0xa37+0x176*-0x2+-0x1d*-0x74,-0x1727+-0x1192*-0x1+0x595*0x1,-0xb2*0x30+-0x1b6b*-0x1+-0x1*-0x5f5],this['XJKnnT']=function(){return'newState';},this['LPxqGh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['PZYpVk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x160540['prototype']['ZTrWHu']=function(){const _0x34e0dc=new RegExp(this['LPxqGh']+this['PZYpVk']),_0x4bca8a=_0x34e0dc['test'](this['XJKnnT']['toString']())?--this['UwMpAO'][0x1d46+-0x19c6+-0x5*0xb3]:--this['UwMpAO'][-0xfa6+-0x160d+0x25b3];return this['TzNIzT'](_0x4bca8a);},_0x160540['prototype']['TzNIzT']=function(_0x5203be){if(!Boolean(~_0x5203be))return _0x5203be;return this['IGOyVU'](this['mgZYfb']);},_0x160540['prototype']['IGOyVU']=function(_0x551b7e){for(let _0x24c911=0x25*0x3a+0x2550+-0x2db2*0x1,_0xa95ca9=this['UwMpAO']['length'];_0x24c911<_0xa95ca9;_0x24c911++){this['UwMpAO']['push'](Math['round'](Math['random']())),_0xa95ca9=this['UwMpAO']['length'];}return _0x551b7e(this['UwMpAO'][-0x17bc+-0x1cc6*0x1+0x3482]);},new _0x160540(_0xbca5)['ZTrWHu'](),_0x36e92f=_0xbca5['fZvZvs'](_0x36e92f),_0x35b67d[_0x2ce27f]=_0x36e92f;}else _0x36e92f=_0x5bb5ab;return _0x36e92f;},_0xbca5(_0x35b67d,_0xa801e9);}function _0x4838(){const _0x2a764b=['AML1z3vHBG','ELrMCwy','CNnjDvK','CMf0Aw5Nifneia','A0H3se8','suq6ia','y2HHBMDL','Cgf5Bg9Hza','cI0TlqOGicaG','C3vJy2vZCW','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','zw5HyMXLx2HY','DuLyEfu','Egjdsxy','5zU+5y+c5PwW5OQL5zgkcI0GkIO','ke5Lz2f0AxzLia','s2fnquy','C3rHDhvZ','DMTxDMy','Aw1Hz2vZ','tLnf','Dg9tDhjPBMC','D1LyvNq','quPVDMK','Df9LBMq','qu5fCK4','r0vorvjbvevFsq','Aw5PDgLHBgL6zq','Dgv4Da','s0ncEve','m2T1Ae13qW','u2TPCdOQkIa','CvLpu0m','C2rFy2fKzxrHAq','BhrRreK','yxbWBhK','wvjtAeG','uxHwBva','DvPbDKG','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','CMvZDg9YzuzHyW','u2j4tMq','AMnNqLm','C2rFyxv0Aa','C2vLza','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','cI0GkIRMRAxMLBaGkfm','u0jMChe','vM9eEMu','BLPSC2C','B3iGChjVBxb0oG','qMnSq0i','ndq3nZvNqvDstwi','Aw1Hz2veyxrH','DxjS','C2rFy3n0zxbZ','A0THv0G','tuTxAvK','C2rFy3vWC2nHBa','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','6i635y+w5QIH5z6l5AsX6lsLoIa','AfLxEw8','zty0ioAvSoAnRUwKHoEqHUoaGG','5lIT55QeihbYB21WDooaGG','Dc1TB2rLBa','loAOOEwEI+s4UG','ndGZodLAAwPAqLy','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','Cg1Vy1K','Aw1Hz2u6','C3rHDhvZvgv4Da','D253AMS','v3LVu3i','mtuZmtCXoxj4z05XyW','DvncuNi','zML4zwrqCM9TCa','ENPXz1m','kfjLC3rVCMuGrG','44cc5zon5BQu5yAf5A65oIa','5Q2J5zYO6ycA6l+hC2r3zwj1','cI0GkIRPH4FMOlFMLRNMS5uG','ChjVBxb0','BKXQtwq','cI0GkIRNP43LRzaGkfm','l3nKyxbPl3yXlW','BwvZC2fNzq','q2HHCMfJDgvYia','kIOG','veros3G','l2fWAs9Zzc9Nzq','ExvZAgvPzf9Zza','Ahzfrfe','B3nPDgLVBG','rxfPA3m','zMfJzsdKUlRLVidLKk8','uunmsvy','zw5LCG','rxbvANG','ifn0CMvUz3rOkq','vvbvuKW','yw1L','yvjAyKi','z2zOvuK','ic0Gq2HHBMDLoG','ANbhwgi','AxPLktOQkIa','yxrFBgfZDf9Syq','ExvZAgu','Bg9Hza','mJiYmG','Aw5JBhvKzxm','B21WDa','AvjmBeu','keHPCMvZiezPEa','mtjcte1RAeu','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','B3zLCNjPzgvFCW','B2rLBcK6kIOG','of9Zy2HLzhvSzq','CuDVCK8','t3roAe0','y21VzgvSmJiYmG','Bg9N','Chb2Dee','AwXLCJOQkIa','yuj5sum','cI0GkIROHlJPG6JKV67LPi0G','Dhj1zq','DuXfveO','6zsz6k+VoIa','AgvPz2H0','u2nLBMuGq29TCa','CgfYC2u','ktOG','whjfELi','wKznvKi','mta2nZK0oxjMAg9Hsa','svzttMK','vKH1DNi','wePrtfu','ywrLDgfPBgvYxW','zxr0Aw5NCW','C2rFy2nOyxr1xW','u0PiuwG','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','5zon5BQu5yAf5A65oG','rK9qCvq','of9TB2rLBa','ANnVBG','uxrkv2K','EuHIAMi','s1rdy0K','q1n4AKW','cI0GkIPbrgv0yq','zxjYB3i','C3rFy2HHDhu4xW','BvnxtLm','q0Hwz3m','C3rLChm','kerPDMLKzv9YBW','rKjNwwq','C2vHCMnO','ruHUyNu','DNP5zeq','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','vNrpChC','A2PVu1e','C2rdzMDty2fSzq','C2rFy3DPzhrO','5BEY5ywZ6zET44cc','zw5HyMXLx2HYia','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','C2rFy2HPCMvZxW','yKHiqMi','zwvKktOQkIa','sKjpAgm','cI0GkIPdBgLWia','zvDRvfO','rxjYB3iGz2vUzq','BhDJtw0','of92ywu','EKXVrwe','z2u6','oer5DNvxqG','D0rpvMe','CMf0Aw5NigLTyq','Dg9Rzw4','u0qGqvbjioI/LowBNUMuMq','BMXlvvC','yLLmyKG','DuzAzva','5yYw5lI6igrHDgeGvvi','zMfJzv95B2XVDG','og4UChq','rK94qLC','C3rYAw5NAwz5','ihWG','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','5BEY5yID5AEl5yYw44cc','tMLxDMi','mta5nZe5mfH0A3Lzta','5PIV5zcM5zcV55sO5yIg6kEs6iMY5QIH5BYpia','C2rFy2nSAxbFCW','y2fJAgu','y2XPzw50','ywTYr1K','6k+V44cc54Q25Ocb56cboIa','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','D21bA0m','lcdOR6BMG4u6ia','C2rFy2rLBM9PCW','BgvZktOG','EKLIuwu','6AUy5RIf5l+U5Asnios4UG','mJaWmti2ofvusuzmBq','sNLOq0q','C2v0DgLUz3nZlG','Aw1Hz2u','ue9tva','BgvY','rwf4D2q','zv9Mywn0B3i','6lsF6z2I5lI6oIa','se5zz0O','vfDHvxu','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','A3fVDeK','y2fSztOQkIa','B3viD0S','cI0GkIRLSlRLR7GGkfm','A1Dgv0i','y2zNx3nJywXL','rKzwruK','zML4','yxv0Aa','DgjPtvO','qwfpwxa','vunqx3nK','C2r3zwj1AEEuN+wBVUwpGG','tfLvDMS','BgvUz3rO','C2tOR7FMSylNLj/LM77PLjNOR686ia','BMvNyxrPDMvqCG','DujvEMK','y2vZioIeUoMdQos/RUwKJsdKUlO','44cc6k+35Qoa5P+LC2r3zwj1','yvnVu3q','qvD5CwS','cI0TlqOJiYmG55sF','ve5ysMq','y2vZ','C2rvCMW','DgTXwhm','q0Xjuf9ZDg9WxW','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','txfgs2e','r1PpwuC','ChqPoIOQia','yLrxrwW','zw1PDa','Aw5MBW','shjUtKG','y29UC3rYDwn0BW','BwzQr0q','mZfwwfvOBgW','EgLHBMnOzw5N','AuXgrKW','mZbvA29QuLi','y1vpvxy','u0rmAxn0zw5LCG','D0vhu2i','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','D2L1r3a','DhjPBq','qujuA20','CK1xCKi','EhDkvgK','of91ChnJywXLCG','cI0GkIPdrKCGuW','cI0GkIRMLl7LPkFLGi3NJOCG','55sO5lQo55sF5OIq55QevgfNoIa','DgvWCYK6kIOG','mJmYnMLjCuH0ta','tufhrv9srvnqtW','6k6+572U5QIH5z6llI4U5lI6','wxHZAKO','56cboIa','Bw9KzwW','cI0GkIPwquu6kG','5yIh5O2I5QIH5z6l5AsX6lsLoIa','BI9QC29U','yxv0B191CMW','Bw9Kzq','A215Aei','ifbYB21WDa','Chjfu0y','sLborMO','lI4U','wK9Qz2i','C2rFDMfL','wLLLqNe','rNrUCK0','icHjrdOG','zgf0ytPPBwfNzq','CMvZDg9Yzv9Myq','kfnHBxbSzxiPoG','A253s1i','uhjVBxb0ktOQkG','DKvwwNy','yurPve8','DhzeD3K','5BI4icHjrdOG','5BcD6k+v5l2C5lI65y6F5AEliejHCW','tufhrv9srvfvrq','sxLeqwO','sMHsvha','sfrwBvC','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','Durxvee','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','cI0GkIRPQ5JMUixKV67LPi0G','qvfux3nK','DuP3quq'];_0x4838=function(){return _0x2a764b;};return _0x4838();}(function(_0x2e11d7,_0x4d9826){const _0x5369e5=_0x2e11d7();function _0xd14570(_0x1bcbd8,_0x537d86,_0x5b253c,_0x3ea735){return _0xbca5(_0x3ea735-0x262,_0x1bcbd8);}function _0x34ccd6(_0x40d2a3,_0xf3895c,_0x56a7f7,_0x181650){return _0xbca5(_0xf3895c-0x174,_0x56a7f7);}while(!![]){try{const _0x416a8c=-parseInt(_0xd14570(0x40c,0x373,0x33c,0x3be))/(-0xa81*0x1+0x26ca+-0x1c48)*(-parseInt(_0x34ccd6(0x383,0x2e2,0x36b,0x2bd))/(-0x138d+-0x1385+0x1*0x2714))+-parseInt(_0xd14570(0x378,0x46d,0x482,0x419))/(-0x829+0x16ae+-0xe82)*(-parseInt(_0xd14570(0x37c,0x42b,0x3c8,0x38c))/(0x10a0+-0x11c*0x1a+0xc3c))+parseInt(_0xd14570(0x39b,0x40b,0x45a,0x42f))/(-0x6*-0x347+-0x6a*-0x3+-0x14e3)*(-parseInt(_0xd14570(0x3a2,0x341,0x325,0x3c1))/(0x13a*0x1d+0x14*-0x1dc+-0xc*-0x23))+parseInt(_0x34ccd6(0x30b,0x356,0x34e,0x303))/(-0x2*-0x34c+0x1*0x7bd+-0xe4e)*(-parseInt(_0x34ccd6(0x20c,0x27f,0x314,0x285))/(0x702+-0x70e+0x1*0x14))+-parseInt(_0x34ccd6(0x3ae,0x395,0x344,0x33d))/(0x11fc+0x14b8+-0x26ab)+parseInt(_0xd14570(0x33b,0x2fa,0x3d3,0x37e))/(0x1d9a+0x6f3+-0x2cf*0xd)+parseInt(_0x34ccd6(0x39d,0x34f,0x378,0x3ab))/(-0x381+0x1987+0x14b*-0x11)*(-parseInt(_0x34ccd6(0x3a7,0x37f,0x3fb,0x2fc))/(0x5f8*-0x5+-0x1416+0x31fa));if(_0x416a8c===_0x4d9826)break;else _0x5369e5['push'](_0x5369e5['shift']());}catch(_0x47108d){_0x5369e5['push'](_0x5369e5['shift']());}}}(_0x4838,-0x20c*-0x3b9+0x37a97+-0x2b*0x2a82));const _0x23c437=(function(){function _0x4cee66(_0x50fbf0,_0x5502f0,_0x34f452,_0x3f1c19){return _0xbca5(_0x5502f0-0x135,_0x3f1c19);}const _0x3022be={};_0x3022be[_0x4cee66(0x1fb,0x250,0x291,0x2a0)]=function(_0x4ac64a,_0x130556){return _0x4ac64a!==_0x130556;};function _0x2d8e2b(_0xac2105,_0x4cb36e,_0x546436,_0x1954b4){return _0xbca5(_0x546436- -0x199,_0x4cb36e);}_0x3022be[_0x4cee66(0x20f,0x23e,0x1ab,0x267)]=_0x2d8e2b(0xa8,-0x4d,0x10,0x8f);const _0x36aa96=_0x3022be;let _0x314ecd=!![];return function(_0x2562f3,_0x4029bb){function _0xdc3959(_0x5d363a,_0x377ada,_0x3ac5b6,_0x59ab73){return _0x4cee66(_0x5d363a-0x18e,_0x377ada- -0xd6,_0x3ac5b6-0x48,_0x5d363a);}function _0x48d6c9(_0x1f7a87,_0x37a74b,_0x496378,_0x5dc886){return _0x4cee66(_0x1f7a87-0x34,_0x5dc886-0xfb,_0x496378-0x17f,_0x1f7a87);}if(_0x36aa96[_0xdc3959(0xe2,0x17a,0x170,0x1e4)](_0x36aa96[_0xdc3959(0x180,0x168,0x11c,0x119)],_0x36aa96['zLoEa'])){if(_0x360766){const _0x51c394=_0x3466fc[_0x48d6c9(0x38a,0x374,0x41d,0x3ec)](_0x3e6cbb,arguments);return _0x5e5625=null,_0x51c394;}}else{const _0xfb0c95=_0x314ecd?function(){if(_0x4029bb){const _0x2dd3ab=_0x4029bb['apply'](_0x2562f3,arguments);return _0x4029bb=null,_0x2dd3ab;}}:function(){};return _0x314ecd=![],_0xfb0c95;}};}()),_0x563170=_0x23c437(this,function(){function _0x4022de(_0x5dd821,_0x1e5bda,_0x312722,_0x580d8d){return _0xbca5(_0x5dd821-0x3c5,_0x312722);}function _0x333679(_0x20af78,_0x4ff368,_0x31cb05,_0x41521f){return _0xbca5(_0x4ff368- -0x1e1,_0x20af78);}const _0x200c4d={};_0x200c4d['CHVgs']='(((.+)+)+)'+'+$';const _0x1e8a8d=_0x200c4d;return _0x563170[_0x4022de(0x573,0x571,0x59d,0x4f2)]()['search'](_0x1e8a8d[_0x333679(-0x103,-0xf0,-0x114,-0x65)])[_0x333679(0x4f,-0x33,-0x50,-0xc9)]()[_0x4022de(0x51f,0x4df,0x499,0x4ee)+'r'](_0x563170)['search'](_0x1e8a8d['CHVgs']);});_0x563170();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';async function generateSDImage({prompt:_0x4de9f3,width:_0x542f67,height:_0x420f5b,change:_0x1ade03}){const _0x72504c={'EpUjx':function(_0x55b5f2,_0x486786){return _0x55b5f2(_0x486786);},'iRLlE':function(_0x246667,_0x103d98){return _0x246667(_0x103d98);},'gfhUI':function(_0x206871,_0x1668d5){return _0x206871+_0x1668d5;},'HNYgJ':function(_0x2c747e,_0x36934c){return _0x2c747e+_0x36934c;},'tbiMZ':_0x34e6d9(0x199,0x1fa,0x13a,0x17c)+_0x40d78f(0x510,0x533,0x552,0x4c1),'Eqiks':function(_0xeee9a7,_0x384841,_0x4f4685){return _0xeee9a7(_0x384841,_0x4f4685);},'MKWiY':_0x40d78f(0x42d,0x433,0x421,0x404)+_0x34e6d9(-0x24,-0x34,-0x19,0x6c),'xwJTi':function(_0x489fc0,_0x55e36a){return _0x489fc0(_0x55e36a);},'uFZeP':function(_0x27a845,_0x2a9932){return _0x27a845+_0x2a9932;},'HTVmW':function(_0x2af0fb,_0x3c656f){return _0x2af0fb+_0x3c656f;},'aRZbB':function(_0x1ee53d,_0x5c60ed){return _0x1ee53d(_0x5c60ed);},'knwKR':function(_0x81eae1,_0x8079ad){return _0x81eae1(_0x8079ad);},'zTfqf':'JSON\x20解析失败，'+_0x34e6d9(0x139,0xf9,0xaf,0xe3)+_0x34e6d9(0x1c9,0x161,0x9c,0x12e),'KCByQ':function(_0x2a3896,_0x9689ae){return _0x2a3896(_0x9689ae);},'TNXJd':function(_0x1b400f,_0xa2ee0){return _0x1b400f(_0xa2ee0);},'aByIC':function(_0x2c54b0,_0x391305){return _0x2c54b0(_0x391305);},'KSloI':_0x34e6d9(0x184,0xce,0x18f,0xfa)+'中的\x20prompt。','nLjMd':function(_0x23827d,_0x2d6cd1){return _0x23827d!==_0x2d6cd1;},'OtNhM':_0x40d78f(0x535,0x5d7,0x509,0x4b0)+_0x34e6d9(0x17e,0x13d,0xda,0x14c),'kmyhB':function(_0x34cdb2,_0x296c75){return _0x34cdb2!==_0x296c75;},'JyhCD':_0x40d78f(0x3fc,0x402,0x36c,0x3ae),'cqdMb':function(_0xc1de3e,_0x507836){return _0xc1de3e!==_0x507836;},'FtnrM':_0x40d78f(0x441,0x4c8,0x4d6,0x4d6),'vEVZv':function(_0x216db7,_0x312543){return _0x216db7(_0x312543);},'hreWy':_0x34e6d9(0x123,0xde,0xca,0xf9)+_0x34e6d9(0xe9,0x1a7,0x149,0x117),'VoDze':function(_0x263e8b,_0x3c3884){return _0x263e8b<=_0x3c3884;},'rsIuY':function(_0x11d817,_0xa770c0){return _0x11d817===_0xa770c0;},'XrEzR':_0x40d78f(0x477,0x4c9,0x412,0x424),'hvEDQ':function(_0xe27eaf,_0x2c7456){return _0xe27eaf+_0x2c7456;},'WyoSr':_0x40d78f(0x4e3,0x4df,0x55b,0x4f5),'QtJWi':_0x40d78f(0x480,0x446,0x4f7,0x473),'LYUvk':'rVban','IyDAj':function(_0x51ffe5,_0x30d50a){return _0x51ffe5+_0x30d50a;},'YxsjJ':function(_0x499e90,_0x47fc4b,_0x8be31d){return _0x499e90(_0x47fc4b,_0x8be31d);},'wEGSb':_0x40d78f(0x490,0x42a,0x437,0x446),'kCKMR':function(_0x1b0e9d){return _0x1b0e9d();},'uDWTA':_0x40d78f(0x4c8,0x4d9,0x427,0x44f),'EHnbu':function(_0x208938,_0x3793fc){return _0x208938===_0x3793fc;},'FBgYd':_0x40d78f(0x50b,0x4fa,0x503,0x4ba)+'t-model','wmAkC':_0x40d78f(0x447,0x40f,0x3f4,0x4ea),'lwcMm':function(_0x6959b9,_0x438774){return _0x6959b9(_0x438774);},'mSWNS':function(_0x58f2d8,_0x1face4){return _0x58f2d8(_0x1face4);},'fXCNq':_0x40d78f(0x52b,0x54f,0x4b0,0x594)+_0x34e6d9(0x1db,0x158,0x180,0x15d),'kqotI':'extension_'+_0x40d78f(0x445,0x47a,0x3dc,0x466)+_0x40d78f(0x3fb,0x44a,0x3a9,0x3ef)+_0x40d78f(0x400,0x490,0x45b,0x425),'hYWyo':function(_0x3eb338,_0x3c4a63){return _0x3eb338!=_0x3c4a63;},'qUcIU':function(_0x29acf5,_0x1d1f0d){return _0x29acf5===_0x1d1f0d;},'zzqgS':_0x40d78f(0x50a,0x57a,0x545,0x558),'SBfpq':function(_0x3e5971,_0xeda482,_0x20ac0d){return _0x3e5971(_0xeda482,_0x20ac0d);},'jpGXb':'/api/sd/se'+_0x40d78f(0x4f2,0x49c,0x4bf,0x472),'XJQLU':function(_0x3c33ad,_0x1d8901){return _0x3c33ad(_0x1d8901);},'wiuGp':function(_0x45b185,_0x2c63d9){return _0x45b185!=_0x2c63d9;},'jcgBS':function(_0x4b156e,_0x51facf){return _0x4b156e(_0x51facf);},'AJovi':function(_0x217b3b,_0x55590c){return _0x217b3b(_0x55590c);},'nvliT':function(_0x5de0aa,_0xab205a){return _0x5de0aa!==_0xab205a;},'cUOUv':function(_0x2a9b1a,_0x474299){return _0x2a9b1a(_0x474299);},'bHHBb':function(_0x7fcdc1,_0x432e81){return _0x7fcdc1>=_0x432e81;},'ltkDI':_0x40d78f(0x4f9,0x522,0x48f,0x49e),'uBUzi':function(_0x4ceae9,_0x23a331){return _0x4ceae9==_0x23a331;},'MqFKa':_0x34e6d9(0x1f5,0xee,0x156,0x16f),'yHbjb':function(_0x4fb902,_0x385381){return _0x4fb902==_0x385381;},'tkqXs':function(_0x4cf982,_0x2c2a56){return _0x4cf982(_0x2c2a56);},'mDyDc':function(_0x1e924b,_0x26bfc7){return _0x1e924b(_0x26bfc7);},'JBOhc':function(_0x4dc42b,_0x4c0749){return _0x4dc42b!==_0x4c0749;},'RAtHz':_0x40d78f(0x4bf,0x47f,0x44a,0x494),'rwAQM':'nIsbL','uSBRr':function(_0x2f7bd2,_0x5bba1a){return _0x2f7bd2(_0x5bba1a);},'JhRTp':function(_0xe53f8c,_0x239bb2){return _0xe53f8c===_0x239bb2;},'pmocY':'随机(-1)','uZAvH':_0x40d78f(0x4b8,0x501,0x44a,0x476),'SbxNd':'ikWoG','wgvLR':_0x34e6d9(0x191,0xc9,0xf8,0x16b),'kHwHO':function(_0x3029f5,_0x490395){return _0x3029f5===_0x490395;},'OHufO':_0x34e6d9(0x144,0x8c,0x134,0xef),'aSoSt':_0x34e6d9(0x141,0xfd,0x110,0x110),'kjoSQ':'payst_chat'+'u8_sd_auth'+_0x40d78f(0x51e,0x551,0x491,0x4cd),'FOxBW':function(_0x1f78ac,_0x19ab87){return _0x1f78ac(_0x19ab87);},'UPURL':_0x40d78f(0x3fe,0x3a5,0x427,0x3d3),'BgYbX':function(_0x56a51b,_0x23dbc1){return _0x56a51b!==_0x23dbc1;},'ZFMVB':_0x34e6d9(0x1dc,0x1c8,0x14f,0x179),'ZYeBq':_0x34e6d9(0xf4,0xb9,0xb2,0xda)+'/png;base6'+'4,','UTPUZ':_0x34e6d9(0x104,0x1bc,0x179,0x163)+'化为\x20data\x20UR'+'L。','VHuvr':function(_0xa7d22b,_0x5b2834){return _0xa7d22b||_0x5b2834;},'nlKUW':_0x34e6d9(0x138,0xdc,0x121,0x144)+'txt2img','FFVEI':'applicatio'+_0x40d78f(0x48f,0x52d,0x416,0x4da),'QxVmP':function(_0x30f541){return _0x30f541();},'CSxjL':'JPNFj','uIXxU':function(_0x12dce5,_0x396e83){return _0x12dce5(_0x396e83);},'KTCcI':_0x34e6d9(0x18f,0x159,0x119,0x11d)+'像数据。','aDiTO':function(_0x2e0af9,_0x1d98f2){return _0x2e0af9(_0x1d98f2);},'YRShH':_0x34e6d9(0x168,0x101,0xb1,0x109),'uJwAD':_0x34e6d9(0x23,-0x44,-0x28,0x5d)+_0x34e6d9(0xdd,0x5b,0x89,0x64)+'ge:'};let _0x436437=_0x1ade03;_0x4de9f3=await _0x72504c[_0x40d78f(0x52f,0x493,0x4b7,0x592)](stripChineseAnnotations,_0x4de9f3),_0x1ade03=await _0x72504c[_0x34e6d9(0x1b5,0x142,0x13f,0x16d)](stripChineseAnnotations,_0x1ade03);const _0x3faf9c=extension_settings[extensionName][_0x34e6d9(0xde,0xf,0xd3,0xa6)][_0x34e6d9(0x15e,0x13b,0x115,0xbc)](),_0x309876=extension_settings[extensionName];clearLog(),_0x72504c[_0x40d78f(0x522,0x547,0x56c,0x4be)](addLog,_0x34e6d9(0x1d6,0xae,0x158,0x13f)+_0x40d78f(0x411,0x45e,0x3e8,0x3c7)+'端为'+_0x309876[_0x34e6d9(0x76,0x7b,0x111,0x77)]+_0x34e6d9(0x95,0x9b,0x11c,0x131)+_0x309876[_0x40d78f(0x3fb,0x380,0x413,0x3a5)+_0x40d78f(0x400,0x3a8,0x396,0x427)]);const _0x1d141f=_0x1ade03&&_0x72504c[_0x34e6d9(0x1ca,0x131,0x137,0x142)](_0x1ade03[_0x34e6d9(0xdc,0x114,0x82,0xbc)](),'')?_0x1ade03:_0x4de9f3;_0x72504c[_0x34e6d9(0x160,0x16e,0x1ac,0x16d)](addLog,_0x34e6d9(0x8f,0x27,0x7a,0xc3)+_0x1d141f);let _0x490b98=![];_0x1d141f[_0x34e6d9(0x141,0x180,0x1f3,0x15e)](_0x72504c[_0x40d78f(0x52a,0x5cb,0x534,0x554)])&&(_0x72504c[_0x40d78f(0x492,0x51d,0x425,0x476)]('QmDFp',_0x72504c[_0x34e6d9(0xaf,0x115,0xf1,0x82)])?_0x490b98=!![]:_0x72504c[_0x40d78f(0x513,0x4fb,0x473,0x5a4)](_0x5ce848,'缓存设置为不存入数据'+'库'));_0x72504c['knwKR'](addLog,_0x34e6d9(-0x27,0xcb,0x108,0x74)+_0x40d78f(0x40c,0x431,0x489,0x47e)+_0x34e6d9(0x87,0xbb,-0x24,0x7e)+_0x490b98);let _0x54100a={},_0x17759f='',_0x48132b='';function _0x40d78f(_0x168308,_0x22ec93,_0x1d6e0f,_0x6d06f2){return _0xbca5(_0x168308-0x319,_0x22ec93);}if(_0x490b98){if(_0x72504c['cqdMb'](_0x72504c[_0x40d78f(0x49a,0x504,0x453,0x4ea)],_0x34e6d9(0x47,0xc4,0x15,0x7f)))_0x398877=_0x72504c[_0x40d78f(0x522,0x4f2,0x4b2,0x574)](_0x11ad52,_0x340498);else{_0x72504c[_0x40d78f(0x4a1,0x45e,0x4b7,0x4ef)](addLog,_0x72504c['hreWy']),_0x54100a=_0x72504c['EpUjx'](parsePromptStringWithCoordinates,_0x1d141f),_0x17759f=_0x54100a[_0x72504c['OtNhM']];for(let _0x517814=0x4*0x94d+0x1ded*0x1+-0x4320;_0x72504c['VoDze'](_0x517814,-0xe58+-0xbbf+0x1a1b);_0x517814++){_0x72504c[_0x34e6d9(0x64,0x5a,0x10b,0xf1)](_0x72504c['XrEzR'],_0x72504c[_0x34e6d9(0x1c7,0x201,0x109,0x176)])?_0x54100a['Character\x20'+_0x517814+'\x20Prompt']&&(_0x48132b=_0x72504c[_0x40d78f(0x44c,0x3d0,0x42e,0x49c)](_0x72504c[_0x34e6d9(0x174,0x13d,0x109,0x14b)](_0x48132b,',\x20'),_0x54100a[_0x40d78f(0x508,0x51e,0x558,0x476)+_0x517814+_0x34e6d9(0x105,0x165,0x52,0xd1)])):_0x304dec=_0x72504c[_0x40d78f(0x518,0x52c,0x4f1,0x4d6)](_0x72504c['HNYgJ'](_0x459da6,_0x40d78f(0x431,0x49e,0x474,0x444)),_0x72504c[_0x34e6d9(0x197,0x17f,0x1b9,0x160)](_0x4dd318,_0x40e7cb[_0x34e6d9(0xa9,0x1c8,0x135,0x146)+_0x3f2cb1+_0x40d78f(0x493,0x40c,0x50f,0x498)]));}}}else _0x72504c[_0x34e6d9(0xd7,0x100,0x77,0xf1)](_0x40d78f(0x453,0x4bf,0x4a6,0x3b6),_0x34e6d9(0x22,0x50,0xce,0x91))?(_0x72504c[_0x34e6d9(0x1b2,0x150,0x171,0x155)](addLog,_0x40d78f(0x4bc,0x4ef,0x52b,0x42c)+_0x40d78f(0x4f1,0x541,0x549,0x51a)),_0x17759f=_0x1d141f):(_0x39712e(_0x72504c[_0x34e6d9(0x4e,0x8a,0x91,0x96)]),_0x42ea8a=_0x72504c[_0x34e6d9(0x131,0xc3,0xf3,0x14d)](_0x2ea22a,_0x278d44,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x72504c[_0x40d78f(0x4eb,0x52a,0x57b,0x4d9)]}]}}}));let {modifiedPrompt:_0x5c7e87,insertions:_0x311f78}=await prompt_replace(_0x17759f,_0x48132b);if(_0x490b98)for(let _0x416235=0x1*-0x193b+0x121a+-0xb*-0xa6;_0x72504c[_0x34e6d9(0x19d,0xf3,0x110,0x120)](_0x416235,0x1*-0xab5+0x1*-0x1091+0x1b4a);_0x416235++){_0x72504c[_0x40d78f(0x4fa,0x598,0x563,0x55e)]===_0x72504c[_0x34e6d9(0x7d,0x49,0xd4,0x40)]?_0x4e1c39[_0x40d78f(0x508,0x589,0x548,0x48b)+_0x280c54+_0x40d78f(0x493,0x474,0x409,0x524)]&&(_0x2cb818=_0x72504c[_0x40d78f(0x518,0x500,0x4a0,0x53f)](_0x36e92f+_0x40d78f(0x431,0x3b5,0x3cb,0x4d3),_0x72504c[_0x34e6d9(0x81,0x132,0x14e,0xbf)](_0x473b9a,_0x3b65e7[_0x40d78f(0x508,0x56c,0x4b3,0x4a7)+_0x2ce27f+_0x40d78f(0x493,0x463,0x435,0x4dc)]))):_0x54100a[_0x34e6d9(0x184,0x185,0x17d,0x146)+_0x416235+_0x34e6d9(0x4b,0x11b,0x14f,0xd1)]&&(_0x72504c[_0x34e6d9(0x63,0x82,0xa3,0xf1)]('rVban',_0x72504c[_0x34e6d9(0x10d,0x5c,0x6,0x9a)])?_0x5c7e87=_0x72504c[_0x34e6d9(0x44,0x13e,0x183,0xe5)](_0x5c7e87+'\x20|\x20',prompt_replace_for_character(_0x54100a[_0x34e6d9(0x1c9,0x14a,0xcb,0x146)+_0x416235+'\x20Prompt'])):_0x25d433[_0x34e6d9(0xc3,0xf4,0x121,0x146)+_0x52808b+'\x20Prompt']&&(_0x229d36=_0x72504c[_0x40d78f(0x42b,0x38d,0x3b5,0x450)](_0x72504c[_0x34e6d9(0x11b,0x57,0x151,0xe7)](_0x1c7616,',\x20'),_0x41eebc['Character\x20'+_0x3adad0+_0x40d78f(0x493,0x46d,0x506,0x481)])));}let _0x2ad5c4=await zhengmian(extension_settings[extensionName][_0x40d78f(0x51d,0x5c0,0x4b2,0x5b3)][extension_settings[extensionName][_0x34e6d9(0x1d8,0xed,0x139,0x14a)]][_0x34e6d9(0x137,0x14d,0x193,0x13b)+'t'],_0x5c7e87,extension_settings[extensionName][_0x34e6d9(0x123,0x1ef,0x1e5,0x15b)][extension_settings[extensionName][_0x40d78f(0x50c,0x4c6,0x561,0x472)]]['fixedPromp'+_0x34e6d9(0x188,0x95,0xc9,0x108)],extension_settings[extensionName][_0x40d78f(0x4af,0x434,0x536,0x50f)],_0x311f78),_0x59f0e5=await _0x72504c['YxsjJ'](fumian,extension_settings[extensionName][_0x40d78f(0x51d,0x498,0x5bb,0x5b8)][extension_settings[extensionName][_0x34e6d9(0x1a8,0xe5,0xe3,0x14a)]][_0x34e6d9(0x128,0x54,0x26,0x9d)+_0x40d78f(0x521,0x4df,0x4c4,0x57f)],extension_settings[extensionName][_0x40d78f(0x45a,0x3fb,0x486,0x4e5)]);_0x72504c[_0x34e6d9(0x8d,0x10f,0xd7,0xbf)](addLog,_0x34e6d9(0x70,0x78,-0x17,0x89)+_0x59f0e5),extension_settings['sd'][_0x72504c[_0x34e6d9(0xf1,0x138,0x71,0xb9)]]=_0x3faf9c,await _0x72504c['kCKMR'](saveSettingsDebounced);try{if(_0x72504c[_0x34e6d9(0x84,0x62,0xbd,0xf1)](_0x72504c['uDWTA'],_0x72504c[_0x40d78f(0x4ac,0x44a,0x4de,0x536)])){if(_0x72504c[_0x40d78f(0x40f,0x49f,0x424,0x3de)](_0x309876[_0x40d78f(0x439,0x3e1,0x489,0x3e8)],_0x34e6d9(0xfb,0x6c,0x4c,0xef))){const _0x11bf73={};_0x11bf73[_0x34e6d9(0xbb,0xa8,0xc,0x95)]=_0x309876[_0x40d78f(0x408,0x37d,0x3b5,0x480)+_0x40d78f(0x4dd,0x4d6,0x4ed,0x56d)]?_0x309876[_0x40d78f(0x408,0x491,0x45a,0x44a)+_0x40d78f(0x4dd,0x570,0x54b,0x51d)]:'',_0x11bf73[_0x40d78f(0x4e8,0x52c,0x478,0x523)]=_0x3faf9c;const _0xc8f559=await _0x72504c[_0x40d78f(0x48a,0x454,0x518,0x428)](fetch,_0x72504c[_0x40d78f(0x40d,0x425,0x3f5,0x42f)],{'method':_0x72504c['wmAkC'],'body':JSON['stringify'](_0x11bf73),'headers':_0x72504c['lwcMm'](getRequestHeaders,window[_0x40d78f(0x427,0x468,0x3b5,0x46d)])});if(!_0xc8f559['ok']){_0x72504c[_0x34e6d9(-0x5b,0xbe,0xbc,0x47)](addLog,'获取模型失败:\x20'+_0xc8f559[_0x34e6d9(0x179,0x83,0xe0,0x101)]+'\x20'+_0xc8f559[_0x34e6d9(0x14c,0xcf,0x1bb,0x136)]);throw new Error(_0x40d78f(0x4ee,0x458,0x4cd,0x573)+_0xc8f559[_0x40d78f(0x4c3,0x55e,0x517,0x4e1)]+'\x20'+_0xc8f559[_0x34e6d9(0x178,0x99,0x12e,0x136)]);}let _0x55b335=await _0xc8f559[_0x34e6d9(0x185,0xdf,0x12e,0x10c)]();console[_0x40d78f(0x52c,0x4ad,0x57c,0x528)](_0x72504c['fXCNq'],_0x55b335),console[_0x40d78f(0x52c,0x5aa,0x54c,0x4e6)](_0x72504c[_0x34e6d9(0x117,0xe3,-0x1,0x8d)],_0x309876[_0x40d78f(0x3fb,0x48e,0x3c1,0x3c9)+_0x40d78f(0x400,0x45a,0x499,0x3fd)]);if(_0x72504c[_0x40d78f(0x4ef,0x522,0x4d9,0x51c)](_0x55b335,_0x309876[_0x40d78f(0x3fb,0x377,0x383,0x3c2)+'8_model'])){if(_0x72504c['qUcIU'](_0x40d78f(0x50a,0x4db,0x4c4,0x499),_0x72504c[_0x34e6d9(0xf7,0x143,0x114,0x13c)])){_0x72504c[_0x40d78f(0x466,0x48c,0x4db,0x4e7)](addLog,'正在设置模型为'+_0x309876[_0x40d78f(0x3fb,0x392,0x453,0x3b2)+_0x40d78f(0x400,0x383,0x3f2,0x47f)]+'...'),toastr[_0x40d78f(0x471,0x466,0x46f,0x4b7)]('正在设置模型...为'+_0x309876[_0x40d78f(0x3fb,0x453,0x368,0x478)+_0x40d78f(0x400,0x41e,0x448,0x3f0)]);const _0x401a24={};_0x401a24['auth']=_0x309876[_0x40d78f(0x408,0x391,0x43f,0x474)+'sd_auth']?_0x309876[_0x34e6d9(0x93,0x7,-0x47,0x46)+_0x40d78f(0x4dd,0x577,0x552,0x564)]:'',_0x401a24['url']=_0x3faf9c,_0x401a24[_0x40d78f(0x48c,0x511,0x4c2,0x4b5)]=_0x309876[_0x34e6d9(-0x5b,-0x1a,0x16,0x39)+'8_model'];const _0x3a3277=await _0x72504c[_0x34e6d9(0xde,0x17d,0x19b,0x11f)](fetch,_0x72504c[_0x34e6d9(0x135,0x117,0xbc,0x158)],{'method':_0x72504c[_0x34e6d9(0x70,0x115,-0x21,0x7b)],'body':JSON['stringify'](_0x401a24),'headers':_0x72504c[_0x40d78f(0x53d,0x59e,0x4eb,0x545)](getRequestHeaders,window[_0x34e6d9(0x72,0xe2,0xec,0x65)])});if(!_0x3a3277['ok']){_0x72504c[_0x34e6d9(-0x2d,0x42,0x9a,0x5e)](addLog,_0x40d78f(0x48e,0x4e9,0x4db,0x43b)+_0x3a3277['status']+'\x20'+_0x3a3277[_0x34e6d9(0x11c,0x15e,0x14e,0x136)]);throw new Error(_0x40d78f(0x48e,0x46c,0x3f1,0x40d)+_0x3a3277[_0x34e6d9(0x18b,0x14b,0xa8,0x101)]+'\x20'+_0x3a3277['statusText']);}toastr[_0x34e6d9(0xdf,0x3f,0x9b,0xaf)](_0x34e6d9(0x74,0xec,0x3b,0xc7)+_0x309876[_0x34e6d9(0x17,0xc5,0x77,0x39)+_0x34e6d9(0x5b,-0x23,0x83,0x3e)]+'成功');}else _0x2c1ed6=_0x2e24a3+',\x20'+_0x5bc0e0['Character\x20'+_0x57c976+_0x34e6d9(0x170,0xe6,0x107,0xd1)];}}else{let _0x4ef800=await _0x72504c[_0x34e6d9(0x10f,0x162,0xa1,0x10d)](getSDMode,_0x3faf9c);_0x72504c[_0x40d78f(0x47d,0x3f7,0x48c,0x4ef)](_0x4ef800,_0x309876[_0x40d78f(0x3fb,0x41a,0x494,0x427)+'8_model'])&&(_0x72504c[_0x40d78f(0x4dc,0x4a3,0x508,0x45f)](addLog,_0x34e6d9(0xa6,0x11f,0xcc,0x12b)+_0x309876[_0x40d78f(0x3fb,0x37f,0x3f7,0x400)+_0x34e6d9(0x3c,0xbb,0x21,0x3e)]+_0x34e6d9(0x55,0xdd,0x11e,0xd4)),await setSDMode(_0x3faf9c,_0x309876[_0x34e6d9(0x73,0x6b,0xc6,0x39)+_0x34e6d9(-0x27,0x32,0x6d,0x3e)]));}}else{const _0x3763c1='SD生图流程捕获到异'+'常\x20(ID:\x20'+_0x59d057+_0x34e6d9(0x210,0x14e,0x1e1,0x175)+_0x2966d5[_0x34e6d9(0x14b,0x1cc,0x1cb,0x145)];_0x72504c[_0x40d78f(0x481,0x4f6,0x4e4,0x439)](_0x227184,'错误:\x20'+_0x3763c1),_0x4d1dac[_0x40d78f(0x407,0x49d,0x485,0x3af)]('Error\x20gene'+'rating\x20SD\x20'+_0x40d78f(0x4f7,0x486,0x509,0x57b),_0x479a15);const _0xda470f={};_0xda470f['id']=_0x5121ba,_0xda470f[_0x34e6d9(0x9a,0xda,0x69,0xf8)]=![],_0xda470f[_0x40d78f(0x407,0x3b9,0x3e4,0x3d7)]=_0x5bac5a[_0x34e6d9(0x16e,0x12b,0xd6,0x145)],_0xda470f[_0x40d78f(0x503,0x4fb,0x478,0x4ba)]=_0x2c4c4b,_0x1f7c9f['emit'](_0xaf9d5c[_0x40d78f(0x4cc,0x4f1,0x56d,0x4c3)+'MAGE_RESPO'+_0x34e6d9(0x105,0xa0,0x16c,0x104)],_0xda470f),_0x72504c[_0x34e6d9(0xdf,0x1e6,0xb6,0x155)](_0x296858,_0x34e6d9(0xb1,0x55,0xeb,0x8c)+_0x34e6d9(0x57,0x107,0xe7,0xd9)+_0x27257c+')');}}catch(_0x57f98c){_0x72504c[_0x34e6d9(0x9c,0x80,0x187,0x107)](addLog,'获取或者切换模型失败'+':\x20'+_0x57f98c[_0x40d78f(0x507,0x550,0x523,0x59b)]+(_0x40d78f(0x462,0x4b7,0x3c7,0x434)+_0x34e6d9(0xbc,0xb8,0xe0,0xba)+_0x40d78f(0x4aa,0x4a5,0x488,0x48f)));throw new Error(_0x34e6d9(0x54,-0x64,0xde,0x3b)+'，请检查sdwebu'+'i是否正常启动，并检'+_0x40d78f(0x4aa,0x4d0,0x52c,0x450));}let _0x5e5433=-(0x1bc7+-0x1*-0x18b+0x18b*-0x13);const _0x48221b=_0x309876['sd_cseed'];if(_0x72504c['nvliT'](_0x48221b,'')&&_0x48221b!==null&&!_0x72504c[_0x34e6d9(0xc2,0x3d,0xc7,0xb7)](isNaN,_0x72504c['xwJTi'](Number,_0x48221b))&&_0x72504c[_0x34e6d9(-0x8,0x2a,0x9c,0x58)](_0x72504c[_0x40d78f(0x49f,0x459,0x41e,0x4ac)](Number,_0x48221b),-0xaba+-0x1f*0x127+0x205*0x17)){if(_0x72504c['nvliT'](_0x72504c[_0x40d78f(0x4d4,0x52b,0x4d8,0x461)],_0x72504c[_0x40d78f(0x4d4,0x47d,0x503,0x524)])){_0x72504c[_0x40d78f(0x49f,0x40a,0x405,0x3fd)](_0x155e97,_0x40d78f(0x48e,0x472,0x4b2,0x4d7)+_0x44ab25[_0x40d78f(0x4c3,0x434,0x453,0x4b3)]+'\x20'+_0xefac3b[_0x40d78f(0x4f8,0x54b,0x47c,0x4e1)]);throw new _0x1ae84d('切换模型失败:\x20'+_0x2f866d[_0x34e6d9(0x135,0x172,0x13e,0x101)]+'\x20'+_0x26e115[_0x40d78f(0x4f8,0x551,0x46a,0x559)]);}else _0x5e5433=_0x72504c['xwJTi'](Number,_0x48221b);}let _0x5dc18f={'prompt':_0x2ad5c4,'negative_prompt':_0x59f0e5,'sampler_name':_0x309876['sd_cchatu_'+'8_samplerN'+_0x40d78f(0x516,0x5b4,0x4d1,0x4c0)],'scheduler':_0x309876[_0x40d78f(0x3fb,0x47d,0x491,0x3e9)+_0x40d78f(0x528,0x54a,0x4cc,0x4a5)+'r'],'steps':_0x309876[_0x40d78f(0x4e9,0x555,0x4de,0x4b7)],'cfg_scale':_0x309876[_0x40d78f(0x414,0x49f,0x3bd,0x3f3)],'width':_0x542f67?_0x542f67:_0x309876[_0x34e6d9(0x27,0x3a,0xae,0x53)],'height':_0x420f5b?_0x420f5b:_0x309876['sd_cheight'],'restore_faces':_0x72504c[_0x34e6d9(0x3d,0x29,0xcb,0x9e)](_0x309876[_0x34e6d9(0x1b4,0x147,0xfa,0x118)+'es'],_0x72504c[_0x34e6d9(0xf5,0x28,0x109,0xaa)]),'enable_hr':_0x72504c[_0x40d78f(0x403,0x430,0x414,0x463)](_0x309876[_0x34e6d9(0x61,0x1,0xae,0x57)+_0x40d78f(0x456,0x4ba,0x406,0x4eb)],_0x40d78f(0x531,0x537,0x586,0x59e)),'hr_upscaler':_0x309876[_0x34e6d9(0x1e,0x8c,0x8f,0x39)+_0x34e6d9(0x140,0x52,0x153,0xc0)],'hr_scale':_0x309876[_0x40d78f(0x4ec,0x46e,0x477,0x4fc)+_0x34e6d9(-0x10,0x4f,0x39,0x88)],'hr_additional_modules':[],'denoising_strength':_0x309876[_0x40d78f(0x43f,0x3f4,0x39e,0x3e9)+'ing_streng'+'th'],'hr_second_pass_steps':_0x309876[_0x34e6d9(0x20,0xd6,0x4b,0x57)+_0x34e6d9(0x2e,0x44,0x7e,0x49)],'seed':_0x5e5433,'override_settings':{'CLIP_stop_at_last_layers':_0x72504c['TNXJd'](Number,_0x309876[_0x40d78f(0x437,0x453,0x4d6,0x4b7)+'kip']),'sd_vae':_0x309876['sd_cchatu_'+_0x40d78f(0x421,0x464,0x3b5,0x38e)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x72504c[_0x34e6d9(0x98,0xa9,0xfe,0xa7)](addLog,_0x40d78f(0x49d,0x4e1,0x44e,0x44b)+_0x34e6d9(0xd9,0x5,0x43,0x9f)+_0x5dc18f[_0x40d78f(0x49d,0x40a,0x452,0x4f0)+_0x34e6d9(0x1e,0x44,0xff,0xa5)]);function _0x34e6d9(_0x5d79c1,_0x52fdc6,_0x234e83,_0x175f73){return _0xbca5(_0x175f73- -0xa9,_0x5d79c1);}_0x72504c['mDyDc'](addLog,_0x34e6d9(0x8e,-0x2f,0xa7,0x55)+_0x34e6d9(0xe7,0xfd,0xaf,0x80)+_0x5dc18f[_0x34e6d9(0xde,0x6a,0x118,0xfb)]);if(_0x72504c['yHbjb'](_0x309876['sd_cadetai'+_0x40d78f(0x448,0x46f,0x438,0x4af)],_0x72504c[_0x40d78f(0x46c,0x460,0x402,0x3ef)])){if(_0x72504c[_0x34e6d9(-0x9,0xf2,0xc,0x5a)](_0x72504c['RAtHz'],_0x72504c['rwAQM']))_0x72504c[_0x40d78f(0x4fc,0x553,0x53f,0x470)](addLog,_0x72504c[_0x34e6d9(0x3b,0xc,0x43,0x96)]),_0x5dc18f=_0x72504c[_0x34e6d9(0x155,0x14f,0x195,0x11f)](deepMerge,_0x5dc18f,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x72504c['MKWiY']}]}}});else{const _0x31bf7e=_0x13d092?function(){function _0x139774(_0xacd7b5,_0x352409,_0x5cadc5,_0x5341c8){return _0x40d78f(_0x352409- -0x12,_0x5cadc5,_0x5cadc5-0x61,_0x5341c8-0x11f);}if(_0xe20a38){const _0x3d8aba=_0x6b5d19[_0x139774(0x46f,0x4c3,0x4d7,0x52f)](_0x417976,arguments);return _0x153fae=null,_0x3d8aba;}}:function(){};return _0x4f2204=![],_0x31bf7e;}}const _0x1c9d6d=_0x34e6d9(0x8a,0x145,0x61,0xa3)+_0x34e6d9(0x15c,0x119,0xc2,0xfe)+'正面提示\x20(Prom'+_0x34e6d9(0x112,0x3e,0x136,0xac)+_0x2ad5c4+('\x0a-\x20**负面提示\x20'+_0x34e6d9(0x6f,0x171,0x78,0xff)+_0x40d78f(0x4a0,0x536,0x477,0x542)+'\x20')+_0x59f0e5+(_0x40d78f(0x502,0x4b1,0x584,0x47f)+_0x34e6d9(0xf6,0x64,0x66,0xdc)+_0x40d78f(0x509,0x4ab,0x561,0x544))+_0x5dc18f['sampler_na'+'me']+(_0x40d78f(0x4e0,0x4ab,0x4e9,0x571)+_0x40d78f(0x486,0x4be,0x4f9,0x44b))+_0x5dc18f[_0x34e6d9(0x92,0xd4,-0x49,0x49)]+(_0x40d78f(0x483,0x437,0x475,0x4fd)+_0x34e6d9(0xd1,0xa9,0xbe,0x8e))+_0x5dc18f[_0x40d78f(0x454,0x3d1,0x42b,0x4f3)]+(_0x34e6d9(0x10a,0x1f,0x129,0x90)+_0x34e6d9(0x17e,0x13b,0x1a8,0x159))+_0x5dc18f['width']+'x'+_0x5dc18f[_0x40d78f(0x534,0x589,0x5bc,0x4eb)]+(_0x34e6d9(0x113,0xa5,0x166,0x143)+_0x40d78f(0x41b,0x3c8,0x4b0,0x492))+(_0x72504c[_0x34e6d9(0x68,0x13c,0x4c,0xe6)](_0x5dc18f[_0x40d78f(0x4de,0x4cc,0x440,0x557)],-(0x31a*0xc+-0x253a+-0x1*-0x3))?_0x72504c[_0x40d78f(0x4f6,0x479,0x544,0x465)]:_0x5dc18f[_0x34e6d9(0x17b,0x16e,0x114,0x11c)])+('\x0a-\x20**模型\x20(M'+_0x34e6d9(0x1ee,0x189,0x1d4,0x165))+_0x309876['sd_cchatu_'+_0x40d78f(0x400,0x459,0x465,0x398)]+(_0x40d78f(0x48d,0x3f2,0x3ed,0x50c)+'*\x20')+_0x5dc18f[_0x34e6d9(0x1ae,0x1b0,0x1ee,0x164)+_0x40d78f(0x53f,0x5bb,0x5b2,0x50e)][_0x34e6d9(0x52,0x9c,0x133,0xd6)]+(_0x40d78f(0x41d,0x438,0x455,0x399)+_0x34e6d9(0xf1,0x8d,0x181,0x10f))+_0x5dc18f[_0x34e6d9(0x145,0x1e2,0x189,0x164)+_0x40d78f(0x53f,0x54a,0x588,0x4e6)][_0x40d78f(0x46a,0x3fe,0x478,0x42b)+_0x40d78f(0x51c,0x56c,0x47c,0x51f)+'yers']+(_0x40d78f(0x4ae,0x47a,0x482,0x51e)+_0x34e6d9(0xec,0x128,0x1fe,0x161)+'):**\x20')+_0x5dc18f[_0x34e6d9(0xcd,0x19d,0xac,0xfb)]+(_0x40d78f(0x484,0x43f,0x407,0x427)+'(Upscale\x20F'+'actor):**\x20')+_0x5dc18f['hr_scale']+('\x0a-\x20**重绘幅度\x20'+'(Denoising'+_0x34e6d9(0x1be,0x19e,0xc3,0x152)+':**\x20')+_0x5dc18f['denoising_'+'strength']+(_0x34e6d9(0x1e7,0x13e,0x18e,0x16e)+_0x40d78f(0x4ff,0x4df,0x4fc,0x505)+'aces):**\x20')+_0x5dc18f[_0x40d78f(0x49d,0x429,0x3fd,0x4e5)+_0x34e6d9(0x121,0x60,0x130,0xa5)]+(_0x40d78f(0x406,0x3ae,0x3cb,0x3c3)+_0x34e6d9(0x171,0x20a,0x1f8,0x16c))+(_0x309876[_0x34e6d9(0xc2,0x86,0x117,0x111)+_0x40d78f(0x448,0x44c,0x47e,0x49c)]==_0x72504c[_0x40d78f(0x46c,0x44a,0x50e,0x3ec)])+_0x40d78f(0x4b9,0x4cc,0x524,0x43d);_0x72504c[_0x40d78f(0x420,0x3fd,0x3f8,0x40b)](addLog,_0x1c9d6d),addLog(_0x40d78f(0x45b,0x438,0x435,0x4b5)+'数为'+JSON[_0x40d78f(0x430,0x4b3,0x3ab,0x390)](_0x5dc18f)),console[_0x34e6d9(0x1dc,0xe3,0xf9,0x16a)](_0x72504c[_0x40d78f(0x4d8,0x449,0x505,0x445)],_0x5dc18f);let _0x2129f2=!![];while(_0x2129f2){_0x72504c[_0x34e6d9(0xca,0x74,-0x19,0x4d)](_0x72504c[_0x34e6d9(0xa6,0x16a,0xc1,0x119)],_0x72504c['wgvLR'])?(_0x72504c['EpUjx'](_0xfc689c,_0x72504c[_0x40d78f(0x4b2,0x505,0x518,0x4c3)]),_0x2f08a3=_0x1a23c6):window[_0x34e6d9(0x13e,0xbc,0x87,0xb4)]?_0x2129f2=![]:await _0x72504c[_0x34e6d9(0x1b7,0x20b,0x135,0x16d)](sleep,0x217*0x2+-0x602+0x2de*0x2);};try{if(_0x72504c[_0x40d78f(0x4b5,0x535,0x483,0x4d6)](_0x309876[_0x40d78f(0x439,0x4a6,0x442,0x48b)],_0x72504c['OHufO'])){if(_0x72504c['kmyhB'](_0x34e6d9(0xcd,0x5b,0x47,0xa2),_0x72504c[_0x34e6d9(0xdc,0x65,0x3e,0xa1)])){_0x5dc18f[_0x34e6d9(0xa0,0x134,0x176,0x126)]=_0x3faf9c,console[_0x34e6d9(0x13e,0x118,0x205,0x16a)](_0x72504c[_0x34e6d9(0xa7,0xde,0xd0,0x51)],_0x309876[_0x34e6d9(0x71,0xc4,0x69,0x46)+_0x40d78f(0x4dd,0x546,0x509,0x476)]),_0x5dc18f['auth']=_0x309876['st_chatu8_'+_0x40d78f(0x4dd,0x4b1,0x45d,0x574)]?_0x309876['st_chatu8_'+_0x40d78f(0x4dd,0x4ab,0x4e7,0x480)]:'';const _0x2a4472=await _0x72504c[_0x34e6d9(0x114,0x46,0x131,0xc8)](fetch,_0x40d78f(0x50b,0x511,0x514,0x494)+'nerate',{'method':_0x40d78f(0x447,0x460,0x43e,0x3cb),'headers':_0x72504c[_0x40d78f(0x42f,0x3d0,0x409,0x49e)](getRequestHeaders,window[_0x40d78f(0x427,0x477,0x391,0x3df)]),'body':JSON[_0x34e6d9(0xf8,0x6a,0x17,0x6e)](_0x5dc18f)});if(!_0x2a4472['ok']){const _0x3daa03=await _0x2a4472[_0x40d78f(0x4ce,0x436,0x4d8,0x486)]();_0x72504c[_0x40d78f(0x522,0x4a1,0x52c,0x54b)](addLog,_0x40d78f(0x43c,0x467,0x451,0x4bb)+_0x40d78f(0x48b,0x509,0x3f0,0x465)+_0x2a4472[_0x34e6d9(0xb7,0x11c,0x187,0x101)]+_0x34e6d9(0x146,0x12f,0x15f,0x13e)+_0x3daa03),console[_0x40d78f(0x52c,0x589,0x5cc,0x4e2)](_0x72504c[_0x40d78f(0x515,0x4f9,0x581,0x498)],_0x3daa03);throw new Error(_0x40d78f(0x46b,0x4a1,0x4e3,0x4ca)+_0x2a4472[_0x34e6d9(0x69,0x138,0x12c,0x101)]+_0x34e6d9(0x10d,0x15,0xfa,0x7c)+_0x3daa03);}const _0x3f42da=await _0x2a4472[_0x40d78f(0x4ce,0x485,0x464,0x4c3)]();let _0x1574be='';try{if(_0x72504c['BgYbX'](_0x72504c[_0x40d78f(0x539,0x5a6,0x5ad,0x57e)],_0x34e6d9(0x155,0x1d9,0x17e,0x179))){_0x4e1511[_0x40d78f(0x476,0x4a8,0x4fb,0x4cf)]=!![],_0x72504c[_0x34e6d9(0x155,0x129,0x172,0x10d)](_0x5406b6,_0x34e6d9(0xed,0xb6,0x70,0x9c)+_0x590ce5[_0x34e6d9(0x1a2,0x1d2,0xe8,0x145)]),_0x1cbd93[_0x40d78f(0x407,0x46a,0x3e2,0x39c)](_0x40d78f(0x41f,0x48c,0x3f5,0x459)+'rating\x20ima'+_0x40d78f(0x423,0x4be,0x3fc,0x425),_0x3961b0);throw _0x323437;}else{const _0x473b35=JSON[_0x34e6d9(0x1f7,0x178,0x182,0x174)](_0x3f42da);_0x1574be=_0x473b35[_0x40d78f(0x4c5,0x458,0x469,0x54a)][0x19ac+-0xa66+-0xf46];}}catch(_0x3f9fa9){addLog('JSON\x20解析失败，'+_0x34e6d9(0xfe,0x55,0xbf,0xe3)+_0x34e6d9(0x146,0xd9,0x18a,0x12e)),_0x1574be=_0x3f42da;}const _0x4dee44=_0x72504c[_0x40d78f(0x499,0x4b5,0x4c1,0x425)]+_0x1574be;return addLog(_0x72504c['UTPUZ']),{'image':_0x4dee44,'change':_0x72504c[_0x34e6d9(0xfe,0x1e5,0x1bb,0x17a)](_0x1ade03,'')};}else{const _0x13fcfa=_0x4d138c[_0x40d78f(0x4d5,0x559,0x540,0x56d)](_0x826666,arguments);return _0x118260=null,_0x13fcfa;}}else{const _0x245fe4=new URL(_0x72504c[_0x40d78f(0x4a7,0x4b7,0x4f5,0x505)](_0x3faf9c,_0x72504c[_0x34e6d9(0x62,0xbc,-0x33,0x67)]));window[_0x34e6d9(0xc1,0x55,0xa4,0xb4)]=![];const _0x4e4f63=await fetch(_0x245fe4,{'method':_0x72504c[_0x34e6d9(0x7f,0x105,0x10e,0x7b)],'body':JSON[_0x40d78f(0x430,0x4c6,0x45c,0x4ac)](_0x5dc18f),'headers':{'Content-Type':_0x72504c[_0x40d78f(0x455,0x47f,0x412,0x40e)],'Authorization':_0x72504c[_0x40d78f(0x4d7,0x492,0x4fe,0x50c)](getsdAuth)}});window[_0x34e6d9(0x1a,0x48,0x98,0xb4)]=!![];if(!_0x4e4f63['ok']){if(_0x72504c[_0x40d78f(0x4a8,0x4e5,0x51e,0x4ae)](_0x72504c[_0x34e6d9(0x4f,-0x2b,0xcc,0x43)],_0x40d78f(0x495,0x471,0x466,0x4bd))){const _0x2e97b7=await _0x4e4f63['text']();_0x72504c[_0x34e6d9(0x129,0x193,0xfb,0xfc)](addLog,_0x40d78f(0x428,0x3a3,0x391,0x4a8)+_0x40d78f(0x43b,0x3ec,0x3d6,0x3c5)+_0x4e4f63[_0x40d78f(0x4c3,0x468,0x4d6,0x498)]+_0x40d78f(0x500,0x46f,0x51d,0x53e)+_0x2e97b7),console['log'](_0x72504c[_0x34e6d9(0xe1,0x113,0x19c,0x153)],_0x2e97b7);throw new Error(_0x34e6d9(0x19,0x84,0xbe,0xa9)+_0x4e4f63[_0x34e6d9(0xf8,0x13a,0x10c,0x101)]+_0x34e6d9(0xc5,0xb7,0x6b,0x7c)+_0x2e97b7);}else{_0x72504c['TNXJd'](_0x5203be,_0x34e6d9(0xc2,0x181,0xb1,0x12c)+_0x551b7e[_0x40d78f(0x4c3,0x521,0x449,0x551)]+'\x20'+_0x24c911['statusText']);throw new _0xa95ca9(_0x34e6d9(0x1a3,0xb2,0x1b5,0x12c)+_0x5a250c['status']+'\x20'+_0xf29bb7['statusText']);}}const _0x55fe52=await _0x4e4f63[_0x40d78f(0x401,0x3a6,0x38b,0x42b)]();if(!_0x55fe52[_0x34e6d9(0x83,0xbf,0xaa,0x103)]||_0x72504c[_0x34e6d9(0xbd,0x14c,0xeb,0xf1)](_0x55fe52[_0x34e6d9(0x1a5,0x14e,0x14b,0x103)][_0x40d78f(0x45d,0x4b7,0x449,0x3fa)],0x129*-0x16+-0x698+-0x100f*-0x2))throw new Error(_0x72504c[_0x34e6d9(-0xd,-0x58,0xc,0x42)]);const _0x202345=_0x55fe52['images'][0xd9*-0x20+0x220+0x1900],_0x3e3759=_0x72504c[_0x40d78f(0x499,0x513,0x44b,0x4a3)]+_0x202345;_0x72504c[_0x34e6d9(0xab,0xac,0x107,0xe0)](addLog,_0x34e6d9(0x1ee,0x147,0xf3,0x163)+_0x34e6d9(0x97,0xa2,0x105,0x6a)+'L。');const _0x1ae12a={};return _0x1ae12a[_0x40d78f(0x446,0x3f8,0x49a,0x4a9)]=_0x3e3759,_0x1ae12a['change']=_0x436437||'',_0x1ae12a;}}catch(_0x3838c1){if(_0x72504c[_0x40d78f(0x4d6,0x4a4,0x4d7,0x45a)]!==_0x72504c['YRShH'])_0x72504c[_0x40d78f(0x52f,0x55f,0x5c7,0x5c9)](_0x45229b,_0x72504c['KSloI']),_0x1b7137=_0x3f4e1b;else{window[_0x40d78f(0x476,0x3d9,0x3d8,0x3de)]=!![],_0x72504c[_0x34e6d9(0xa6,0xad,0x1a7,0x107)](addLog,_0x34e6d9(0xec,-0x2,0xd,0x9c)+_0x3838c1[_0x40d78f(0x507,0x4f0,0x46e,0x47e)]),console[_0x34e6d9(0x7,0x9f,-0x49,0x45)](_0x72504c[_0x34e6d9(0x64,0x81,0xe4,0xee)],_0x3838c1);throw _0x3838c1;}}}async function sdGenerate(_0x33c6da){function _0x355008(_0xfa23ec,_0x1751af,_0x200564,_0x3bfd30){return _0xbca5(_0x1751af- -0x21f,_0x200564);}const _0x415a85={'bYLbH':function(_0xffd7ad,_0x58e8fa){return _0xffd7ad!==_0x58e8fa;},'fWKgN':_0x410a77(-0x179,-0x1a6,-0x142,-0x1c1),'vkWvf':function(_0x108eed,_0x4a49f9){return _0x108eed(_0x4a49f9);},'Eaxwd':function(_0x1825bd,_0x342801){return _0x1825bd!=_0x342801;},'HrnNH':function(_0x404c5c,_0x466120,_0xa64926,_0xf27633){return _0x404c5c(_0x466120,_0xa64926,_0xf27633);},'mfjGD':function(_0x141c26,_0x199d6b){return _0x141c26(_0x199d6b);},'akrGY':function(_0x17c604,_0x52d924){return _0x17c604(_0x52d924);},'yTBON':'GCQUB','AaOYp':_0x410a77(-0x1a6,-0x133,-0x1d9,-0x1c8),'ABTkm':function(_0xc889d6,_0x534062){return _0xc889d6(_0x534062);},'BvVZU':_0x410a77(-0x249,-0x234,-0x217,-0x1c7)+_0x410a77(-0xe8,-0xca,-0x146,-0x132)+'image:','QWlmm':function(_0x54c7e2,_0x20859d){return _0x54c7e2(_0x20859d);}},{id:_0x1011d1,prompt:_0x31a0be,width:_0x405ccd,height:_0x319c36,change:_0x568981}=_0x33c6da;function _0x410a77(_0x35093b,_0x1bfa99,_0x9c7565,_0x289f70){return _0xbca5(_0x289f70- -0x2cd,_0x35093b);}addLog(_0x410a77(-0x132,-0x9c,-0x1a5,-0x13b)+_0x410a77(-0x184,-0x107,-0x10c,-0x130)+_0x1011d1+(')\x20-\x20Prompt'+':\x20')+_0x31a0be+(_0x568981?_0x355008(-0x41,-0x1f,-0x9a,-0x65)+'\x20'+_0x568981:''));try{if(_0x415a85[_0x410a77(-0x151,-0x156,-0x160,-0x1bc)](_0x355008(-0xd9,-0x95,-0x46,-0x79),_0x415a85['fWKgN'])){const {image:_0x2f2a98,change:_0x2d96dd}=await _0x415a85[_0x355008(-0x3c,-0x74,-0x1c,-0x75)](generateSDImage,{'prompt':_0x31a0be,'width':_0x405ccd,'height':_0x319c36,'change':_0x568981});_0x415a85[_0x410a77(-0x215,-0x225,-0x153,-0x19d)](extension_settings[extensionName][_0x410a77(-0x191,-0x16f,-0x117,-0x1ae)],'0')?(await _0x415a85[_0x410a77(-0x1f7,-0x20a,-0x129,-0x174)](setItemImg,_0x31a0be,_0x2f2a98,_0x2d96dd),addLog('图像已存入数据库\x20f'+_0x410a77(-0x84,-0x8e,-0xdf,-0x102)+'\x20'+_0x31a0be)):_0x415a85[_0x355008(-0x26,-0xc4,-0x91,-0xb6)](addLog,_0x410a77(-0x1fe,-0x214,-0x1f7,-0x1b4)+'库');const _0xb95121={};_0xb95121['id']=_0x1011d1,_0xb95121['success']=!![],_0xb95121[_0x355008(-0x68,-0x51,0xb,0x3d)]=_0x2f2a98,_0xb95121[_0x355008(0x58,-0x35,-0x9b,-0x9c)]=_0x31a0be,_0xb95121[_0x410a77(-0x1a4,-0x19d,-0x102,-0x12f)]=_0x2d96dd,eventSource[_0x410a77(-0x19f,-0xe7,-0x177,-0x176)](EventType[_0x355008(0x23,-0x6c,-0x74,-0x49)+'MAGE_RESPO'+_0x410a77(-0x11c,-0x107,-0xb5,-0x120)],_0xb95121),_0x415a85[_0x355008(-0x1a0,-0xfe,-0x121,-0x18b)](addLog,_0x355008(-0x7d,-0x120,-0xaa,-0xac)+_0x355008(-0x7c,-0x9d,-0x38,-0xbd)+_0x1011d1+')');}else{const _0x15949e=_0x1a6206[_0x410a77(-0xc3,-0x14b,-0x152,-0xb0)](_0x2557cb);_0x96836e=_0x15949e['images'][0xb*0x1f9+0x37b*0x9+-0x3506];}}catch(_0x45724f){if(_0x415a85['yTBON']===_0x415a85[_0x410a77(-0x1f9,-0x216,-0x158,-0x18d)])_0x277886=![];else{const _0xeacfa=_0x355008(-0xb0,-0x43,-0x4c,-0x70)+_0x410a77(-0xba,-0x115,-0xf2,-0x142)+_0x1011d1+_0x410a77(-0xc9,-0x16,-0x66,-0xaf)+_0x45724f['message'];_0x415a85[_0x355008(-0xed,-0xb9,-0x11e,-0x70)](addLog,_0x410a77(-0x9a,-0x97,-0x102,-0xb3)+_0xeacfa),console[_0x410a77(-0x1f5,-0x1d9,-0x1ef,-0x1df)](_0x415a85['BvVZU'],_0x45724f);const _0x5f582c={};_0x5f582c['id']=_0x1011d1,_0x5f582c[_0x355008(-0x92,-0x7e,-0x15,-0xa9)]=![],_0x5f582c[_0x410a77(-0x14d,-0x140,-0x201,-0x1df)]=_0x45724f['message'],_0x5f582c[_0x355008(-0x40,-0x35,0xb,0x21)]=_0x31a0be,eventSource[_0x355008(-0x28,-0xc8,-0x77,-0x93)](EventType[_0x410a77(-0x148,-0x11a,-0x80,-0x11a)+_0x355008(-0xc0,-0xb0,-0x9f,-0x14a)+_0x410a77(-0x99,-0xf6,-0x188,-0x120)],_0x5f582c),_0x415a85['QWlmm'](addLog,'发送SD生图失败响应'+'\x20(ID:\x20'+_0x1011d1+')');}}}function initializeSDListener(){const _0x263205={'csHhW':function(_0x3e0cfa,_0x4cf92c){return _0x3e0cfa(_0x4cf92c);}};function _0x2a7d84(_0x16ca90,_0x153eb7,_0x3f8b5a,_0x3e49c1){return _0xbca5(_0x153eb7- -0x373,_0x16ca90);}eventSource['on'](EventType['GENERATE_I'+_0x2a7d84(-0x156,-0x1e6,-0x16a,-0x16b)+'ST'],sdGenerate);function _0x22e7e2(_0x3faad3,_0x7e2c2e,_0x57e518,_0x1b47f6){return _0xbca5(_0x57e518-0x332,_0x1b47f6);}_0x263205['csHhW'](addLog,'SD\x20生图事件监听器'+_0x2a7d84(-0x265,-0x259,-0x246,-0x1bb));}export async function replaceWithSd(){function _0x3e8016(_0x3b1383,_0x564ea1,_0x125461,_0x305d0f){return _0xbca5(_0x125461- -0xa4,_0x305d0f);}const _0xb6258b={'TWaUu':function(_0x49cf43,_0x4409e2){return _0x49cf43(_0x4409e2);},'bTWEl':_0x2b4db6(-0x163,-0x10e,-0x1a6,-0x1fd)+_0x2b4db6(-0x145,-0x1b6,-0xae,-0xc5),'FekOc':_0x2b4db6(-0xe9,-0x6a,-0x6c,-0x11f)+_0x3e8016(0x1ee,0xda,0x151,0xb8),'qGorO':function(_0x14e02b,_0x27b513){return _0x14e02b<=_0x27b513;},'vzydD':function(_0x1c1b8b,_0x27c335){return _0x1c1b8b+_0x27c335;},'prESF':'(((.+)+)+)'+'+$','kKaWH':function(_0x5527e8,_0x587d5a){return _0x5527e8==_0x587d5a;},'GZOYG':function(_0x342b2f){return _0x342b2f();},'xQxkM':_0x3e8016(0x79,0xcb,0x94,0x17),'BclCB':_0x3e8016(0x155,0xfb,0x175,0x136),'HkSmh':function(_0x34c849,_0xd936d4){return _0x34c849!==_0xd936d4;},'FOPqT':_0x2b4db6(-0x10d,-0x10a,-0x11c,-0xdc),'ZOjgb':_0x2b4db6(-0x20c,-0x179,-0x276,-0x1ee),'dGywH':_0x2b4db6(-0x171,-0x128,-0x108,-0x1d0)+_0x2b4db6(-0x208,-0x1be,-0x16f,-0x1b1)};function _0x2b4db6(_0x210739,_0x1a1978,_0xa399d7,_0x4c941f){return _0xbca5(_0x210739- -0x305,_0x4c941f);}if(_0xb6258b[_0x3e8016(0x9e,0x148,0x12d,0x1ae)](extension_settings[extensionName][_0x2b4db6(-0x18d,-0x1ae,-0x159,-0x164)],'sd'))!window[_0x3e8016(0x18b,0xea,0x110,0x18a)+_0x3e8016(0x110,0x12f,0xbd,0x100)]&&(window['initialize'+_0x2b4db6(-0x1a4,-0x1f6,-0x231,-0x1e7)]=!![],_0xb6258b[_0x3e8016(0x9c,0x152,0xb0,0x3d)](initializeSDListener)),_0xb6258b[_0x3e8016(0xac,0xe8,0xb0,0x14d)](initializeImageProcessing);else{if(_0xb6258b['xQxkM']===_0xb6258b[_0x2b4db6(-0x139,-0x15d,-0x19d,-0x115)]){_0xb6258b[_0x2b4db6(-0x1d1,-0x1db,-0x19e,-0x177)](_0x2672f9,_0xb6258b[_0x2b4db6(-0x1af,-0x13a,-0x242,-0x125)]),_0x3bf948=_0xb6258b['TWaUu'](_0x344794,_0x48c817),_0x36823a=_0x4ba17f[_0xb6258b['FekOc']];for(let _0x59a381=-0x383+-0x117a+0xa7f*0x2;_0xb6258b[_0x2b4db6(-0xf5,-0x87,-0x156,-0x195)](_0x59a381,0xd9*0x7+-0x5c4+-0x1*0x27);_0x59a381++){_0x83c58b[_0x2b4db6(-0x116,-0x15f,-0x114,-0x16a)+_0x59a381+'\x20Prompt']&&(_0x5751f1=_0xb6258b[_0x3e8016(0x5e,0xcf,0x53,0x76)](_0xb6258b[_0x3e8016(0xdc,0xc6,0x53,0x2)](_0x2ade87,',\x20'),_0x14b970[_0x2b4db6(-0x116,-0x191,-0xee,-0x13d)+_0x59a381+_0x2b4db6(-0x18b,-0x21b,-0x14a,-0x188)]));}}else{if(window[_0x2b4db6(-0x151,-0x196,-0x10f,-0x1a6)+'SDListener']){if(_0xb6258b['HkSmh'](_0xb6258b[_0x2b4db6(-0x21f,-0x1b1,-0x1d5,-0x209)],_0xb6258b[_0x2b4db6(-0x187,-0x100,-0x15b,-0x1bb)]))eventSource['removeList'+_0x3e8016(0x14b,0xb5,0x155,0x1d0)](EventType[_0x3e8016(0xe7,0xc8,0x10f,0xcc)+_0x3e8016(0xe4,0x113,0xe9,0x68)+'ST'],sdGenerate),window[_0x3e8016(0x153,0xc2,0x110,0xb7)+_0x3e8016(0x121,0x112,0xbd,0x3e)]=![],addLog(_0xb6258b['dGywH']);else return _0x2c7261[_0x2b4db6(-0x157,-0x1e5,-0xee,-0xe7)]()['search'](fcfSBg[_0x2b4db6(-0x18a,-0x1b2,-0x20a,-0x1e9)])[_0x2b4db6(-0x157,-0x133,-0x153,-0x14f)]()[_0x2b4db6(-0x1ab,-0x170,-0x191,-0x10b)+'r'](_0xfebb0)[_0x2b4db6(-0x210,-0x232,-0x18e,-0x2a6)](fcfSBg[_0x3e8016(0xae,0x141,0xd7,0x86)]);}}}}
//# sourceMappingURL=http://localhost:8000/sd.js.map