(function(_0x4488d6,_0x24d1dd){const _0x2abc37=_0x4488d6();function _0x43ab3e(_0xe6b3cf,_0x32cdb5,_0x548169,_0x473f0d){return _0x6fba(_0x548169-0x146,_0x473f0d);}function _0x2fada6(_0x1c4fb6,_0x513b94,_0x423090,_0x2ebff7){return _0x6fba(_0x1c4fb6- -0x374,_0x513b94);}while(!![]){try{const _0x5e720f=parseInt(_0x43ab3e(0x26b,0x2a8,0x2d2,0x2dc))/(-0x11c5+0x18e+-0x2*-0x81c)*(-parseInt(_0x2fada6(-0x273,-0x29d,-0x2dc,-0x245))/(-0x21*0x71+0x8*-0x2b+0xfeb))+-parseInt(_0x43ab3e(0x321,0x338,0x2dc,0x32b))/(0x17aa+0x12e+-0x27*0xa3)*(-parseInt(_0x43ab3e(0x234,0x269,0x21a,0x237))/(-0x33*0x72+-0x5*0x58d+0x327b))+parseInt(_0x2fada6(-0x1b0,-0x136,-0x1cb,-0x225))/(0x1d23+-0x10d9+-0x417*0x3)*(parseInt(_0x43ab3e(0x22d,0x264,0x2a3,0x267))/(-0x17*-0x126+-0x72+-0x19f2))+-parseInt(_0x2fada6(-0x1f9,-0x1c3,-0x1d1,-0x1b4))/(-0x3*0xbb4+-0xb*-0x341+0x18*-0x7)*(-parseInt(_0x43ab3e(0x275,0x2d3,0x28f,0x241))/(0xd65+0x1501+-0x225e*0x1))+-parseInt(_0x43ab3e(0x1be,0x1eb,0x232,0x227))/(0xc9d+0x339+0x329*-0x5)+-parseInt(_0x2fada6(-0x1cd,-0x1a4,-0x250,-0x193))/(-0x642+-0x4*0x74f+0x2388)*(parseInt(_0x43ab3e(0x29c,0x27f,0x27a,0x286))/(0x708+-0x277*0xb+0x1420))+-parseInt(_0x43ab3e(0x22d,0x27e,0x26f,0x23e))/(0x1400+0x110a*0x1+-0x24fe)*(-parseInt(_0x43ab3e(0x29b,0x320,0x2b3,0x292))/(-0x1fd4+-0x2017+0x3ff8));if(_0x5e720f===_0x24d1dd)break;else _0x2abc37['push'](_0x2abc37['shift']());}catch(_0x5e0a57){_0x2abc37['push'](_0x2abc37['shift']());}}}(_0x3b6e,0x64c88+-0x22b11+0x2f7ac));const _0x3cce53=(function(){let _0x488f97=!![];return function(_0x5a4e88,_0x28d51c){const _0x56f6ee=_0x488f97?function(){if(_0x28d51c){const _0x5e53f6=_0x28d51c['apply'](_0x5a4e88,arguments);return _0x28d51c=null,_0x5e53f6;}}:function(){};return _0x488f97=![],_0x56f6ee;};}()),_0x24edca=_0x3cce53(this,function(){const _0x59bb18={};function _0x3db066(_0xe6b31b,_0x8e58d8,_0x346f58,_0x5a971e){return _0x6fba(_0x8e58d8- -0x21,_0x346f58);}_0x59bb18['tDEUu']=_0x251c0d(0x4e9,0x47f,0x502,0x499)+'+$';function _0x251c0d(_0x346ff8,_0x3b81b1,_0x4e5af0,_0x1e7f42){return _0x6fba(_0x1e7f42-0x382,_0x4e5af0);}const _0x25ac90=_0x59bb18;return _0x24edca[_0x3db066(0x177,0x1a2,0x227,0x1e0)]()[_0x251c0d(0x437,0x4e3,0x49d,0x45e)](_0x3db066(0xec,0xf6,0xb8,0x84)+'+$')['toString']()[_0x3db066(0x10c,0xb9,0x36,0x11b)+'r'](_0x24edca)[_0x251c0d(0x4d2,0x477,0x478,0x45e)](_0x25ac90[_0x3db066(0x1c2,0x142,0xd1,0xbd)]);});_0x24edca();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';function _0x6fba(_0x435521,_0x25557e){const _0x647e79=_0x3b6e();return _0x6fba=function(_0x11f288,_0x1776de){_0x11f288=_0x11f288-(-0xb*0x2e1+0xf*-0x231+0x415b);let _0x130a0b=_0x647e79[_0x11f288];if(_0x6fba['rmwMtg']===undefined){var _0x45d8fc=function(_0xde54c8){const _0x314736='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ec4b3='',_0x41c672='',_0x13bf32=_0x5ec4b3+_0x45d8fc;for(let _0x334b6c=-0x43*0x79+-0x1f57+-0x3f02*-0x1,_0x37e1f3,_0xcd7cbf,_0x1278ef=0x2*-0x18c+0x2e*0xb4+-0x34*0x90;_0xcd7cbf=_0xde54c8['charAt'](_0x1278ef++);~_0xcd7cbf&&(_0x37e1f3=_0x334b6c%(-0x4*-0x7c8+-0x8c3+0x773*-0x3)?_0x37e1f3*(0x1ff8+-0x11*-0x116+-0x322e)+_0xcd7cbf:_0xcd7cbf,_0x334b6c++%(0x20f2+0x5*0x14+-0x2152))?_0x5ec4b3+=_0x13bf32['charCodeAt'](_0x1278ef+(0x2157+-0x26ee+0x83*0xb))-(0xf*-0x251+0x14c1+0xe08)!==0x182f*0x1+-0x1*0x31d+-0xa89*0x2?String['fromCharCode'](-0xa2f*0x2+0xfe*-0x23+0x3817*0x1&_0x37e1f3>>(-(-0x3*0x32b+0x1b31+0x92*-0x1f)*_0x334b6c&0x2624+0x1f27+0x1717*-0x3)):_0x334b6c:0x1*0x2037+0x51*-0xd+0xda*-0x21){_0xcd7cbf=_0x314736['indexOf'](_0xcd7cbf);}for(let _0x3a8e1b=-0xbc0*-0x1+-0x1*0x758+0x2f*-0x18,_0x536563=_0x5ec4b3['length'];_0x3a8e1b<_0x536563;_0x3a8e1b++){_0x41c672+='%'+('00'+_0x5ec4b3['charCodeAt'](_0x3a8e1b)['toString'](0x89*-0x2+-0x2*-0x1139+0x42a*-0x8))['slice'](-(-0x1151+0x241d+-0x41*0x4a));}return decodeURIComponent(_0x41c672);};_0x6fba['ogEMSx']=_0x45d8fc,_0x435521=arguments,_0x6fba['rmwMtg']=!![];}const _0x117ffd=_0x647e79[0x31*-0x1d+-0x1*0xd7d+0x130a],_0xef8419=_0x11f288+_0x117ffd,_0x546adf=_0x435521[_0xef8419];if(!_0x546adf){const _0x4ae89c=function(_0x22fb88){this['RmoGgO']=_0x22fb88,this['wZsySk']=[-0x9c4*-0x1+-0xe9f+0x4dc,-0x3c*-0xf+0xea8+-0x122c,-0x1b98+0x1497+-0xa3*-0xb],this['ljMrnP']=function(){return'newState';},this['TfUAnT']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CPZazH']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4ae89c['prototype']['aggSWV']=function(){const _0x5730fd=new RegExp(this['TfUAnT']+this['CPZazH']),_0x38162f=_0x5730fd['test'](this['ljMrnP']['toString']())?--this['wZsySk'][-0x1*0x120e+0x10fb+0x5c*0x3]:--this['wZsySk'][0x16ec+0x1dfb+0x34e7*-0x1];return this['VtfTXS'](_0x38162f);},_0x4ae89c['prototype']['VtfTXS']=function(_0xc2bd34){if(!Boolean(~_0xc2bd34))return _0xc2bd34;return this['qfxbLA'](this['RmoGgO']);},_0x4ae89c['prototype']['qfxbLA']=function(_0x51117e){for(let _0xeded29=-0x7*-0x21a+-0x7dc+-0x6da,_0x3f441a=this['wZsySk']['length'];_0xeded29<_0x3f441a;_0xeded29++){this['wZsySk']['push'](Math['round'](Math['random']())),_0x3f441a=this['wZsySk']['length'];}return _0x51117e(this['wZsySk'][0x194d+-0x1*-0x1355+-0x2ca2]);},new _0x4ae89c(_0x6fba)['aggSWV'](),_0x130a0b=_0x6fba['ogEMSx'](_0x130a0b),_0x435521[_0xef8419]=_0x130a0b;}else _0x130a0b=_0x546adf;return _0x130a0b;},_0x6fba(_0x435521,_0x25557e);}import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';async function generateSDImage({prompt:_0x8a5391,width:_0x1f3e2b,height:_0xf52dcb,change:_0x22db98}){const _0x312a58={'ZdYJh':'(((.+)+)+)'+'+$','qeAHw':function(_0x2171e4,_0x3b4cb6){return _0x2171e4(_0x3b4cb6);},'OSYHM':function(_0x2bb0c5,_0x227cbb){return _0x2bb0c5(_0x227cbb);},'afDzq':_0x3f62a0(0x1b,-0x40,-0x92,-0x5c)+_0x21f81e(0x1d6,0x1a2,0x1e7,0x217)+_0x3f62a0(-0x35,-0x4e,0x46,-0x12),'Ohjxe':function(_0x5bd490){return _0x5bd490();},'CwpaF':_0x3f62a0(0x1b,0xc,-0x2d,-0x4a)+'face\x20为开启','NcWEA':function(_0x4ee54b,_0x18140e,_0x34ca0a){return _0x4ee54b(_0x18140e,_0x34ca0a);},'ZVHxz':_0x3f62a0(0x3e,0x5e,-0x1e,-0x7)+_0x3f62a0(0x3a,0x63,0x3c,0x8a),'vDsqG':function(_0x3c0798,_0x2830e9){return _0x3c0798(_0x2830e9);},'luRsj':function(_0x86d550){return _0x86d550();},'rubgS':function(_0x2cd421,_0x5dcb2b){return _0x2cd421(_0x5dcb2b);},'YMnWa':function(_0x2baf98,_0x5233b9){return _0x2baf98!==_0x5233b9;},'mkjGF':function(_0x21c3b0,_0x2eeb98,_0x4fc111,_0x2b6bea,_0x1f77b2,_0x49d663){return _0x21c3b0(_0x2eeb98,_0x4fc111,_0x2b6bea,_0x1f77b2,_0x49d663);},'eqrNU':_0x21f81e(0x159,0x10a,0x152,0xf6),'YOfUg':function(_0x49452e){return _0x49452e();},'uzdKm':function(_0x2245e7,_0x2dc0f1){return _0x2245e7===_0x2dc0f1;},'lHFzu':'pkxhz','njdGz':'KoqQj','BmfnO':_0x3f62a0(-0x4d,-0xaf,-0x7d,-0x36),'vHsFO':_0x21f81e(0x9f,0xed,0x126,0x149)+_0x21f81e(0x179,0xf6,0x165,0x1af),'DDlmQ':'POST','IoJyT':function(_0xe4484d,_0x5783a1){return _0xe4484d(_0x5783a1);},'HcfDk':_0x21f81e(0x199,0x192,0x17e,0x15c)+_0x3f62a0(0x42,0x75,-0x90,-0xa)+_0x3f62a0(0x55,-0x19,0x10,0xe)+'8_model','OFctG':function(_0x5a3e5a,_0x4f4447){return _0x5a3e5a!=_0x4f4447;},'eBJxt':function(_0x33c263,_0xcf42bf){return _0x33c263(_0xcf42bf);},'tIamV':'/api/sd/se'+'t-model','OAbTp':_0x21f81e(0x164,0x126,0x186,0x1d8),'jDDzI':_0x3f62a0(0x20,0xe2,0xf8,0x93),'zMXqC':_0x21f81e(0x1fa,0x1d0,0x1cb,0x152),'IMpOc':function(_0x3a552b,_0xec7f84,_0x28f391){return _0x3a552b(_0xec7f84,_0x28f391);},'qctYt':_0x21f81e(0xe6,0x10c,0x12a,0x169),'kChdW':function(_0x19d261,_0x50d886){return _0x19d261>=_0x50d886;},'uvjtN':function(_0x5291ec,_0x173810){return _0x5291ec(_0x173810);},'JrGLS':_0x3f62a0(0x95,-0x1d,-0x17,0x1e),'VsVrh':_0x21f81e(0x162,0x1b7,0x16d,0x110),'zEpre':function(_0xf2b1e,_0x3f970d){return _0xf2b1e==_0x3f970d;},'zOtFc':function(_0x2ab818,_0x297624){return _0x2ab818(_0x297624);},'JJCNG':function(_0x3243eb,_0x261758){return _0x3243eb(_0x261758);},'vTmiV':function(_0x20b49b,_0x537fc3,_0x2f821a){return _0x20b49b(_0x537fc3,_0x2f821a);},'LbZUr':_0x21f81e(0x212,0x274,0x226,0x20d),'PDnzt':_0x21f81e(0x125,0x194,0x18f,0x15e),'Oyeta':'QWJzl','gyxWE':function(_0x10f437,_0x183f8a){return _0x10f437(_0x183f8a);},'cDXcW':function(_0x4b0b45,_0x5e173b){return _0x4b0b45!==_0x5e173b;},'xOMkL':_0x21f81e(0x1e4,0x256,0x1fb,0x1cc),'MgdJH':'EtwrR','IjqIA':_0x3f62a0(0x22,0x23,-0x18,-0x54),'uWvMa':_0x3f62a0(0x9b,0x8,0xcf,0x56)+_0x21f81e(0x1cb,0x1d3,0x21c,0x1b4)+_0x3f62a0(0x9a,0x81,0xb3,0x6f),'rrLNK':function(_0x107596,_0x32d628,_0x3ed2b2){return _0x107596(_0x32d628,_0x3ed2b2);},'VAFoJ':_0x3f62a0(-0xb6,0xb,-0xdc,-0x56)+_0x21f81e(0x163,0x1f6,0x199,0x1bc),'qrPQJ':function(_0x4ee27d,_0x2d511a){return _0x4ee27d(_0x2d511a);},'MESpu':_0x21f81e(0x15f,0x1f4,0x1b9,0x1ae),'pUOrw':_0x21f81e(0x1b3,0x111,0x156,0x1c7),'jZmbG':_0x3f62a0(0x1e,0x66,-0x9,0x31),'mQdtZ':function(_0x49c66f,_0x4fc5f6){return _0x49c66f!==_0x4fc5f6;},'fXiNy':'yHazK','ucWRb':_0x21f81e(0x1c9,0x1dd,0x21f,0x26e),'Kwfjf':function(_0x52af41,_0x3210cb){return _0x52af41(_0x3210cb);},'AnesR':function(_0x530377,_0x1a228e){return _0x530377+_0x1a228e;},'GtPVL':function(_0x355811,_0x1bc392){return _0x355811(_0x1bc392);},'PAmfe':'图像已成功获取并格式'+'化为\x20data\x20UR'+'L。','sRqwy':function(_0x5dcf0a,_0x17d899){return _0x5dcf0a||_0x17d899;},'pbIjr':_0x3f62a0(0x61,0x58,0x1f,0x81)+_0x3f62a0(0xab,0x18,0xb1,0x60),'zpXiX':_0x21f81e(0x263,0x1bc,0x1fc,0x1ac)+_0x21f81e(0x1be,0x16d,0x153,0x1a8),'AGIzy':function(_0x2eea84,_0x5d64a3){return _0x2eea84(_0x5d64a3);},'ufdre':function(_0x439d75,_0x3b9121){return _0x439d75===_0x3b9121;},'MERAa':_0x3f62a0(-0x4a,-0x31,0x14,-0x24)+_0x3f62a0(-0x73,-0x78,-0x2d,-0x1b),'znUYh':function(_0x56f95e,_0xe846d7){return _0x56f95e+_0xe846d7;},'FyrkQ':'data:image'+_0x21f81e(0x189,0x1f5,0x193,0x1fb)+'4,','jUknm':function(_0x15f04e,_0x1d596b){return _0x15f04e(_0x1d596b);},'fHegq':'Error\x20gene'+_0x3f62a0(0x28,-0xb4,-0x20,-0x44)+_0x21f81e(0x1da,0x115,0x17a,0x13f)},_0x54cc14=extension_settings[extensionName][_0x3f62a0(0x1,-0x38,-0xae,-0x37)][_0x3f62a0(0x63,0x3c,-0x61,-0x4)](),_0x2ea150=extension_settings[extensionName];_0x312a58[_0x3f62a0(0x58,-0x13,-0x9,0x0)](clearLog),_0x312a58[_0x3f62a0(0x79,0xce,-0xa,0x64)](addLog,'正在通过sdwebu'+_0x3f62a0(-0xaf,-0x44,-0x3d,-0x2f)+'端为'+_0x2ea150[_0x3f62a0(0x83,0x15,0x72,0x16)]+',模型为'+_0x2ea150[_0x3f62a0(0x93,-0x19,0x6c,0xe)+'8_model']);const _0x262062=_0x22db98&&_0x312a58[_0x3f62a0(-0x1e,0x72,0x61,0xc)](_0x22db98[_0x21f81e(0x1ae,0xf2,0x178,0x153)](),'')?_0x22db98:_0x8a5391;_0x312a58[_0x21f81e(0x201,0x1af,0x1e0,0x194)](addLog,'用于生成的Tag:\x20'+_0x262062);const {modifiedPrompt:_0x4afc7e,insertions:_0x6758c5}=await prompt_replace(_0x262062);let _0x3a73e3=await _0x312a58[_0x21f81e(0xf0,0x1b1,0x15b,0x11c)](zhengmian,extension_settings[extensionName][_0x21f81e(0x24f,0x1ee,0x1d0,0x183)][extension_settings[extensionName][_0x21f81e(0x142,0x16d,0x16e,0x16f)]][_0x21f81e(0x182,0x104,0x123,0xbe)+'t'],_0x4afc7e,extension_settings[extensionName][_0x3f62a0(0x66,0xf,0x33,0x54)][extension_settings[extensionName]['yusheid_sd']]['fixedPromp'+_0x3f62a0(0x13,0x10,0xc2,0x4a)],extension_settings[extensionName][_0x3f62a0(-0x2f,-0xa3,0x4,-0x2d)],_0x6758c5),_0x53944e=await fumian(extension_settings[extensionName][_0x3f62a0(0x4d,0x31,0x89,0x54)][extension_settings[extensionName][_0x21f81e(0x16b,0xf9,0x16e,0x1c2)]][_0x21f81e(0x1b2,0x123,0x151,0x1b1)+_0x3f62a0(-0x5e,0xb,-0x15,-0x10)],extension_settings[extensionName]['UCP_sd']);function _0x3f62a0(_0x5f0eff,_0x4c03a7,_0x77c38f,_0x1282b2){return _0x6fba(_0x1282b2- -0x12f,_0x4c03a7);}_0x312a58['rubgS'](addLog,_0x21f81e(0x200,0x1ef,0x214,0x296)+_0x53944e),extension_settings['sd'][_0x312a58[_0x21f81e(0x1be,0x1a6,0x1a1,0x148)]]=_0x54cc14,await _0x312a58[_0x3f62a0(-0x8,-0x87,-0x49,-0x3e)](saveSettingsDebounced);try{if(_0x312a58[_0x21f81e(0x196,0x25e,0x215,0x1ef)](_0x312a58[_0x21f81e(0xdf,0x13f,0x15d,0x1a8)],_0x312a58[_0x21f81e(0x147,0x144,0x169,0x140)])){const _0x27ac60=_0x495aae['apply'](_0x43b3ca,arguments);return _0x1d0149=null,_0x27ac60;}else{if(_0x312a58[_0x21f81e(0x26c,0x1dd,0x215,0x227)](_0x2ea150[_0x3f62a0(0xe,0x20,0x60,0x16)],'jiuguan')){if(_0x312a58[_0x21f81e(0x12a,0x206,0x188,0x1b3)](_0x312a58[_0x21f81e(0x1ca,0x23a,0x1cd,0x20f)],_0x312a58[_0x3f62a0(0xd5,-0x16,-0xb,0x51)]))_0x3f36f2=![];else{const _0x394a6d={};_0x394a6d[_0x21f81e(0x1ab,0x1b6,0x209,0x27b)]=_0x2ea150[_0x21f81e(0x23f,0x28a,0x221,0x24f)+'sd_auth']?_0x2ea150[_0x3f62a0(0x8f,0xa6,0x127,0xa5)+_0x21f81e(0x24e,0x1c2,0x229,0x1f7)]:'',_0x394a6d[_0x3f62a0(0x2d,0x94,0x3c,0xac)]=_0x54cc14;const _0x7aa594=await fetch(_0x312a58['vHsFO'],{'method':_0x312a58[_0x3f62a0(-0x46,-0x3d,-0xbe,-0x3a)],'body':JSON[_0x21f81e(0x227,0x1c3,0x1a2,0x204)](_0x394a6d),'headers':_0x312a58['IoJyT'](getRequestHeaders,window[_0x21f81e(0x11c,0xd3,0x150,0x153)])});if(!_0x7aa594['ok']){_0x312a58[_0x21f81e(0xfc,0x19f,0x11e,0xfc)](addLog,_0x3f62a0(0x76,0x97,0x8,0x57)+_0x7aa594[_0x21f81e(0x162,0xbf,0x13f,0xc2)]+'\x20'+_0x7aa594[_0x21f81e(0x194,0x17a,0x131,0x191)]);throw new Error(_0x3f62a0(0xc0,0x81,-0x14,0x57)+_0x7aa594[_0x3f62a0(-0x61,-0x94,0x5,-0x3d)]+'\x20'+_0x7aa594['statusText']);}let _0x10aedb=await _0x7aa594[_0x3f62a0(0x4b,0x56,-0xa,0x44)]();console[_0x3f62a0(0xc4,0x8c,0x10,0x41)](_0x3f62a0(0x79,0x46,0x72,0x9b)+'2222',_0x10aedb),console[_0x3f62a0(0xa0,0x18,0x65,0x41)](_0x312a58[_0x3f62a0(-0x47,0x82,0x6a,0x38)],_0x2ea150[_0x21f81e(0x1a6,0x184,0x18a,0x180)+_0x3f62a0(-0x22,0x76,0x3d,-0xb)]);if(_0x312a58[_0x21f81e(0x1e0,0x14a,0x1be,0x1c9)](_0x10aedb,_0x2ea150[_0x21f81e(0x156,0x16f,0x18a,0x1ef)+_0x3f62a0(0x6f,-0x4e,0x5f,-0xb)])){_0x312a58[_0x3f62a0(-0x1c,0x7,-0x2e,-0x11)](addLog,'正在设置模型为'+_0x2ea150[_0x21f81e(0x116,0x121,0x18a,0x124)+_0x3f62a0(0x73,0x55,-0x5d,-0xb)]+_0x3f62a0(0x3d,0x87,0x3f,0x3a)),toastr['info']('正在设置模型...为'+_0x2ea150['sd_cchatu_'+_0x21f81e(0x1c9,0x1c1,0x171,0x11e)]);const _0x302287={};_0x302287['auth']=_0x2ea150[_0x21f81e(0x292,0x202,0x221,0x1c6)+'sd_auth']?_0x2ea150[_0x3f62a0(0xcf,0x4a,0x76,0xa5)+_0x3f62a0(0x57,0x12c,0x6f,0xad)]:'',_0x302287[_0x21f81e(0x1ab,0x1d9,0x228,0x285)]=_0x54cc14,_0x302287['model']=_0x2ea150[_0x21f81e(0x142,0x15e,0x18a,0x17a)+'8_model'];const _0x2fd6bc=await fetch(_0x312a58['tIamV'],{'method':_0x312a58[_0x3f62a0(-0xb5,-0xc,0x1a,-0x3a)],'body':JSON['stringify'](_0x302287),'headers':getRequestHeaders(window[_0x3f62a0(-0x34,0x4a,-0x30,-0x2c)])});if(!_0x2fd6bc['ok']){if(_0x312a58[_0x21f81e(0x1ea,0x16f,0x188,0x165)](_0x312a58[_0x3f62a0(0x26,-0x3,-0x9e,-0x3c)],_0x312a58[_0x21f81e(0x120,0x188,0x14b,0x1cb)])){_0x312a58[_0x3f62a0(-0x13,-0xa4,-0x9b,-0x5a)](addLog,_0x3f62a0(-0x50,-0x37,-0x19,0x24)+_0x2fd6bc[_0x3f62a0(-0x91,-0xa,-0x58,-0x3d)]+'\x20'+_0x2fd6bc[_0x21f81e(0x1b8,0x151,0x131,0x1b7)]);throw new Error(_0x21f81e(0x173,0x128,0x1a0,0x15c)+_0x2fd6bc['status']+'\x20'+_0x2fd6bc[_0x3f62a0(-0x38,0x37,0x39,-0x4b)]);}else{const _0x298b86=_0x1a8d35[_0x21f81e(0x1da,0x1e9,0x1f5,0x279)](_0x5bc3a5);_0x1815c7=_0x298b86['images'][-0x7b5*-0x3+0x1168+-0x2887];}}toastr[_0x3f62a0(0xf,-0x1a,0x51,-0x27)]('设置模型...为'+_0x2ea150['sd_cchatu_'+_0x3f62a0(0x4,0x2c,-0x32,-0xb)]+'成功');}}}else{let _0x3fe501=await _0x312a58['IoJyT'](getSDMode,_0x54cc14);if(_0x312a58[_0x3f62a0(0x13,0xa6,0x55,0x42)](_0x3fe501,_0x2ea150[_0x3f62a0(-0x77,0x92,-0x29,0xe)+_0x21f81e(0x171,0x10a,0x171,0x116)])){if(_0x312a58['YMnWa'](_0x312a58[_0x21f81e(0x20d,0x1e9,0x1ac,0x21a)],_0x3f62a0(0xba,0xca,-0x34,0x4f)))return _0x3fcdcd[_0x3f62a0(0xc6,0xe,0x18,0x94)]()[_0x3f62a0(-0xd4,-0x8e,-0x2,-0x53)](sSiDaB[_0x3f62a0(0x10,0x6f,0x64,0x33)])[_0x21f81e(0x1cb,0x238,0x210,0x27c)]()[_0x3f62a0(-0x12,-0x4f,-0x4d,-0x55)+'r'](_0x5c6da1)[_0x21f81e(0xde,0x157,0x129,0x13a)](sSiDaB[_0x21f81e(0x1d0,0x20b,0x1af,0x1cd)]);else addLog(_0x21f81e(0xdb,0x142,0x143,0xc5)+_0x2ea150[_0x21f81e(0x1a6,0x200,0x18a,0x1ea)+'8_model']+_0x3f62a0(-0x10,0x40,0x15,0x3a)),await _0x312a58['IMpOc'](setSDMode,_0x54cc14,_0x2ea150[_0x21f81e(0x10b,0x116,0x18a,0x19e)+_0x21f81e(0x147,0x1dd,0x171,0xed)]);}}}}catch(_0x2f8853){if(_0x312a58[_0x3f62a0(0xd8,0x80,-0x11,0x5f)]===_0x312a58[_0x3f62a0(0xaa,0x8d,0x56,0x5f)]){_0x312a58['vDsqG'](addLog,_0x21f81e(0xfd,0x18e,0x147,0xe1)+':\x20'+_0x2f8853['message']+(_0x21f81e(0x14e,0x201,0x1b1,0x217)+_0x3f62a0(0x68,-0x1a,0x54,0x36)+_0x21f81e(0x224,0x194,0x20a,0x24f)));throw new Error('获取或者切换模型失败'+'，请检查sdwebu'+'i是否正常启动，并检'+_0x21f81e(0x269,0x1af,0x20a,0x1aa));}else{_0x312a58[_0x21f81e(0x214,0x198,0x1f2,0x1c9)](_0x341c79,'获取模型失败:\x20'+_0x5122e6[_0x21f81e(0x11f,0x1b7,0x13f,0xfa)]+'\x20'+_0x506837[_0x3f62a0(0x0,-0x23,-0x97,-0x4b)]);throw new _0x4ba600(_0x21f81e(0x1f6,0x198,0x1d3,0x1dd)+_0x4e3474[_0x3f62a0(0x49,-0x4a,-0x9f,-0x3d)]+'\x20'+_0x559d8c[_0x21f81e(0x18a,0x182,0x131,0x1a1)]);}}let _0x4e320c=-(-0x1865+-0x373*-0x1+0x14f3);const _0x332130=_0x2ea150[_0x3f62a0(0x104,0x70,0xd5,0xab)];_0x312a58[_0x21f81e(0x19e,0x1bc,0x188,0x171)](_0x332130,'')&&_0x312a58[_0x3f62a0(0x65,-0x5e,-0x5a,0xc)](_0x332130,null)&&!_0x312a58['vDsqG'](isNaN,_0x312a58[_0x3f62a0(0xb6,0xd9,0xbb,0x64)](Number,_0x332130))&&_0x312a58[_0x21f81e(0x15f,0x151,0x159,0x157)](_0x312a58[_0x3f62a0(-0x21,0x2b,-0x9,-0x30)](Number,_0x332130),0x7*-0x22a+-0x2*0x1091+-0x67*-0x78)&&(_0x312a58[_0x21f81e(0x16e,0x107,0x188,0x1ef)](_0x3f62a0(0x3a,0xb2,0x90,0x55),_0x312a58[_0x21f81e(0x219,0x1ab,0x21e,0x19f)])?_0x4e320c=Number(_0x332130):(_0x41c672[_0x3f62a0(0x68,-0x85,0xc,-0x1c)+'SDListener']=!![],_0x13bf32()));let _0x97ffdc={'prompt':_0x3a73e3,'negative_prompt':_0x53944e,'sampler_name':_0x2ea150['sd_cchatu_'+_0x21f81e(0x282,0x281,0x207,0x1fb)+_0x3f62a0(-0x91,-0xc4,-0x4d,-0x40)],'scheduler':_0x2ea150[_0x3f62a0(-0x4d,0x20,0x86,0xe)+_0x21f81e(0x1dd,0x25b,0x22b,0x1ee)+'r'],'steps':_0x2ea150[_0x21f81e(0x1e1,0x185,0x1c7,0x1c0)],'cfg_scale':_0x2ea150[_0x21f81e(0x1c7,0x24f,0x1d8,0x24b)],'width':_0x1f3e2b?_0x1f3e2b:_0x2ea150['sd_cwidth'],'height':_0xf52dcb?_0xf52dcb:_0x2ea150[_0x21f81e(0x219,0x1fa,0x225,0x236)],'restore_faces':_0x2ea150[_0x3f62a0(-0xa2,0x14,-0x69,-0x48)+'es']==_0x312a58['VsVrh'],'enable_hr':_0x312a58[_0x3f62a0(-0x2d,0x18,0x4c,0x27)](_0x2ea150[_0x21f81e(0x287,0x265,0x21b,0x1f2)+_0x21f81e(0x264,0x171,0x1ed,0x1bb)],_0x21f81e(0x148,0x188,0x16d,0x1c8)),'hr_upscaler':_0x2ea150[_0x21f81e(0x110,0x1c3,0x18a,0x1b2)+'8_upscaler'],'hr_scale':_0x2ea150[_0x3f62a0(0xaf,0x93,0x37,0x45)+_0x21f81e(0x246,0x22c,0x223,0x218)],'hr_additional_modules':[],'denoising_strength':_0x2ea150[_0x21f81e(0x258,0x1e7,0x213,0x277)+'ing_streng'+'th'],'hr_second_pass_steps':_0x2ea150[_0x21f81e(0x19c,0x1de,0x21b,0x22c)+'steps'],'seed':_0x4e320c,'override_settings':{'CLIP_stop_at_last_layers':_0x312a58[_0x21f81e(0x1c4,0x129,0x14c,0x172)](Number,_0x2ea150['sd_cclip_s'+'kip']),'sd_vae':_0x2ea150['sd_cchatu_'+_0x21f81e(0x1dd,0x1bf,0x1f1,0x245)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x312a58[_0x3f62a0(-0x31,-0x61,-0x69,-0x49)](addLog,_0x21f81e(0x1f2,0x1c1,0x1b3,0x1c7)+_0x21f81e(0x218,0x1b5,0x1ee,0x167)+_0x97ffdc[_0x3f62a0(0x15,0x41,-0x1a,0x37)+_0x21f81e(0xda,0x1b7,0x13b,0x184)]),_0x312a58[_0x3f62a0(0x57,0xd9,0x80,0x64)](addLog,_0x3f62a0(-0x2,-0x32,0x2a,-0x38)+_0x3f62a0(0xa5,0x5b,0x43,0x63)+_0x97ffdc[_0x3f62a0(-0x9f,0x33,-0x55,-0x42)]);_0x2ea150[_0x21f81e(0x146,0x178,0x166,0x134)+_0x21f81e(0x1a3,0x130,0x15c,0x110)]==_0x312a58[_0x21f81e(0x125,0x1d3,0x1a9,0x1fe)]&&(_0x312a58[_0x3f62a0(-0x17,0x54,0x5c,0x6a)](addLog,_0x3f62a0(-0x29,0x23,-0x6a,-0x4a)+_0x21f81e(0x1ac,0x163,0x14a,0x108)),_0x97ffdc=_0x312a58[_0x3f62a0(0x10,-0x82,-0x27,-0x4e)](deepMerge,_0x97ffdc,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x312a58[_0x3f62a0(0x3b,0x43,-0x4,0x7b)]}]}}}));const _0x9a260c=_0x21f81e(0x1a4,0x1fa,0x1d4,0x22c)+'图参数报告\x0a-\x20**'+_0x21f81e(0x226,0x1d8,0x1cc,0x22a)+'pt):**\x20'+_0x3a73e3+('\x0a-\x20**负面提示\x20'+_0x21f81e(0x1ce,0x1a7,0x201,0x18b)+_0x3f62a0(0x8e,0x60,-0x1,0x49)+'\x20')+_0x53944e+(_0x21f81e(0x108,0xe8,0x11f,0xb4)+_0x21f81e(0x18d,0x171,0x1c3,0x23d)+_0x3f62a0(0xa5,0x68,0x45,0x88))+_0x97ffdc['sampler_na'+'me']+(_0x3f62a0(0xa1,0xae,0x40,0x28)+_0x21f81e(0x17f,0x1cb,0x182,0x11e))+_0x97ffdc['steps']+(_0x3f62a0(-0x5b,-0x39,0x4d,-0xd)+'cale:**\x20')+_0x97ffdc['cfg_scale']+(_0x21f81e(0x1b5,0x253,0x1e4,0x263)+_0x21f81e(0x1e6,0x143,0x1c4,0x1b7))+_0x97ffdc[_0x3f62a0(-0x56,-0x5b,-0x42,-0x51)]+'x'+_0x97ffdc[_0x21f81e(0x203,0x183,0x1d5,0x23d)]+(_0x3f62a0(-0x3a,-0x6f,-0x2c,-0x1d)+'eed):**\x20')+(_0x312a58[_0x21f81e(0x1e4,0x1f1,0x215,0x1f2)](_0x97ffdc[_0x21f81e(0x299,0x1e3,0x21a,0x237)],-(-0x3*0x6b9+-0xceb*0x2+0x2e02))?_0x312a58['LbZUr']:_0x97ffdc[_0x21f81e(0x23c,0x223,0x21a,0x265)])+(_0x3f62a0(0xb,0x4,0x9b,0x73)+'odel):**\x20')+_0x2ea150[_0x21f81e(0x210,0x1e3,0x18a,0x18a)+'8_model']+('\x0a-\x20**VAE:*'+'*\x20')+_0x97ffdc[_0x3f62a0(-0x4e,-0x31,-0x73,-0x34)+_0x3f62a0(0x3a,0x1,0x53,0x2a)][_0x21f81e(0x1a7,0x24c,0x20c,0x205)]+(_0x3f62a0(0x65,0x47,0x8e,0x20)+_0x3f62a0(-0xb,0x61,0x39,0x11))+_0x97ffdc[_0x3f62a0(-0x7c,0x3d,0x27,-0x34)+_0x21f81e(0x140,0x152,0x1a6,0x1d0)][_0x3f62a0(-0x55,0x76,0x81,0x2f)+_0x21f81e(0x18d,0x169,0x17d,0x1f5)+_0x3f62a0(0x52,-0x9,0x2d,0x23)]+('\x0a-\x20**高清修复\x20'+_0x21f81e(0x187,0x19b,0x1b5,0x144)+'):**\x20')+_0x97ffdc[_0x3f62a0(-0x1a,-0x90,0x44,-0x42)]+(_0x3f62a0(-0x10,-0x47,0x4b,-0xc)+_0x3f62a0(-0x2c,-0x3a,0x18,0x14)+'actor):**\x20')+_0x97ffdc[_0x21f81e(0x279,0x25f,0x212,0x28f)]+(_0x21f81e(0x108,0x1d9,0x17f,0x1d9)+_0x21f81e(0x124,0x1e1,0x180,0x1d5)+_0x3f62a0(-0x66,-0x5a,-0x74,0x7)+_0x21f81e(0x1cc,0x24b,0x1dd,0x1c8))+_0x97ffdc['denoising_'+_0x3f62a0(-0xa5,-0x5,0x53,-0x22)]+(_0x21f81e(0x1eb,0x1b5,0x20d,0x1f4)+_0x3f62a0(0x3c,-0x2a,0x3d,0x2c)+_0x3f62a0(0xe,-0xc,-0x62,-0x4d))+_0x97ffdc[_0x21f81e(0x1ff,0x136,0x1b3,0x1b2)+'ces']+(_0x3f62a0(0x5d,0xa9,0xa5,0x92)+_0x3f62a0(0x11c,0xd7,0x2d,0xa6))+(_0x2ea150[_0x21f81e(0x15a,0x11c,0x166,0x125)+_0x3f62a0(-0x34,-0x1c,0x67,-0x20)]==_0x312a58[_0x21f81e(0x1a0,0x18d,0x1a9,0x20a)])+'\x0a---\x0a\x20\x20\x20\x20';_0x312a58[_0x3f62a0(-0x28,-0x5e,-0x9d,-0x49)](addLog,_0x9a260c),addLog('sdwebui生图参'+'数为'+JSON[_0x21f81e(0x1e7,0x196,0x1a2,0x1b4)](_0x97ffdc)),console['log'](_0x312a58[_0x21f81e(0x1e1,0x276,0x1fe,0x271)],_0x97ffdc);let _0x24d925=!![];while(_0x24d925){if(_0x312a58[_0x3f62a0(0x46,0x52,-0x71,0xc)](_0x312a58[_0x3f62a0(0xc4,-0x1a,-0x1f,0x52)],_0x3f62a0(-0x78,-0x64,-0x8a,-0x9)))window[_0x21f81e(0xe7,0x103,0x162,0x182)]?_0x24d925=![]:await _0x312a58['gyxWE'](sleep,-0x1465+0x25*0xfb+-0x7*0x1b6);else{const _0x1fd62c=_0x21f81e(0x1df,0x23f,0x1fa,0x23b)+'常\x20(ID:\x20'+_0x3011e1+_0x3f62a0(-0xb5,-0x9e,-0xbc,-0x3f)+_0x554379[_0x21f81e(0x1f7,0x1ca,0x1c9,0x19c)];_0x312a58[_0x21f81e(0x120,0x157,0x122,0x139)](_0x4baa44,'错误:\x20'+_0x1fd62c),_0x54481b[_0x3f62a0(0x9f,0x28,-0x36,0x46)](_0x312a58[_0x3f62a0(0x5f,0x7,0xe8,0x7d)],_0x19c4d0);const _0x380a2d={};_0x380a2d['id']=_0x541852,_0x380a2d[_0x3f62a0(-0x3,0x78,0x65,-0x3)]=![],_0x380a2d[_0x21f81e(0x21c,0x1e4,0x1c2,0x1d7)]=_0x41a548[_0x21f81e(0x238,0x1ca,0x1c9,0x238)],_0x380a2d[_0x21f81e(0x23c,0x225,0x202,0x19d)]=_0x26191e,_0x2cc8d5[_0x21f81e(0x1d8,0x152,0x15e,0x116)](_0x5cc390[_0x21f81e(0x14e,0x1ac,0x185,0x110)+_0x3f62a0(0xd2,0x1d,0xe,0x5e)+_0x21f81e(0x1c2,0x17a,0x194,0x1a5)],_0x380a2d),_0x312a58['OSYHM'](_0x58d138,_0x3f62a0(0x11c,0xe4,0xcd,0x9d)+_0x3f62a0(0x34,-0x1f,-0x5b,-0x47)+_0x228a2d+')');}};function _0x21f81e(_0x41bf71,_0x9abd48,_0x48a36e,_0x2721fd){return _0x6fba(_0x48a36e-0x4d,_0x2721fd);}try{if(_0x312a58[_0x21f81e(0x1a5,0x1d0,0x1f6,0x1ad)](_0x312a58['xOMkL'],_0x312a58[_0x21f81e(0xfa,0xc5,0x141,0x16b)])){if(_0x312a58[_0x3f62a0(0x4e,0x80,0x1a,0x99)](_0x2ea150[_0x3f62a0(-0x5c,-0x51,0x6d,0x16)],_0x3f62a0(0x51,0xf3,0xd3,0x6c))){if(_0x312a58[_0x3f62a0(0xea,0x114,0x3f,0x99)](_0x21f81e(0x12f,0x178,0x128,0x180),_0x312a58['IjqIA'])){_0x97ffdc[_0x3f62a0(0xae,0x59,0xbf,0xac)]=_0x54cc14,console[_0x3f62a0(-0x7,-0x15,0x15,0x41)](_0x312a58[_0x21f81e(0x1cd,0x1fd,0x1ae,0x21c)],_0x2ea150[_0x21f81e(0x252,0x1a4,0x221,0x20c)+_0x21f81e(0x248,0x235,0x229,0x27e)]),_0x97ffdc['auth']=_0x2ea150[_0x21f81e(0x23f,0x238,0x221,0x2a2)+'sd_auth']?_0x2ea150[_0x3f62a0(0x2d,0xfe,0x34,0xa5)+_0x3f62a0(0x9d,0x7a,0x132,0xad)]:'';const _0x39a339=await _0x312a58[_0x3f62a0(-0x2,0x8a,0x18,0x1c)](fetch,_0x312a58[_0x3f62a0(-0x1c,0xdc,0x81,0x5a)],{'method':_0x312a58[_0x21f81e(0x16a,0x13f,0x142,0x17e)],'headers':_0x312a58[_0x21f81e(0x282,0x1fd,0x200,0x19b)](getRequestHeaders,window[_0x3f62a0(-0x68,-0x32,-0x9,-0x2c)]),'body':JSON['stringify'](_0x97ffdc)});if(!_0x39a339['ok']){const _0x5ea9cc=await _0x39a339['text']();addLog(_0x21f81e(0x1bf,0x180,0x205,0x1d9)+_0x21f81e(0xae,0x124,0x12c,0xc8)+_0x39a339[_0x21f81e(0xcf,0xf2,0x13f,0x163)]+_0x21f81e(0x168,0x157,0x19d,0x1e7)+_0x5ea9cc),console['log'](_0x312a58[_0x21f81e(0x1c2,0x1cd,0x1de,0x1fb)],_0x5ea9cc);throw new Error(_0x21f81e(0x1eb,0x1e2,0x19e,0x1dd)+_0x39a339['status']+_0x3f62a0(0x5a,0xff,0x9c,0x87)+_0x5ea9cc);}const _0xc3b7dc=await _0x39a339[_0x3f62a0(0xaf,0xb0,0x1a,0x44)]();let _0x505f10='';try{if(_0x312a58['cDXcW'](_0x312a58[_0x3f62a0(0x9,0x18,-0xb9,-0x45)],_0x312a58[_0x21f81e(0x105,0x124,0x163,0x1b1)])){const _0x111113=JSON['parse'](_0xc3b7dc);_0x505f10=_0x111113[_0x21f81e(0x207,0x190,0x1bf,0x1b8)][-0x1*-0x38d+0x5*-0x3d7+0x7d3*0x2];}else{if(_0x598747){const _0x425560=_0x2c860['apply'](_0x12175a,arguments);return _0xc18ca=null,_0x425560;}}}catch(_0x25ecfe){_0x312a58[_0x21f81e(0x1ac,0x212,0x22a,0x253)](_0x312a58[_0x21f81e(0xcb,0xc0,0x12d,0x142)],_0x312a58['ucWRb'])?(_0x312a58[_0x21f81e(0xdd,0xd3,0x136,0x18f)](addLog,_0x3f62a0(0xf7,0x45,0xb7,0x8c)+_0x3f62a0(-0x36,0x38,0x3d,-0x15)+_0x21f81e(0x26b,0x240,0x218,0x196)),_0x505f10=_0xc3b7dc):(!_0x130a0b[_0x3f62a0(-0xa,0x46,-0x22,-0x1c)+_0x21f81e(0x1cf,0x28b,0x20b,0x1fa)]&&(_0x546adf[_0x21f81e(0xf8,0x12e,0x160,0x138)+_0x21f81e(0x257,0x247,0x20b,0x275)]=!![],_0x312a58[_0x3f62a0(0x24,-0x4c,0x5d,-0x5)](_0xde54c8)),_0xef8419());}const _0xcb4b6f=_0x312a58['AnesR'](_0x3f62a0(-0x3e,-0x5,0xa2,0x40)+_0x3f62a0(0x0,0x98,0x97,0x17)+'4,',_0x505f10);return _0x312a58[_0x3f62a0(0xfc,0x5e,0xad,0x77)](addLog,_0x312a58[_0x21f81e(0x1f6,0x24d,0x1e2,0x242)]),{'image':_0xcb4b6f,'change':_0x312a58[_0x3f62a0(0x10b,0x54,0x95,0xa4)](_0x22db98,'')};}else _0x312a58['OSYHM'](_0x4a4e8b,_0x312a58[_0x3f62a0(-0x77,-0x6d,0x3b,-0x1)]),_0x2e6266=_0x312a58[_0x21f81e(0x1c9,0x146,0x1ca,0x14d)](_0x59ba8e,_0x4c620b,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x312a58[_0x21f81e(0x1c4,0x1d1,0x1f7,0x220)]}]}}});}else{const _0x36b33e=new URL(_0x312a58[_0x21f81e(0x264,0x1a3,0x1ea,0x16f)](_0x54cc14,_0x312a58[_0x21f81e(0x151,0x155,0x1cf,0x239)]));window[_0x3f62a0(-0x74,0x63,-0x69,-0x1a)]=![];const _0x535dab=await fetch(_0x36b33e,{'method':_0x312a58[_0x3f62a0(0x11,-0xb3,-0xb8,-0x3a)],'body':JSON[_0x21f81e(0x16a,0x1a0,0x1a2,0x1c1)](_0x97ffdc),'headers':{'Content-Type':_0x312a58[_0x3f62a0(-0x59,-0x99,-0x30,-0x4c)],'Authorization':getsdAuth()}});window[_0x3f62a0(-0x51,0x68,0x5d,-0x1a)]=!![];if(!_0x535dab['ok']){const _0xc7826f=await _0x535dab[_0x3f62a0(0x87,0x1c,0x4c,0x44)]();_0x312a58[_0x21f81e(0x167,0x222,0x1d7,0x21f)](addLog,_0x3f62a0(0xf0,0x99,0x2,0x70)+'误。状态码:\x20'+_0x535dab[_0x3f62a0(-0x49,0xa,-0x69,-0x3d)]+_0x3f62a0(-0xd,0x72,-0x53,0x21)+_0xc7826f),console[_0x3f62a0(0x19,-0x1c,-0x42,0x41)](_0x312a58['MESpu'],_0xc7826f);throw new Error(_0x21f81e(0x15d,0x175,0x19e,0x145)+_0x535dab[_0x3f62a0(-0x9d,-0x5c,0x12,-0x3d)]+',\x20详情:\x20'+_0xc7826f);}const _0x1a9e41=await _0x535dab[_0x21f81e(0x133,0x1f6,0x18e,0x1d0)]();if(!_0x1a9e41[_0x21f81e(0x21b,0x157,0x1bf,0x22c)]||_0x312a58[_0x21f81e(0x10f,0x196,0x174,0x15e)](_0x1a9e41['images']['length'],-0xa76*0x3+-0x1b69+0x207*0x1d))throw new Error(_0x312a58['MERAa']);const _0x5c5ae2=_0x1a9e41[_0x21f81e(0x17f,0x19c,0x1bf,0x195)][0x13*-0x43+-0x1cf6+0x77*0x49],_0x47882b=_0x312a58['znUYh'](_0x312a58[_0x21f81e(0x114,0x11e,0x154,0x141)],_0x5c5ae2);return _0x312a58['jUknm'](addLog,_0x312a58[_0x3f62a0(0x96,0x0,0x27,0x66)]),{'image':_0x47882b,'change':_0x312a58[_0x3f62a0(0xc1,0x46,0xdb,0xa4)](_0x22db98,'')};}}else{_0x312a58['vDsqG'](_0x51ee6c,_0x21f81e(0x227,0x21e,0x1a0,0x1d6)+_0x5e3dbe[_0x21f81e(0x1a9,0xdb,0x13f,0xf6)]+'\x20'+_0x55b62f[_0x21f81e(0x143,0xbe,0x131,0xae)]);throw new _0xb46a94(_0x3f62a0(0x27,0x17,-0x45,0x24)+_0x1b3e71[_0x3f62a0(-0x67,-0xa6,-0xd,-0x3d)]+'\x20'+_0x5e6137[_0x3f62a0(0x14,-0x56,-0x6e,-0x4b)]);}}catch(_0x2104c0){window[_0x3f62a0(-0xc,0x22,0x1b,-0x1a)]=!![],addLog(_0x3f62a0(0x21,0x6b,-0x4,0x69)+_0x2104c0[_0x21f81e(0x19c,0x210,0x1c9,0x1a5)]),console[_0x21f81e(0x22e,0x1eb,0x1c2,0x151)](_0x312a58[_0x21f81e(0x18f,0x268,0x1e9,0x233)],_0x2104c0);throw _0x2104c0;}}async function sdGenerate(_0x275604){const _0x24ee6a={'doUqR':function(_0x2eb76a,_0x411c12){return _0x2eb76a(_0x411c12);},'wkCqz':function(_0x5119b5,_0x4f034b){return _0x5119b5(_0x4f034b);},'IEKWu':function(_0x372126,_0x12f9e8,_0x103f4a,_0x5736e6){return _0x372126(_0x12f9e8,_0x103f4a,_0x5736e6);},'hfzPS':function(_0x34e003,_0x388b07){return _0x34e003(_0x388b07);},'slfJC':function(_0x5975d8,_0x3fb52c){return _0x5975d8(_0x3fb52c);}};function _0x55e945(_0x4b94e6,_0x3a995f,_0x355b3f,_0x47c31e){return _0x6fba(_0x4b94e6-0xa9,_0x3a995f);}const {id:_0x58f8d4,prompt:_0x2def9b,width:_0x3627a3,height:_0xc87585,change:_0x259d8a}=_0x275604;function _0x5c9622(_0x197fc5,_0x10c1dd,_0x2bc4d5,_0x54d4f1){return _0x6fba(_0x2bc4d5- -0x72,_0x10c1dd);}_0x24ee6a[_0x5c9622(0xba,0xd3,0x122,0xc8)](addLog,_0x5c9622(0xf4,0x1a8,0x140,0x167)+'ID:\x20'+_0x58f8d4+(_0x5c9622(0x116,0x1aa,0x139,0x17f)+':\x20')+_0x2def9b+(_0x259d8a?_0x55e945(0x1f1,0x1e2,0x17a,0x1e3)+'\x20'+_0x259d8a:''));try{const {image:_0x19e802,change:_0x2ea7c4}=await _0x24ee6a[_0x55e945(0x1f7,0x1a5,0x253,0x20a)](generateSDImage,{'prompt':_0x2def9b,'width':_0x3627a3,'height':_0xc87585,'change':_0x259d8a});await _0x24ee6a['IEKWu'](setItemImg,_0x2def9b,_0x19e802,_0x2ea7c4),_0x24ee6a[_0x55e945(0x1e5,0x1df,0x175,0x1ef)](addLog,'图像已存入数据库\x20f'+_0x5c9622(0x50,0xa0,0x65,0x75)+'\x20'+_0x2def9b);const _0x13c82a={};_0x13c82a['id']=_0x58f8d4,_0x13c82a['success']=!![],_0x13c82a[_0x5c9622(0x8a,0x79,0x8a,0x6d)]=_0x19e802,_0x13c82a[_0x5c9622(0xf7,0x147,0x143,0x13f)]=_0x2def9b,_0x13c82a[_0x5c9622(0xc4,0x78,0xd8,0x8f)]=_0x2ea7c4,eventSource[_0x55e945(0x1ba,0x13e,0x237,0x1e0)](EventType[_0x5c9622(0x125,0x48,0xc6,0x142)+_0x5c9622(0x16f,0xfd,0x11b,0xf8)+'NSE'],_0x13c82a),_0x24ee6a[_0x5c9622(0x8a,0xe5,0xc8,0x58)](addLog,'发送SD生图成功响应'+_0x55e945(0x191,0x17a,0x1ac,0x1af)+_0x58f8d4+')');}catch(_0x4d53ee){const _0x5e5832='SD生图流程捕获到异'+_0x5c9622(0xd3,0x4d,0x98,0x4c)+_0x58f8d4+_0x55e945(0x199,0x1f1,0x1d9,0x1d3)+_0x4d53ee[_0x55e945(0x225,0x22d,0x251,0x1f5)];_0x24ee6a[_0x5c9622(0x10f,0x15c,0xdc,0x162)](addLog,_0x55e945(0x217,0x1be,0x28d,0x275)+_0x5e5832),console[_0x5c9622(0xfc,0xb8,0x103,0x11d)](_0x5c9622(-0x14,0x28,0x61,0x5d)+'rating\x20SD\x20'+_0x55e945(0x1c6,0x169,0x1bd,0x161),_0x4d53ee);const _0x4ae281={};_0x4ae281['id']=_0x58f8d4,_0x4ae281[_0x5c9622(0xc7,0x108,0xba,0x80)]=![],_0x4ae281['error']=_0x4d53ee['message'],_0x4ae281[_0x55e945(0x25e,0x2e0,0x239,0x287)]=_0x2def9b,eventSource[_0x55e945(0x1ba,0x1a9,0x23e,0x1f3)](EventType['GENERATE_I'+_0x5c9622(0x125,0x9d,0x11b,0xba)+'NSE'],_0x4ae281),_0x24ee6a[_0x5c9622(0xc9,0x6f,0xc8,0xa6)](addLog,_0x55e945(0x275,0x259,0x221,0x2e7)+_0x55e945(0x191,0x15a,0x1b2,0x122)+_0x58f8d4+')');}}function initializeSDListener(){const _0x2e6834={'ZyyXO':function(_0x67c216,_0x1c8a3b){return _0x67c216(_0x1c8a3b);}};function _0x2e6636(_0xb2710f,_0x3ebfe3,_0x17b733,_0x43bca5){return _0x6fba(_0x43bca5- -0x1cb,_0x3ebfe3);}function _0x209ffc(_0x5b59b2,_0x53b73e,_0x2543f4,_0x13cadc){return _0x6fba(_0x5b59b2- -0x1c0,_0x2543f4);}eventSource['on'](EventType[_0x209ffc(-0x88,-0xfc,-0xef,-0x89)+_0x209ffc(-0xe8,-0x6e,-0xbc,-0xc7)+'ST'],sdGenerate),_0x2e6834[_0x209ffc(-0x55,0x2,-0x5c,-0x5d)](addLog,_0x2e6636(-0xd8,-0xfe,-0xb6,-0x87)+_0x209ffc(-0x1d,-0x4e,-0x39,-0x76));}function _0x3b6e(){const _0x29808f=['u2TPCdOQkIa','ANnVBG','Cgf5Bg9Hza','kfvWC2nHBguGrG','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','y2XPzw50','l3bUzZTIyxnLnG','tLnf','ic0Gq2HHBMDLoG','ndm2mfLcyNvdsq','y2HHBMDL','CNjmtKS','BMvYyxrL','vMPvENC','D2TdCxO','cI0GkIPdBgLWia','44cc5zon5BQu5yAf5A65oIa','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','EwvYCW','5yIh5O2I5QIH5z6l5AsX6lsLoIa','zxfYtLu','C3rYAw5NAwz5','EKvWCMu','cI0GkIRMRAxMLBaGkfm','CgvRAxK','zxr0Aw5NCW','qMXpqK8','kfjLC3rVCMuGrG','vNnwCMG','ntu4Ahzpy2vT','q0Xjuf9ZDg9WxW','EK1yCum','v2jOveO','DvD2twe','wMrzsMG','Derfvxu','44cc6k+35Qoa5P+LC2r3zwj1','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','CMvZDg9Yzv9Myq','sgnMrgS','keHPCMvZiezPEa','lI4U','Bw9Kzq','wNL5we8','5zon5BQu5yAf5A65oG','mJG3mdqXm1P2D0nNva','6zsz6k+VoIa','zgf0ytPPBwfNzq','Bg9N','t0zJDeC','Aw1Hz2vZ','Dgv4Da','C2rFy3vWC2nHBa','zxjYB3i','kfnHBxbSzxiPoG','AxPLktOQkIa','uhjVBxb0ktOQkG','Df9LBMq','C2rFy3n0zxbZ','mtaWmdnlzhrmrw0','BwvZC2fNzq','tMnxrue','q29Az1e','5Q2J6z2I5O+q56s6icHqCM9T','qM1MBK8','t3LLDge','CgjjANi','ExvZAgu','uKDlsMS','Cgf5C3rFy2HHDa','6i635y+w5QIH5z6l5AsX6lsLoIa','cI0TlqOJiYmG55sF','AgvPz2H0','vKfgB0O','quDjENK','C2rdzMDty2fSzq','muXHqKTvEG','tufhrv9srvnqtW','Cwn0wxq','DhH0mMLTzW','oIOQia','tuvtChu','6AUy5RIf5l+U5Asnios4UG','CNvIz1m','zg9vCvi','uefTzMu','m01wqw5kqq','cI0GkIRLSlRLR7GGkfm','C2tOR7FMSylNLj/LM77PLjNOR686ia','sKPdtKC','CMf0Aw5Nifneia','AML1z3vHBG','zKHLz3e','qw5LC1i','Bg9Hza','u0qGqvbjioI/LowBNUMuMq','zML4','y2vZioIeUoMdQos/RUwKJsdKUlO','cI0GkIRMQkhLNOSGke0','5BEY5yID5AEl5yYw44cc','of92ywu','CwvbshC','r3rqvKW','ndbsvgLxAge','CgfYC2u','y0ryy1C','wLziEhO','ksaTifbYB21WDa','ywzeENe','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','yMLduxq','yxbWBgLJyxrPBW','l3nKyxbPl3yXlW','uerUENq','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','CxjquuO','ke5Lz2f0AxzLia','ChjVBxb0','lcdOR6BMG4u6ia','kIOG','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','og4UChq','of9Zyw1WBgvYtG','sLnptIdOP6pMNPdLPlhOTkxVViW','yxv0Aa','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','u0rmAxn0zw5LCG','C2rFDMfL','cI0GkIROHlJPG6JKV67LPi0G','cI0GkIPbrgv0yq','wun6BwG','Dg9tDhjPBMC','ntuXnvfysNfuEa','AhjFC2nHBgu','C2rFy2rLBM9PCW','6lsF6z2I5lI6oIa','DxPKs20','rwXqve0','y21VzgvSmJiYmG','zty0ioAvSoAnRUwKHoEqHUoaGG','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','C2vLza','C2rFy2HPCMvZxW','DtHFC2rFyxv0Aa','r3jTzfy','sNjhtfm','r3jTEwK','C1jXD3K','C3rFy2HHDhu4xW','AwXLCJOQkIa','zv9Mywn0B3i','yM1VrKi','C2rFy2HLAwDODa','6zQp5PY6kc0Xkq','C2rFy3nLzwq','DxjS','C2rFyxv0Aa','BvfKDfO','of9Zy2HLzhvSzq','sw9kEvq','cI0GkIRPH4FMOlFMLRNMS5uG','rxjYB3iGz2vUzq','mJu2ndKYBfzduK5w','t1nzse0','zML4zwrqCM9TCa','B3iGChjVBxb0oG','tufhrv9srvfvrq','l2fWAs9Zzc9Nzq','y29UC3rYDwn0BW','suzksNG','C2vHCMnO','vhnszeK','D2LKDgG','56cboIa','zLHPtNK','DLrTAvy','ywnLCYK6kIOG','ENbyAvG','C3rHDhvZvgv4Da','ywrLDgfPBgvYxW','EK90rMm','CMvZDg9YzuzHyW','icHjrdOG','s3DMAMy','CfvpCNC','CMf0Aw5NigLTyq','mJe4odq3nMTOy0DLAW','zw5HyMXLx2HY','y2vZ','yw1L','ktOG','wu9MvwC','C3rHDhvZ','t0fIvha','twDKsKG','rerSBve','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','zw5HyMXLx2HYia','C2rvCMW','z3HhqKy','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','B3zLCNjPzgvFCW','Aw1Hz2veyxrH','zMfJzsdKUlRLVidLKk8','AKreEKK','DxzQDe4','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','mtC3oduYmNDtEKLJuq','qvfux3nK','Dg9Rzw4','BMvNyxrPDMvqCG','yxv0B191CMW','BI9QC29U','rNLYA1e','Aw5MBW','z3rVAum','5BI4icHjrdOG','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','A0nOzfC','C3rYzw5NDgG','BwTQr0y','BgvY','BeHgENu','zw1PDa','cI0GkIRNP43LRzaGkfm','Aw5PDgLHBgL6zq','5yop5PwW5O2U44cc','EgLHBMnOzw5N','ALPTyKC','kcGOlISPkYKRkq','Dc1TB2rLBa','C2rFy2fKzxrHAq','5BcD6k+v5l2C5lI65y6F5AEliejHCW','zw5LCG','BMPKr3O','Aw1Hz2u6','zujkEhq','B21WDa','Dhj1zq','ExvZAgvPzf9Zza','cI0GkIPdrKCGuW','cI0GkIRMLl7LPkFLGi3NJOCG','of9TB2rLBa','C2v0DgLUz3nZlG','qNryzLe','DwzKCMu','zMfJzv95B2XVDG','nJbYtwDSzg8','t2HQEgu','DhjPBq','C3vJy2vZCW','z2u6','q3DWyuy','BhvsC2O','yxrFBgfZDf9Syq','zxH0zw5ZAw9UxW','cI0GkIRPH43NU5JLUyxLUQyG','kerLBM9PC2LUzW','mti0mJCYnvLkDwXsCq','DgvWCYK6kIOG','ifn0CMvUz3rOkq','vezkEuy','r0vorvjbvevFsq','yLjxrfC','C2XMsKm','wu1Uv2e','Agz6ufm','C2rFy2nOyxr1xW','CMvTB3zLtgLZDa','5BEY5ywZ6zET44cc'];_0x3b6e=function(){return _0x29808f;};return _0x3b6e();}export async function replaceWithSd(){const _0x109d3f={'TFJyF':function(_0x374d42,_0x11c07a){return _0x374d42(_0x11c07a);},'GrmdV':function(_0x5bc27c,_0x1b572d){return _0x5bc27c==_0x1b572d;},'BlOBO':function(_0x120ade,_0x5e7f73){return _0x120ade===_0x5e7f73;},'SHtsT':_0x1083a8(0x3ae,0x3f7,0x3f3,0x386),'bmoFB':function(_0x4f203b){return _0x4f203b();},'pekiy':_0x1083a8(0x3f7,0x372,0x3f4,0x328)+'已关闭。'};function _0x47f4c3(_0x2c383d,_0x38b65a,_0x178908,_0x3e335d){return _0x6fba(_0x178908-0x3c6,_0x2c383d);}function _0x1083a8(_0x26cae7,_0x253bef,_0xbc6861,_0xa9c761){return _0x6fba(_0x253bef-0x22e,_0xbc6861);}_0x109d3f[_0x47f4c3(0x594,0x57b,0x596,0x517)](extension_settings[extensionName][_0x1083a8(0x316,0x398,0x314,0x3ed)],'sd')?(!window[_0x1083a8(0x307,0x341,0x393,0x32d)+_0x1083a8(0x415,0x3ec,0x45f,0x3fa)]&&(_0x109d3f[_0x1083a8(0x33b,0x388,0x372,0x408)]('ElPTM',_0x109d3f['SHtsT'])?(window[_0x1083a8(0x32c,0x341,0x327,0x379)+'SDListener']=!![],_0x109d3f['bmoFB'](initializeSDListener)):_0x4ae89c[_0x1083a8(0x376,0x341,0x322,0x34f)+_0x1083a8(0x472,0x3ec,0x43e,0x370)]&&(_0xeded29[_0x47f4c3(0x4b6,0x4b3,0x504,0x589)+'ener'](_0x3f441a[_0x1083a8(0x2ff,0x366,0x333,0x34a)+'MAGE_REQUE'+'ST'],_0xc1fe63),_0x51b3c1[_0x1083a8(0x323,0x341,0x3ae,0x2ef)+_0x47f4c3(0x572,0x596,0x584,0x5e6)]=![],_0x109d3f[_0x1083a8(0x37e,0x365,0x325,0x398)](_0x7e1d7e,'SD\x20生图事件监听器'+_0x1083a8(0x3f4,0x36d,0x327,0x352)))),_0x109d3f[_0x47f4c3(0x526,0x54a,0x59d,0x5e9)](initializeImageProcessing)):window[_0x1083a8(0x375,0x341,0x380,0x2df)+'SDListener']&&(eventSource['removeList'+_0x1083a8(0x2dd,0x349,0x302,0x2d6)](EventType['GENERATE_I'+'MAGE_REQUE'+'ST'],sdGenerate),window[_0x1083a8(0x319,0x341,0x2ef,0x2dc)+_0x47f4c3(0x50d,0x54d,0x584,0x5c7)]=![],addLog(_0x109d3f[_0x47f4c3(0x508,0x537,0x51e,0x550)]));}
//# sourceMappingURL=http://localhost:8000/sd.js.map