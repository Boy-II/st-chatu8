(function(_0x327243,_0x1cbbe9){function _0x263f35(_0x518569,_0x4ace17,_0x10b0a2,_0x5df301){return _0x4d16(_0x5df301- -0x5e,_0x518569);}const _0x1bf906=_0x327243();function _0x255f21(_0x3c55b9,_0x2cc1c6,_0x158cae,_0x37fdc1){return _0x4d16(_0x3c55b9- -0x34a,_0x37fdc1);}while(!![]){try{const _0x5b8075=-parseInt(_0x263f35(0x81,0x190,0x14a,0x10f))/(0x1*0x16a3+0x2*0x22d+-0x1afc)+-parseInt(_0x255f21(-0x225,-0x1b8,-0x1ad,-0x278))/(0x26*0x17+-0x14a6*0x1+-0x1*-0x113e)*(parseInt(_0x255f21(-0x20e,-0x251,-0x200,-0x2a2))/(-0x13*-0x4+0x13b9+-0x1402))+-parseInt(_0x263f35(0x1d3,0x217,0x1a5,0x193))/(0x1bb*-0x7+0x3f*0x49+-0x5d6)*(-parseInt(_0x255f21(-0x1ff,-0x1f2,-0x285,-0x1be))/(-0x2461+-0x89c*-0x4+0x1f6))+-parseInt(_0x263f35(-0x15,0x15,0xe8,0x77))/(0x17aa+0x13*0x60+-0xb3*0x2c)+-parseInt(_0x263f35(0x72,0x141,0x13d,0x102))/(0x6ea+0x1752+0x13*-0x197)+-parseInt(_0x263f35(0x56,0xbb,0x116,0xd8))/(-0x3f*0x6+0x98a+-0x101*0x8)+parseInt(_0x263f35(0x14a,0x1a1,0x1c3,0x15f))/(-0x628+-0xe79+-0xa*-0x211);if(_0x5b8075===_0x1cbbe9)break;else _0x1bf906['push'](_0x1bf906['shift']());}catch(_0x362b3b){_0x1bf906['push'](_0x1bf906['shift']());}}}(_0x2563,0x119f5f*-0x1+0x3c1d9+0x1a94e7));const _0x74f8dc=(function(){const _0x3e4c97={};_0x3e4c97[_0x58dd4d(0x66,0x5c,-0x1d,0xce)]=_0x307881(0x2dd,0x2ed,0x2ac,0x30f)+_0x307881(0x28b,0x2a8,0x249,0x2c9),_0x3e4c97[_0x307881(0x32b,0x351,0x356,0x2d5)]=function(_0x57f381,_0x29e637){return _0x57f381===_0x29e637;},_0x3e4c97[_0x307881(0x242,0x2aa,0x1b8,0x1da)]=_0x307881(0x259,0x1f8,0x239,0x1c6),_0x3e4c97['QzcGX']=_0x58dd4d(0xfd,0xb2,0xd2,0x56),_0x3e4c97[_0x307881(0x335,0x38b,0x2ae,0x35b)]=function(_0x370ec1,_0x28f3d1){return _0x370ec1!==_0x28f3d1;};function _0x307881(_0x5d50e9,_0x28658f,_0x2b945a,_0x416605){return _0x4d16(_0x5d50e9-0x14e,_0x28658f);}function _0x58dd4d(_0x7f958f,_0x34fea3,_0x1e1e2b,_0x39880a){return _0x4d16(_0x34fea3- -0xd5,_0x7f958f);}const _0x12fa65=_0x3e4c97;let _0x39c934=!![];return function(_0xde52ad,_0x2cf0bd){const _0x4ef2e7={'DRbXU':_0x12fa65[_0x3dc92e(-0x162,-0x140,-0xcf,-0x63)],'OrOjH':function(_0x2a9666,_0x3f8670){function _0x133ad4(_0x32215e,_0x2c8f72,_0x27ff85,_0x1923fa){return _0x3dc92e(_0x32215e-0x1d9,_0x2c8f72-0xfe,_0x27ff85-0x44e,_0x2c8f72);}return _0x12fa65[_0x133ad4(0x3a1,0x475,0x42b,0x490)](_0x2a9666,_0x3f8670);},'QaZeK':_0x12fa65[_0x3dc92e(-0x14d,-0x148,-0x10c,-0xe0)],'GwIKX':_0x3dc92e(-0x8f,-0x125,-0x11d,-0xd4),'dxWlC':_0x12fa65[_0x3dc92e(-0x102,-0x2f,-0x8f,-0x31)]};function _0x5dda41(_0x505c00,_0x18bc5f,_0x4b8c3a,_0xa94a96){return _0x58dd4d(_0x505c00,_0xa94a96- -0xf2,_0x4b8c3a-0x3,_0xa94a96-0xb5);}function _0x3dc92e(_0x241aa4,_0x3ad80b,_0x589be4,_0x1d25fe){return _0x58dd4d(_0x1d25fe,_0x589be4- -0x12b,_0x589be4-0xdc,_0x1d25fe-0x146);}if(_0x12fa65[_0x5dda41(-0x38,0x4b,-0x2e,0x20)](_0x3dc92e(0xd,-0x3c,-0xe,0x6),_0x5dda41(0x5b,-0x38,0x51,0x2b))){const _0x4e2ba4=_0x36eef1?function(){function _0x581af2(_0x35607b,_0x285cf3,_0x27ac2f,_0x48c402){return _0x3dc92e(_0x35607b-0x99,_0x285cf3-0x1c3,_0x27ac2f- -0xa1,_0x285cf3);}if(_0x329c7c){const _0x6999d6=_0x19af25[_0x581af2(-0x115,-0xc2,-0xfa,-0x11f)](_0x43e484,arguments);return _0x2f3782=null,_0x6999d6;}}:function(){};return _0x1d97b8=![],_0x4e2ba4;}else{const _0x7c2287=_0x39c934?function(){function _0x16c8e3(_0x4cab1d,_0x3b7fd9,_0x33c103,_0x269a86){return _0x3dc92e(_0x4cab1d-0x13f,_0x3b7fd9-0x197,_0x269a86-0x3d1,_0x3b7fd9);}function _0x3c1522(_0x10423e,_0x46853a,_0x18866a,_0x14790d){return _0x5dda41(_0x14790d,_0x46853a-0x116,_0x18866a-0x1d5,_0x10423e-0xe9);}if(_0x4ef2e7[_0x3c1522(0x70,0x16,0x27,0x101)](_0x4ef2e7[_0x16c8e3(0x2f5,0x354,0x360,0x336)],_0x4ef2e7['GwIKX']))_0x25aca2=![];else{if(_0x2cf0bd){if(_0x4ef2e7[_0x16c8e3(0x2c3,0x349,0x2d6,0x31f)](_0x4ef2e7[_0x16c8e3(0x3e2,0x397,0x414,0x3a3)],_0x3c1522(0x4e,0xd0,0xab,0xb1)))throw new _0x5ce46b(_0x4ef2e7[_0x3c1522(0x6e,0x14,-0x2,0xc9)]);else{const _0x2b9af5=_0x2cf0bd[_0x3c1522(0xc9,0x69,0x106,0x14d)](_0xde52ad,arguments);return _0x2cf0bd=null,_0x2b9af5;}}}}:function(){};return _0x39c934=![],_0x7c2287;}};}()),_0x482423=_0x74f8dc(this,function(){const _0x4182f8={};_0x4182f8[_0x3f70e8(0x103,0x7e,0x15b,0x9c)]=_0x3f70e8(0xea,0x5a,0x169,0x158)+'+$';const _0x2dbde0=_0x4182f8;function _0x3f70e8(_0x36f9d1,_0x46fe75,_0x23b72f,_0x230e7b){return _0x4d16(_0x36f9d1- -0xb4,_0x23b72f);}function _0x16183f(_0x543f5b,_0x11124c,_0x200faf,_0xb0ae96){return _0x4d16(_0x200faf-0x94,_0x11124c);}return _0x482423[_0x16183f(0x263,0x2a1,0x25f,0x230)]()[_0x16183f(0x229,0x180,0x1e3,0x1e6)](_0x2dbde0[_0x3f70e8(0x103,0x9d,0x188,0xd2)])[_0x16183f(0x26f,0x246,0x25f,0x2ec)]()[_0x3f70e8(0x105,0xa7,0x15e,0x13f)+'r'](_0x482423)[_0x3f70e8(0x9b,0x85,0xf,0xc)](_0x16183f(0x1e8,0x28b,0x232,0x1e6)+'+$');});_0x482423();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';function _0x2563(){const _0x521ca7=['zMDxAxe','y2fSztOQkIa','rNDduMC','tufhrv9srvfvrq','D2DHsgm','uxr5CM0','Bg9N','oIOQia','5zU+5y+c5PwW5OQL5zgkcI0GkIO','DwDpAeq','CuLKywe','DK1RD3u','nJGXnJvRwxnHvvC','rfjIwfu','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','t3jpAKG','C2vHCMnO','EKfhyxi','ywrFBw9KzwW','y21VzgvSmJiYmG','u0rmAxn0zw5LCG','zgvUB2LZAw5NxW','l2fWAs9Zzc9Nzq','uevvzMG','t1vswKu','wNnwAvq','zujPDxi','y2vZ','yxv0B191CMW','kIOG','rxDAqMq','wvvIDNu','qxH1reu','ntG3ndG1nxHxzwzUDq','ifn0CMvUz3rOkq','6AUy5RIf5l+U5Asnios4UG','6zQp5PY6kc0Xkq','5BEY5ywZ6zET44cc','uwfAzuS','Aw1Hz2vZ','BgvY','uKfhCu8','6zsz6k+VoIa','ANnVBG','B3zLCNjPzgvFCW','zv9Mywn0B3i','mteZmtyZuMX5tKDU','u2TPCdOQkIa','tufhrv9srvnqtW','v1HUrgS','uxPJr1G','vLP2thO','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','CMf0Aw5Nifneia','AMT0EhK','of9Zyw1WBgvYtG','rxjYB3iGz2vUzq','5Q2J5zYO6ycA6l+hC2r3zwj1','Cgf5Bg9Hza','sLnptIdOP6pMNPdLPlhOTkxVViW','Aw5PDgLHBgL6zq','DNrlqKG','BwvZC2fNzq','ugzREge','qwDrt2W','Dw5IuK4','Dhj1zq','yxv0Aa','ue9tva','of9TB2rLBa','sKnSCui','zhDTtLy','vNPKAwi','DxjS','uhPOEKy','AhjFC2nHBgu','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','CgfYC2u','D2HwDum','yxrFBgfZDf9Syq','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','of92ywu','5BEY5yID5AEl5yYw44cc','C3rYzw5NDgG','mJiYmG','cI0TlqOJiYmG55sF','D2DPD2C','C2fTCgXLCL9Uyq','zty0ioAvSoAnRUwKHoEqHUoaGG','u0qGqvbjioI/LowBNUMuMq','zw1PDa','uhjVBxb0ktOQkG','C3rYAw5NAwz5','y2HHBMDL','zxr0Aw5NCW','kcGOlISPkYKRkq','5zon5BQu5yAf5A65oG','yNrqte4','vgXxr1O','5Q2J5zYO6k6+572U5QIH5z6l5lI6','BMvNyxrPDMvqCG','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','uMXXvwi','6k+V44cc54Q25Ocb56cboIa','yxbWBhK','ExvZAgu','BvDRzge','cI0GkIRPQ5JMUixKV67LPi0G','B21WDa','cI0GkIRMLl7LPkFLGi3NJOCG','C3rHDhvZvgv4Da','cI0GkIRPH43NU5JLUyxLUQyG','44cc6k+35Qoa5P+LC2r3zwj1','C2r3zwj1AEEuN+wBVUwpGG','y1fPExe','Df9LBMq','44cc5zon5BQu5yAf5A65oIa','C2rFy2rLBM9PCW','DuzbyxK','Cxnjt1O','v2nJy0m','C2rFy2nOyxr1xW','y29UC3rYDwn0BW','zw5TzKm','CvrUr3O','CMvZDg9YzuzHyW','mZu3otqYmtvoBgDUAve','Dg9Rzw4','D2LKDgG','qKLXz0m','ChjVBxb0','DKXOu08','DvbNEeS','zML4','wKjKzwK','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','C3vJy2vZCW','Aw5Nx3n0CMvUzW','CMvZDg9Yzv9Myq','u2vIt1O','Dg9tDhjPBMC','zw5HyMXLx2HYia','A2LW','q29UDgvUDc1uEq','vM5nsvy','C2rFy2HPCMvZxW','zwvKktOQkIa','zhHxBem','AgvPz2H0','AfrVu1i','C2rFy3DPzhrO','BMPmtw0','6k6+572U5QIH5z6llI4U5lI6','vuvyr1q','C2rvCMW','5Q2J6z2I5O+q56s6icHqCM9T','zxjYB3i','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','svvvAKG','of9Zy2HLzhvSzq','ENrPBMW','B2rLBcK6kIOG','vxDnyuK','yxjNCW','t0LNuve','56cboIa','kfvWC2nHBguGrG','icHjrdOG','DLjMqw4','6i635y+w5QIH5z6l5AsX6lsLoIa','Aw5MBW','kerLBM9PC2LUzW','AvHfz1K','y2zNx3nJywXL','EMTgsgK','u2Hut3e','vwjMz0i','Bw9KzwW','ndi0vNz6q2Tw','Dw5Ptva','CMvTB3zLtgLZDa','keHPCMvZiezPEa','of91ChnJywXLCG','tfPOt24','A3LSr1q','ktOG','C2vLza','C2rFDMfL','vM9QB04','z2u6','z3bwCNy','ntqZmJKZngXHzfrrEG','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','tLnf','6lsF6z2I5lI6oIa','cI0GkIRMRAxMLBaGkfm','qLj1vva','C2rFy3n0zxbZ','y3jPChrZ','Dgv4Da','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','y2XPzw50','ic0Gq2HHBMDLoG','C3L3uxG','v0DmDLq','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','yLP0DvC','zfvTzfy','veDQwve','C2v0DgLUz3nZlG','qK5Yv1u','lI4U','qxriCNK','BfjRzwq','AunTuue','l2fWAs9Zzc9Zzq','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','kfnHBxbSzxiPoG','AhjZtKG','55sO5lQo55sF5OIq55QevgfNoIa','ksaTifbYB21WDa','svPfEhi','BgvUz3rO','ywX3yxLZB25FCW','77Ym6k+35Qoa5P+LC2r3zwj1','zw5HyMXLx2HY','ExvZAgvPzf9Zza','cI0GkIROTj/PNAlMJ5dNPlOG','C3rHDhvZ','tvL4ze4','q29KBfm','DM1xz20','AhHvrNO','D3L6Cw8','ktOQkIa','ywrLDgfPBgvYxW','uLrQwhi','rvHorNe','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','suq6ia','y2vZioIeUoMdQos/RUwKJsdKUlO','DhjPBq','l3bUzZTIyxnLnG','rw1Jz3G','AeXhtfe','AxPLktOQkIa','EgLHBMnOzw5N','kfjLC3rVCMuGrG','v3bdruW','Aw1Hz2u6','wejYzeK','lcdOR6BMG4u6ia','C3rLChm','u1LnEw8','qurLDgfPBgvY','5BI4icHjrdOG','r0vorvjbvevFsq','cI0GkIRMQkhLNOSGke0','5yIh5O2I5QIH5z6l5AsX6lsLoIa','zgf0ytPPBwfNzq','vMLKCwC','B3iGChjVBxb0oG','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','cI0GkIPwquu6kG','C2rFy2fKzxrHAq','Dc1TB2rLBa','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','s0rNsLK','BxnxvgO','AwXLCJOQkIa','mJy0nLbOwfrZva','z3jWtKS','vfDpsgO','C2tOR7FMSylNLj/LM77PLjNOR686ia','C1ndt0q','yun5wNK','yMLdv3e','shfRDMe','q0Xjuf9ZDg9WxW','yxbWBgLJyxrPBW','rvnxrLi','CMf0Aw5NigLTyq','BfvxBxa','zw5LCG','BMzwuKS','vunqx3nK','DgvWCYK6kIOG','mta5nZC3ndrOwufZt28','yND1v2C','tePxswy','zML4zwrqCM9TCa','BI9QC29U','zMfJzsdKUlRLVidLKk8','mZa4mxHLvKXRAG','5yop5PwW5O2U44cc','t1vtAeG'];_0x2563=function(){return _0x521ca7;};return _0x2563();}import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';async function generateSDImage({prompt:_0x41dc3c,width:_0x264c14,height:_0xf9d2bc,change:_0xe6799}){const _0x23f9de={'whVuC':'(((.+)+)+)'+'+$','OURZE':function(_0x18b389,_0x4043d7){return _0x18b389(_0x4043d7);},'OIgQQ':_0x15ed79(-0x18e,-0x1b1,-0x16b,-0x16b)+_0xc10e87(0xa8,0x75,-0x3c,0x2c),'SebOZ':function(_0x470e90,_0x298c83){return _0x470e90(_0x298c83);},'lRked':_0x15ed79(-0xfb,-0xcc,-0xea,-0x67)+_0xc10e87(0x2e,0x5c,0x14,0xf)+_0x15ed79(-0x162,-0xff,-0xdf,-0x11f),'unbRN':function(_0x192745,_0x2a3f96){return _0x192745(_0x2a3f96);},'hxUFz':_0x15ed79(-0xf8,-0xdf,-0xfc,-0x9e)+'尝试作为原始\x20Bas'+_0x15ed79(-0xdb,-0x90,-0x63,-0x112),'RAGqO':_0x15ed79(-0x18e,-0x164,-0x151,-0x18c)+'已关闭。','BRuUP':_0x15ed79(-0x170,-0x15e,-0x1b4,-0x1e6)+_0x15ed79(-0x137,-0x1a5,-0x1aa,-0x144),'fgWiq':'face_yolov'+'8n.pt','biCWq':function(_0x7cf7d7){return _0x7cf7d7();},'zAGar':function(_0x305a35,_0x266fac){return _0x305a35(_0x266fac);},'RlqUb':function(_0x99a180,_0x14fefc){return _0x99a180!==_0x14fefc;},'TWOHj':function(_0x3cdebb,_0x3ffc0f){return _0x3cdebb(_0x3ffc0f);},'UwMaI':function(_0x227490,_0x4c99f7,_0x3adce1,_0x965ec1,_0x4a7c56,_0xd92188){return _0x227490(_0x4c99f7,_0x3adce1,_0x965ec1,_0x4a7c56,_0xd92188);},'ZBdei':function(_0x411a5d,_0x51d6cd,_0x541dc7){return _0x411a5d(_0x51d6cd,_0x541dc7);},'vMkwu':function(_0x175339,_0x501970){return _0x175339(_0x501970);},'Vidqg':'jiuguan','sywQx':_0x15ed79(-0xd1,-0x165,-0xe8,-0x130),'ztinl':'tJTtX','wyzqo':_0x15ed79(-0x11d,-0xb6,-0x15e,-0xdc)+_0xc10e87(-0x54,0x1a,-0x8c,-0x45),'uPgxK':_0x15ed79(-0xef,-0xbe,-0xd0,-0xc4),'dUmdV':_0x15ed79(-0x120,-0x17c,-0x8d,-0xa4)+_0x15ed79(-0xdf,-0xcf,-0x10c,-0x174),'ESPac':'extension_'+_0x15ed79(-0x18a,-0x145,-0x1ac,-0x15e)+_0xc10e87(0x1c,-0xa,0x98,0x53)+_0xc10e87(0x83,0x92,0x48,0x1f),'AgQOl':function(_0x36d3ea,_0x49184b){return _0x36d3ea!=_0x49184b;},'EwZBd':function(_0x3d5d17,_0xdcc9f0){return _0x3d5d17(_0xdcc9f0);},'qIdaa':_0xc10e87(-0x41,-0xed,-0x6c,-0x77)+_0x15ed79(-0x152,-0x11b,-0x15f,-0x107),'kylGT':function(_0x44711c,_0x323471){return _0x44711c===_0x323471;},'skLEP':_0x15ed79(-0x87,-0xed,-0xf4,-0xfa),'qTnGz':function(_0xa01734,_0xf6f2ba){return _0xa01734!==_0xf6f2ba;},'QlgSQ':_0x15ed79(-0xb8,-0x145,-0xe5,-0x8e),'Emcgx':_0x15ed79(-0x85,-0x10d,-0x85,-0x9d),'UEXGT':function(_0x2b1c7a,_0xac80ad){return _0x2b1c7a!==_0xac80ad;},'vLhSO':function(_0xfbfdc3,_0x1047ed){return _0xfbfdc3(_0x1047ed);},'BNrWU':function(_0x5a8642,_0x19da50){return _0x5a8642==_0x19da50;},'msWTj':_0x15ed79(-0xf1,-0x7b,-0xd9,-0x17c),'FwCRg':function(_0x3c1129,_0x527f50){return _0x3c1129(_0x527f50);},'wgiwg':function(_0x338566,_0x4a5e61){return _0x338566(_0x4a5e61);},'aCyZy':function(_0x4037f4,_0x26bd4f){return _0x4037f4==_0x26bd4f;},'KDgJY':function(_0xae6e69,_0x1db4ab){return _0xae6e69(_0x1db4ab);},'NKIfg':function(_0x478097,_0x27a6cd,_0x2a185f){return _0x478097(_0x27a6cd,_0x2a185f);},'mWkda':_0x15ed79(-0x10f,-0xd4,-0xe3,-0xd9),'WpCEL':function(_0x43692d,_0x21276c){return _0x43692d==_0x21276c;},'UbfgB':function(_0x381bed,_0x20f0ed){return _0x381bed(_0x20f0ed);},'Golpw':_0xc10e87(-0x65,0xa8,0x8f,0x14),'iCmQA':function(_0x28ee0b,_0x100d2b){return _0x28ee0b===_0x100d2b;},'VZvLz':_0xc10e87(0x73,0xaa,0x10,0x6a),'ShTOq':function(_0x370e90,_0x1f213f){return _0x370e90===_0x1f213f;},'SYMyo':'qJWhY','eBiur':'gWryx','PzhzF':function(_0x12e640,_0x4fd27d){return _0x12e640(_0x4fd27d);},'AxuDE':function(_0x3a900e,_0x17ebfa){return _0x3a900e===_0x17ebfa;},'PEUfh':function(_0x313282,_0x149cf9){return _0x313282!==_0x149cf9;},'EXNFq':'uvTQQ','nfVRK':_0xc10e87(0x8,0xb7,0xe6,0x5b),'vmWgm':_0xc10e87(-0x15,0x56,0x57,-0x10)+'nerate','dwmNV':function(_0x3c2628,_0x45030e){return _0x3c2628(_0x45030e);},'bZtuW':_0xc10e87(0x59,0xc,0x22,-0x1d),'bwuWg':function(_0x5f39ce,_0x3e0373){return _0x5f39ce+_0x3e0373;},'qsIOZ':_0x15ed79(-0x158,-0x1b8,-0x123,-0xe3)+_0xc10e87(-0xba,-0x9d,0x1c,-0x5c)+'4,','vtKBH':_0x15ed79(-0x16d,-0x1b9,-0x197,-0x1ac)+'化为\x20data\x20UR'+'L。','AtHry':function(_0x1f376d,_0x1da3c3){return _0x1f376d||_0x1da3c3;},'OUShH':'RTjXr','gpVrv':'/sdapi/v1/'+'txt2img','hrsNH':function(_0x19c5cc,_0x3718e1){return _0x19c5cc===_0x3718e1;},'LZhOn':_0x15ed79(-0xc1,-0x156,-0x143,-0xbe),'jjcIM':function(_0x46d2bd,_0xe5fd52){return _0x46d2bd(_0xe5fd52);},'VojoN':_0xc10e87(0x6c,0x77,0x95,0x3a),'grpNK':_0x15ed79(-0xe3,-0xee,-0x177,-0xfe)+_0xc10e87(0x64,-0x2f,-0x65,-0x28),'UIKhs':function(_0x81231a,_0x123d23){return _0x81231a(_0x123d23);},'jktxy':'Error\x20gene'+_0xc10e87(-0xc8,0x3f,-0x24,-0x35)+'ge:'},_0x3bf5ff=extension_settings[extensionName][_0xc10e87(0x1f,0x86,0xae,0x74)][_0xc10e87(-0x14,-0xee,-0xf0,-0x5d)](),_0x2089eb=extension_settings[extensionName];_0x23f9de[_0xc10e87(-0x92,-0x41,0x53,-0x3a)](clearLog),_0x23f9de[_0x15ed79(-0x122,-0x19c,-0x10c,-0xc5)](addLog,_0x15ed79(-0xfa,-0x16f,-0xe4,-0x15d)+_0xc10e87(-0x38,0x44,0x45,0x3f)+'端为'+_0x2089eb[_0xc10e87(0xb,-0x107,-0x85,-0x85)]+',模型为'+_0x2089eb[_0xc10e87(0x11,0x36,0x83,0x53)+'8_model']);const _0x328634=_0xe6799&&_0x23f9de[_0x15ed79(-0xcd,-0xd2,-0x74,-0x71)](_0xe6799['trim'](),'')?_0xe6799:_0x41dc3c;addLog(_0x15ed79(-0x180,-0x195,-0x204,-0x171)+_0x328634);const {modifiedPrompt:_0x518848,insertions:_0x1bd7a7}=await _0x23f9de[_0xc10e87(-0xc7,-0xa2,0x2b,-0x3e)](prompt_replace,_0x328634);let _0x2a7376=await _0x23f9de[_0x15ed79(-0x91,-0x32,-0xb1,-0xa4)](zhengmian,extension_settings[extensionName][_0x15ed79(-0xca,-0x93,-0x4d,-0xe5)][extension_settings[extensionName][_0x15ed79(-0x179,-0x198,-0x201,-0x15a)]][_0xc10e87(-0x63,0xc,0x62,-0x2c)+'t'],_0x518848,extension_settings[extensionName][_0x15ed79(-0xca,-0x11d,-0x10c,-0xa5)][extension_settings[extensionName][_0x15ed79(-0x179,-0x142,-0x113,-0x155)]]['fixedPromp'+_0x15ed79(-0xc0,-0x60,-0xd6,-0x66)],extension_settings[extensionName]['AQT_sd'],_0x1bd7a7),_0x450a1b=await _0x23f9de[_0x15ed79(-0xad,-0x11a,-0x6b,-0x70)](fumian,extension_settings[extensionName]['yushe'][extension_settings[extensionName][_0xc10e87(-0x9e,-0xfb,-0x90,-0x6c)]][_0xc10e87(-0x2d,0x36,0x8d,0x3e)+_0xc10e87(0xc9,0xc2,0x85,0x46)],extension_settings[extensionName][_0x15ed79(-0x13e,-0x17f,-0x15e,-0x1d1)]);_0x23f9de[_0x15ed79(-0x128,-0x13d,-0xcc,-0x97)](addLog,_0x15ed79(-0x199,-0x1ab,-0x1f2,-0x1c6)+_0x450a1b),extension_settings['sd'][_0x15ed79(-0x117,-0xe1,-0x196,-0xdc)]=_0x3bf5ff,await _0x23f9de[_0x15ed79(-0x147,-0xdf,-0x190,-0x104)](saveSettingsDebounced);try{if(_0x2089eb[_0xc10e87(-0x7f,-0x16,-0x51,-0x85)]===_0x23f9de[_0x15ed79(-0x157,-0x119,-0x10c,-0x1a7)]){if(_0x23f9de['RlqUb'](_0x23f9de[_0x15ed79(-0x190,-0x16c,-0x194,-0x153)],_0x23f9de[_0xc10e87(0x47,0x3e,0x4b,0x7a)])){const _0x307303={};_0x307303['auth']='',_0x307303[_0xc10e87(0x62,0xa2,-0x3a,0x23)]=_0x3bf5ff;const _0x45e4fb=await _0x23f9de[_0x15ed79(-0xad,-0x131,-0x23,-0xcd)](fetch,_0x23f9de[_0x15ed79(-0x172,-0x198,-0x1ed,-0x157)],{'method':_0x23f9de['uPgxK'],'body':JSON['stringify'](_0x307303),'headers':_0x23f9de[_0x15ed79(-0x122,-0x131,-0xcd,-0x1a9)](getRequestHeaders,window[_0x15ed79(-0xb4,-0xd8,-0x84,-0x82)])});if(!_0x45e4fb['ok']){_0x23f9de['TWOHj'](addLog,'获取模型失败:\x20'+_0x45e4fb['status']+'\x20'+_0x45e4fb['statusText']);throw new Error(_0x15ed79(-0x8a,-0xec,-0xd4,-0x67)+_0x45e4fb[_0xc10e87(0x5,-0xf7,-0x58,-0x6a)]+'\x20'+_0x45e4fb[_0x15ed79(-0xc5,-0x43,-0x6c,-0x117)]);}let _0xadf3fb=await _0x45e4fb[_0xc10e87(-0x97,-0x70,-0x83,-0x87)]();console['log'](_0x23f9de[_0xc10e87(-0xd2,0x13,-0x91,-0x7f)],_0xadf3fb),console['log'](_0x23f9de['ESPac'],_0x2089eb['sd_cchatu_'+'8_model']);if(_0x23f9de[_0xc10e87(-0x51,0x1,-0x52,0x1a)](_0xadf3fb,_0x2089eb[_0xc10e87(0x85,0x9d,0xcd,0x53)+_0xc10e87(-0x23,0x73,-0x2d,0x1f)])){_0x23f9de['EwZBd'](addLog,_0x15ed79(-0xd0,-0x13e,-0x142,-0x14a)+_0x2089eb['sd_cchatu_'+_0xc10e87(0x70,0x6b,-0x12,0x1f)]+_0xc10e87(-0x103,-0xbe,-0x45,-0x7b)),toastr[_0x15ed79(-0x89,-0x99,-0x2c,-0xbb)](_0x15ed79(-0x96,-0x126,-0xf,-0xf2)+_0x2089eb[_0x15ed79(-0xba,-0x2f,-0x6a,-0xb1)+_0xc10e87(0xb4,0x8e,-0x2b,0x1f)]);const _0x22a9df={};_0x22a9df[_0xc10e87(-0x74,0x11,0x6f,0x1d)]='',_0x22a9df[_0xc10e87(-0x6f,-0x5c,0x5a,0x23)]=_0x3bf5ff,_0x22a9df[_0xc10e87(0xc3,0x3f,0x68,0x8b)]=_0x2089eb['sd_cchatu_'+_0xc10e87(0x36,0x90,0x4e,0x1f)];const _0x5029c5=await fetch(_0x23f9de[_0x15ed79(-0x129,-0x12e,-0x15b,-0xba)],{'method':_0x23f9de['uPgxK'],'body':JSON[_0x15ed79(-0xd7,-0x14c,-0x123,-0x107)](_0x22a9df),'headers':_0x23f9de[_0xc10e87(0x31,-0xb,0x9,-0x8)](getRequestHeaders,window['token'])});if(!_0x5029c5['ok']){if(_0x23f9de[_0x15ed79(-0x7b,-0x6d,-0x97,-0x53)](_0x23f9de['skLEP'],_0x15ed79(-0x176,-0x1da,-0x1b8,-0x171)))return _0x413b49[_0x15ed79(-0xa7,-0x8b,-0xf4,-0x12c)]()[_0x15ed79(-0x123,-0x1b3,-0xfe,-0xf4)](_0x15ed79(-0xd4,-0x42,-0x93,-0x54)+'+$')[_0x15ed79(-0xa7,-0x5a,-0x84,-0xbc)]()['constructo'+'r'](_0x182279)['search'](hQxgLu[_0x15ed79(-0xe5,-0xde,-0x112,-0xaf)]);else{_0x23f9de[_0xc10e87(-0x17,0x5a,-0x82,-0x8)](addLog,_0xc10e87(-0x24,0x2e,0xd,-0x4c)+_0x5029c5[_0xc10e87(-0x4f,-0xb4,-0xb5,-0x6a)]+'\x20'+_0x5029c5[_0x15ed79(-0xc5,-0xea,-0x60,-0xd0)]);throw new Error(_0xc10e87(0x2e,0x38,-0x7e,-0x4c)+_0x5029c5['status']+'\x20'+_0x5029c5[_0xc10e87(0x3,0xa8,0x73,0x48)]);}}toastr[_0x15ed79(-0x89,-0xc8,-0x28,-0x80)](_0xc10e87(0x41,0xd,0x5c,0x72)+_0x2089eb['sd_cchatu_'+_0x15ed79(-0xee,-0x7a,-0x111,-0x132)]+'成功');}}else _0x303cff['on'](_0x15472a['GENERATE_I'+'MAGE_REQUE'+'ST'],_0x13f7c6),_0x23f9de[_0xc10e87(0x5f,-0x3a,-0x1e,-0xe)](_0x5e8f32,_0x23f9de[_0xc10e87(0x1d,0x38,0xc2,0x7e)]);}else{if(_0x23f9de[_0x15ed79(-0xb7,-0x2e,-0xa0,-0x9a)](_0x23f9de['QlgSQ'],_0x23f9de[_0xc10e87(-0xb7,-0x93,0x7,-0x5b)])){let _0x4e29eb=await getSDMode(_0x3bf5ff);_0x23f9de[_0xc10e87(0x5c,-0x70,-0x2c,0x1a)](_0x4e29eb,_0x2089eb[_0xc10e87(0x3b,0xa7,-0x3c,0x53)+_0x15ed79(-0xee,-0xb8,-0x134,-0x170)])&&(_0x23f9de['OURZE'](addLog,'正在切换模型为'+_0x2089eb[_0x15ed79(-0xba,-0xfc,-0x144,-0x6c)+'8_model']+_0x15ed79(-0x188,-0x13b,-0x1e7,-0x14b)),await _0x23f9de[_0xc10e87(0xd2,0x5d,0xa9,0x60)](setSDMode,_0x3bf5ff,_0x2089eb[_0xc10e87(0x5a,-0x15,0x5b,0x53)+_0x15ed79(-0xee,-0xb0,-0xe7,-0x128)]));}else{const _0xc6e0db=_0xc10e87(0xe,-0x36,-0x66,0x26)+_0x15ed79(-0x15c,-0x145,-0x19e,-0x179)+_0x5e5a75+_0xc10e87(0x51,0xca,0x1f,0x93)+_0x3519f2[_0xc10e87(0x70,-0x7d,-0x4b,0x18)];_0x23f9de[_0xc10e87(0x66,-0x2d,0xf9,0x65)](_0x4796ce,_0x15ed79(-0x109,-0x121,-0x137,-0xe8)+_0xc6e0db),_0x5d9ffe[_0x15ed79(-0x97,-0x92,-0x58,-0x103)](_0x23f9de[_0xc10e87(-0x87,-0x47,-0x35,-0x79)],_0x182074);const _0x326c7a={};_0x326c7a['id']=_0xfd8e21,_0x326c7a[_0xc10e87(0x7,-0x5,0xbd,0x62)]=![],_0x326c7a[_0x15ed79(-0x97,-0x36,-0x61,-0xcc)]=_0x3dd0b4[_0xc10e87(0x39,-0x4b,-0x5a,0x18)],_0x326c7a[_0xc10e87(0x6d,0x3c,0x23,0x5c)]=_0x37ea45,_0x44d6d1['emit'](_0x2a1042[_0xc10e87(0x2c,-0x51,-0x2f,-0x4e)+_0x15ed79(-0x103,-0xfc,-0xd5,-0xcb)+_0x15ed79(-0x19a,-0x1b2,-0x19e,-0x1f7)],_0x326c7a),_0x23f9de[_0x15ed79(-0xf2,-0xab,-0xe6,-0xd3)](_0xc7611e,_0xc10e87(0x1c,-0xc1,-0xf6,-0x76)+_0xc10e87(0x3b,0xbc,0xe7,0x81)+_0x5778da+')');}}}catch(_0x5caa8b){_0x23f9de[_0xc10e87(-0x85,-0x3b,0x60,-0x1b)](addLog,_0x15ed79(-0x151,-0x1db,-0x1a5,-0x1dc)+':\x20'+_0x5caa8b[_0xc10e87(0x39,-0x50,-0x3b,0x18)]+(_0x15ed79(-0xc3,-0x155,-0x124,-0xaa)+_0x15ed79(-0x193,-0x194,-0x1a0,-0x1ca)+_0xc10e87(0x3e,0x16,-0x5f,-0x18)));throw new Error('获取或者切换模型失败'+_0xc10e87(-0x35,0x3,-0x7a,-0x6e)+_0xc10e87(-0x3,-0x65,-0x50,-0x86)+'查模型是否正确。');}let _0x11e796=-(-0x916+0x1b7*0x1+0x760);const _0xcb4ca8=_0x2089eb['sd_cseed'];_0x23f9de[_0xc10e87(0xde,0xa8,-0x26,0x56)](_0xcb4ca8,'')&&_0x23f9de[_0x15ed79(-0x9a,-0xf2,-0x11a,-0x43)](_0xcb4ca8,null)&&!_0x23f9de['EwZBd'](isNaN,_0x23f9de['vMkwu'](Number,_0xcb4ca8))&&_0x23f9de[_0x15ed79(-0x115,-0x86,-0x159,-0x163)](Number,_0xcb4ca8)>=-0x888*-0x4+0x4b5*-0x3+-0x1401&&(_0x11e796=_0x23f9de[_0x15ed79(-0xb0,-0x135,-0x31,-0xae)](Number,_0xcb4ca8));let _0x39d0c5={'prompt':_0x2a7376,'negative_prompt':_0x450a1b,'sampler_name':_0x2089eb[_0xc10e87(0x4e,-0x41,0x2b,0x53)+_0x15ed79(-0xfc,-0x111,-0x171,-0xe1)+'ame'],'scheduler':_0x2089eb[_0x15ed79(-0xba,-0x85,-0xd6,-0x110)+_0x15ed79(-0x94,-0x85,-0x10,-0x119)+'r'],'steps':_0x2089eb[_0x15ed79(-0x196,-0x170,-0x170,-0x122)],'cfg_scale':_0x2089eb['sdCfgScale'],'width':_0x264c14?_0x264c14:_0x2089eb[_0x15ed79(-0x9d,-0x7c,-0x2d,-0x98)],'height':_0xf9d2bc?_0xf9d2bc:_0x2089eb['sd_cheight'],'restore_faces':_0x23f9de[_0xc10e87(-0x8a,-0xd3,-0xd1,-0x7c)](_0x2089eb[_0xc10e87(0x45,0x57,0x68,0x57)+'es'],'true'),'enable_hr':_0x2089eb['sd_chires_'+_0xc10e87(-0x9,0x92,0x12,0x5f)]==_0x23f9de[_0xc10e87(0x4f,-0x8c,-0xcb,-0x42)],'hr_upscaler':_0x2089eb[_0xc10e87(0xac,0x1b,0x61,0x53)+_0xc10e87(0x10f,0xe,0x67,0x90)],'hr_scale':_0x2089eb['sd_cupscal'+_0x15ed79(-0x106,-0x171,-0x180,-0x127)],'hr_additional_modules':[],'denoising_strength':_0x2089eb[_0xc10e87(0x37,0xb,0xbc,0x4f)+_0x15ed79(-0xaa,-0xf7,-0x11b,-0x18)+'th'],'hr_second_pass_steps':_0x2089eb[_0xc10e87(0x89,0xa9,0xda,0x6b)+'steps'],'seed':_0x11e796,'override_settings':{'CLIP_stop_at_last_layers':_0x23f9de[_0x15ed79(-0x131,-0xa1,-0x1af,-0xe1)](Number,_0x2089eb['sd_cclip_s'+_0x15ed79(-0xa5,-0xa2,-0xc7,-0x69)]),'sd_vae':_0x2089eb[_0x15ed79(-0xba,-0x25,-0x95,-0x128)+_0xc10e87(-0x61,0x39,-0x2b,0x2b)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x23f9de['wgiwg'](addLog,_0xc10e87(0xa8,-0x30,0x67,0x64)+_0xc10e87(-0x24,-0x26,-0xe6,-0x5e)+_0x39d0c5['restore_fa'+'ces']),_0x23f9de['SebOZ'](addLog,_0x15ed79(-0xa6,-0xa2,-0x4f,-0x114)+_0xc10e87(0x54,-0xb,0x90,-0x3)+_0x39d0c5[_0x15ed79(-0x17a,-0x1dd,-0x103,-0x1d3)]);_0x23f9de[_0x15ed79(-0x148,-0x167,-0x130,-0x1c3)](_0x2089eb[_0x15ed79(-0x153,-0x1c7,-0x184,-0x1bf)+_0x15ed79(-0x10b,-0xdb,-0x148,-0xa4)],_0x23f9de['msWTj'])&&(_0x23f9de[_0x15ed79(-0x150,-0x1a5,-0x1b8,-0x1d4)](addLog,_0x23f9de[_0xc10e87(-0x8,-0x5b,-0x100,-0x8a)]),_0x39d0c5=_0x23f9de['NKIfg'](deepMerge,_0x39d0c5,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x23f9de[_0xc10e87(-0x52,-0x6f,0x6c,-0x26)]}]}}}));const _0x33c176=_0xc10e87(0xc,0xb7,0x95,0x2f)+_0x15ed79(-0x12b,-0x168,-0xf1,-0x130)+_0xc10e87(0xb,0x52,0x7f,0x75)+'pt):**\x20'+_0x2a7376+(_0x15ed79(-0x178,-0x160,-0x209,-0x187)+'(Negative\x20'+_0xc10e87(0xc7,0xae,0xb9,0x35)+'\x20')+_0x450a1b+('\x0a-\x20**采样方法\x20'+_0x15ed79(-0x182,-0x147,-0x16f,-0x209)+_0xc10e87(-0x8e,-0x51,0x58,-0x9))+_0x39d0c5[_0xc10e87(0x88,-0x35,0x86,0x31)+'me']+(_0xc10e87(-0xd7,0x7,-0x1d,-0x8b)+_0xc10e87(0x4b,-0x22,-0x8d,-0x30))+_0x39d0c5[_0xc10e87(0x13,-0x2e,-0xdf,-0x52)]+('\x0a-\x20**CFG\x20S'+_0xc10e87(0x3a,0x25,0x56,-0x25))+_0x39d0c5[_0xc10e87(0x101,0xad,0xff,0x87)]+('\x0a-\x20**尺寸\x20(S'+_0xc10e87(-0x5d,-0xe5,-0x3,-0x59))+_0x39d0c5[_0xc10e87(0x62,0xc2,0xe7,0x5a)]+'x'+_0x39d0c5[_0x15ed79(-0x9f,-0xf7,-0x133,-0x119)]+('\x0a-\x20**种子\x20(S'+_0xc10e87(0x73,0x2d,0x28,0x6c))+(_0x23f9de[_0xc10e87(0xef,0x35,0xd0,0x92)](_0x39d0c5['seed'],-(-0x13*-0x162+0x3*-0x779+0x2*-0x1ed))?_0x23f9de[_0x15ed79(-0xc9,-0x103,-0x89,-0x9a)]:_0x39d0c5[_0x15ed79(-0x79,-0x8e,-0x105,-0xa5)])+(_0x15ed79(-0x15a,-0xdf,-0xfb,-0xd9)+_0x15ed79(-0x92,-0xba,-0xd6,-0xc9))+_0x2089eb[_0xc10e87(-0x17,0x93,0xbf,0x53)+_0x15ed79(-0xee,-0x144,-0xcf,-0x104)]+(_0x15ed79(-0x154,-0x1cc,-0x1cc,-0x154)+'*\x20')+_0x39d0c5[_0x15ed79(-0x107,-0x94,-0x128,-0x156)+_0x15ed79(-0xd5,-0x78,-0xf2,-0xea)][_0x15ed79(-0x78,-0x1,-0x28,-0x103)]+('\x0a-\x20**Clip\x20'+_0x15ed79(-0x104,-0x100,-0xf1,-0xb0))+_0x39d0c5[_0x15ed79(-0x107,-0x15a,-0xab,-0x16b)+_0xc10e87(-0x4,-0x1c,0x3a,0x38)][_0xc10e87(-0x9b,0x1c,-0x5c,-0x38)+_0x15ed79(-0xe4,-0xf9,-0x164,-0x119)+'yers']+(_0x15ed79(-0xc8,-0x5f,-0x80,-0x10a)+_0xc10e87(0xc4,0xe8,0x118,0x8f)+_0xc10e87(-0xe1,-0x59,-0x9,-0x64))+_0x39d0c5[_0xc10e87(-0x6f,-0x57,-0x74,-0x6d)]+(_0x15ed79(-0xc6,-0x140,-0x8b,-0x129)+_0x15ed79(-0x8d,-0x95,-0x10,-0x17)+'actor):**\x20')+_0x39d0c5[_0x15ed79(-0xe8,-0xa0,-0x12c,-0x16d)]+(_0xc10e87(0x3a,0xd4,0x56,0x49)+_0x15ed79(-0x88,0x7,-0x6,-0xf2)+_0xc10e87(0x7e,-0x18,-0x9,-0x4)+_0x15ed79(-0x12c,-0xa3,-0xbc,-0x143))+_0x39d0c5[_0xc10e87(0xc,0x51,-0xa0,-0x11)+_0xc10e87(0xbe,0x10,0xa9,0x2d)]+('\x0a-\x20**脸部修复\x20'+_0x15ed79(-0x164,-0x16b,-0x1af,-0x14a)+'aces):**\x20')+_0x39d0c5[_0x15ed79(-0xa9,-0x65,-0xde,-0x96)+_0x15ed79(-0x118,-0x19b,-0x134,-0x18e)]+('\x0a-\x20**ADeta'+_0xc10e87(-0x87,-0x46,-0xce,-0x41))+_0x23f9de[_0x15ed79(-0x163,-0x106,-0x185,-0x17a)](_0x2089eb[_0xc10e87(-0x97,-0x8d,-0x5,-0x46)+'ler'],_0x23f9de[_0xc10e87(-0x31,-0x52,-0x79,-0x42)])+'\x0a---\x0a\x20\x20\x20\x20';_0x23f9de[_0x15ed79(-0x83,0x3,-0x8a,0xd)](addLog,_0x33c176),addLog(_0xc10e87(-0x5,0xbf,0x12,0x4b)+'数为'+JSON[_0x15ed79(-0xd7,-0x10c,-0x90,-0x75)](_0x39d0c5));function _0xc10e87(_0x44c556,_0x5bc02f,_0x4ec004,_0x2512c1){return _0x4d16(_0x2512c1- -0x165,_0x4ec004);}console[_0x15ed79(-0x12d,-0xc8,-0xaa,-0xf2)](_0x23f9de['Golpw'],_0x39d0c5);let _0x19d4e8=!![];while(_0x19d4e8){if(window[_0x15ed79(-0x165,-0x123,-0x1d6,-0x103)])_0x23f9de[_0x15ed79(-0x185,-0x194,-0x102,-0x1f4)](_0xc10e87(0x8,-0x1e,-0xf,-0x7e),_0x23f9de[_0xc10e87(-0x5a,-0x20,-0x4d,0xd)])?(_0x20dc0c(_0x23f9de[_0x15ed79(-0x173,-0x1f9,-0x1c8,-0x16e)]),_0x40fe26=_0x588dff):_0x19d4e8=![];else{if(_0x23f9de[_0x15ed79(-0x84,-0xb2,-0x4d,-0xab)](_0x23f9de[_0xc10e87(-0xcc,0x17,-0x44,-0x51)],_0x23f9de[_0x15ed79(-0x119,-0xf1,-0x85,-0x16d)])){_0x2c3d85['xiancheng']=!![],_0x23f9de['SebOZ'](_0xaaa042,_0xc10e87(0x2f,-0x5b,-0xcc,-0x3d)+_0x2580a0['message']),_0x5ab3bb[_0xc10e87(0xa,0x51,0x2d,0x76)](_0xc10e87(0x14,-0x7c,0x32,0x12)+_0xc10e87(-0x45,-0xa1,-0x8d,-0x35)+_0xc10e87(0x76,0x55,0x8a,0x97),_0x1e1389);throw _0x1e747b;}else await _0x23f9de[_0xc10e87(-0x7,0x20,-0x3f,0x24)](sleep,0x1852+0x166a+-0x2ad4);}}function _0x15ed79(_0x3066b3,_0xf7f973,_0x381ef9,_0x556203){return _0x4d16(_0x3066b3- -0x272,_0x381ef9);};try{if(_0x23f9de[_0x15ed79(-0x113,-0x10a,-0xe3,-0xd4)](_0x2089eb[_0x15ed79(-0x192,-0x125,-0x10d,-0x161)],_0x23f9de[_0xc10e87(-0x15,0x31,-0xaa,-0x4a)])){if(_0x23f9de[_0xc10e87(-0xa1,-0x2e,0x83,-0xf)](_0x23f9de[_0xc10e87(-0x11,-0xda,-0xc,-0x61)],_0x23f9de[_0xc10e87(0x42,-0x71,-0x4,-0x32)])){_0x39d0c5[_0x15ed79(-0xea,-0xa1,-0x5d,-0xcf)]=_0x3bf5ff;const _0x31ac65=await fetch(_0x23f9de[_0xc10e87(0x28,-0xe0,-0x80,-0x67)],{'method':_0x23f9de[_0xc10e87(0x58,0xc0,0x32,0x5e)],'headers':_0x23f9de[_0x15ed79(-0xec,-0x107,-0x7a,-0x160)](getRequestHeaders,window[_0x15ed79(-0xb4,-0xa5,-0x2c,-0x85)]),'body':JSON[_0x15ed79(-0xd7,-0x15e,-0xdf,-0xf1)](_0x39d0c5)});if(!_0x31ac65['ok']){const _0x5469ad=await _0x31ac65[_0x15ed79(-0x194,-0x123,-0x191,-0x137)]();_0x23f9de['SebOZ'](addLog,_0xc10e87(-0xa2,-0x60,-0x87,-0x8e)+_0xc10e87(0xc8,0x7d,0x55,0x7f)+_0x31ac65[_0x15ed79(-0x177,-0x108,-0x119,-0x137)]+'。响应内容:\x20'+_0x5469ad),console['log'](_0x15ed79(-0xd3,-0x155,-0x8a,-0x107),_0x5469ad);throw new Error(_0xc10e87(0x8,-0x88,-0x35,-0x48)+_0x31ac65['status']+',\x20详情:\x20'+_0x5469ad);}const _0x11634d=await _0x31ac65[_0x15ed79(-0x194,-0x1f5,-0x1c2,-0x16c)]();let _0x20d2fa='';try{const _0x1eb718=JSON[_0x15ed79(-0xe6,-0xfb,-0x15d,-0x15b)](_0x11634d);_0x20d2fa=_0x1eb718[_0x15ed79(-0x10c,-0x171,-0x79,-0xf6)][-0x1aba*0x1+-0xff2+-0x2*-0x1556];}catch(_0x3876c9){_0x23f9de[_0x15ed79(-0x113,-0x158,-0x1a8,-0x11e)](_0x23f9de[_0x15ed79(-0x18d,-0x1e9,-0x136,-0x18f)],_0x15ed79(-0x12a,-0xe6,-0xbc,-0xb8))?(_0x23f9de[_0xc10e87(0xa6,-0x28,0x4d,0x30)](addLog,_0x23f9de[_0xc10e87(-0xe9,-0x5d,-0xf6,-0x66)]),_0x20d2fa=_0x11634d):_0x2cabef[_0x15ed79(-0xf7,-0x11d,-0xc9,-0x7b)+'SDListener']&&(_0x48b337[_0x15ed79(-0x7f,-0x17,0xb,-0x64)+_0xc10e87(-0x30,-0x9b,0x55,-0x33)](_0x484b86[_0xc10e87(-0xb9,-0xcb,-0x3d,-0x4e)+_0xc10e87(0x29,-0x8f,0x25,-0x23)+'ST'],_0x5aea3c),_0x47d45d[_0x15ed79(-0xf7,-0xe4,-0xba,-0xc0)+_0x15ed79(-0x11f,-0x95,-0x10c,-0x139)]=![],_0x23f9de[_0x15ed79(-0xf2,-0x8a,-0xbd,-0xd4)](_0x305e9d,_0x23f9de[_0xc10e87(0x71,-0x73,-0x1a,0x3)]));}const _0x21a75b=_0x23f9de[_0x15ed79(-0x13b,-0x167,-0xb5,-0x1b1)](_0x23f9de[_0xc10e87(0x94,0xaa,0x15,0x51)],_0x20d2fa);return _0x23f9de[_0xc10e87(-0x19,-0x8,0x3b,0x30)](addLog,_0x23f9de[_0xc10e87(-0x2d,0xa,0x2d,0x17)]),{'image':_0x21a75b,'change':_0x23f9de[_0x15ed79(-0x187,-0x18a,-0x1a7,-0x166)](_0xe6799,'')};}else{const _0x451025=_0x1dd7f9[_0x15ed79(-0xe6,-0x71,-0x17a,-0x145)](_0x3052ed);_0x969ec7=_0x451025[_0x15ed79(-0x10c,-0xb4,-0x170,-0x15c)][-0x607+0xdce+-0xb5*0xb];}}else{if(_0x23f9de[_0x15ed79(-0x185,-0xf6,-0x138,-0x1da)](_0x23f9de[_0x15ed79(-0x134,-0xad,-0x15c,-0x15e)],_0x15ed79(-0x16f,-0x1a8,-0x13d,-0x123))){const _0x37fb07=new URL(_0x3bf5ff+_0x23f9de[_0xc10e87(0xfb,0xa,0xcf,0x98)]);window['xiancheng']=![];const _0x5e56f1={};_0x5e56f1[_0xc10e87(0xae,0x7b,-0x6,0x69)+'pe']=_0xc10e87(0x37,-0x59,0x3e,-0x37)+_0xc10e87(0x21,0xf,-0x95,-0x2b);const _0x54dda7=await _0x23f9de[_0xc10e87(0xb0,0xf5,0x33,0x60)](fetch,_0x37fb07,{'method':_0x23f9de[_0xc10e87(0x4f,-0x26,0x66,0x5e)],'body':JSON[_0x15ed79(-0xd7,-0x120,-0x10f,-0x7b)](_0x39d0c5),'headers':_0x5e56f1});window[_0xc10e87(-0x45,-0x56,-0x2f,-0x58)]=!![];if(!_0x54dda7['ok']){if(_0x23f9de[_0x15ed79(-0x181,-0x134,-0x206,-0x1db)](_0x23f9de[_0x15ed79(-0x7c,-0x86,-0x66,-0x100)],_0x15ed79(-0x161,-0x1b5,-0x189,-0x12b))){_0x23f9de[_0xc10e87(0x54,-0x50,0xd,-0xe)](_0xb685aa,_0x23f9de['BRuUP']);const _0x1cc103={};_0x1cc103[_0x15ed79(-0x121,-0xe3,-0x18a,-0xa6)]=_0x23f9de[_0x15ed79(-0x133,-0x127,-0x173,-0x1c0)];const _0x33fead={};_0x33fead[_0x15ed79(-0x90,-0x5c,-0x4d,-0x63)]=[!![],!![],_0x1cc103];const _0x1cc00f={};_0x1cc00f[_0x15ed79(-0x15d,-0x154,-0x11a,-0x1d6)]=_0x33fead;const _0x4582b1={};_0x4582b1[_0xc10e87(-0x5d,-0x85,-0xe2,-0x6f)+_0xc10e87(-0xb1,-0xa2,-0x92,-0x88)]=_0x1cc00f,_0x2d19cf=_0x100cf4(_0x6bd9d2,_0x4582b1);}else{const _0x40bdaa=await _0x54dda7[_0x15ed79(-0x194,-0x1cc,-0x190,-0x210)]();_0x23f9de['jjcIM'](addLog,_0x15ed79(-0xda,-0x109,-0xdc,-0x14c)+_0xc10e87(0xb6,0x94,0x42,0x41)+_0x54dda7[_0x15ed79(-0x177,-0x103,-0x11a,-0x1c3)]+_0xc10e87(-0x3c,0xdc,0x64,0x4e)+_0x40bdaa),console['log'](_0x23f9de[_0xc10e87(0x11b,0x5a,0x1a,0x96)],_0x40bdaa);throw new Error(_0xc10e87(0x17,0xa,0xa,-0x48)+_0x54dda7['status']+_0x15ed79(-0x160,-0x1eb,-0x15f,-0x1f0)+_0x40bdaa);}}const _0x317264=await _0x54dda7[_0xc10e87(-0x68,0x8c,0x94,0x5)]();if(!_0x317264[_0xc10e87(-0x44,0x1d,0x5a,0x1)]||_0x23f9de[_0x15ed79(-0x181,-0x1f3,-0x1ff,-0x1e2)](_0x317264[_0xc10e87(0x12,0x15,0x47,0x1)][_0x15ed79(-0x17d,-0x1a2,-0x1b8,-0xfa)],-0x4e7*-0x4+0x5*-0x541+0x6a9))throw new Error(_0x23f9de[_0xc10e87(0xb,-0xc9,-0x6c,-0x3f)]);const _0x1a36ef=_0x317264[_0x15ed79(-0x10c,-0xae,-0x9c,-0xfc)][0x2355+-0x1*-0x23a7+-0x46fc],_0x1f072d=_0x23f9de[_0x15ed79(-0x13b,-0xfd,-0x136,-0x195)](_0x23f9de[_0x15ed79(-0xbc,-0xfb,-0x67,-0x32)],_0x1a36ef);return _0x23f9de['UIKhs'](addLog,_0x23f9de[_0xc10e87(-0x49,0x0,0x6a,0x17)]),{'image':_0x1f072d,'change':_0x23f9de[_0x15ed79(-0x187,-0x16b,-0x12c,-0x175)](_0xe6799,'')};}else{const _0x460aeb=_0x446b55[_0xc10e87(0xd4,-0xe,0xb4,0x42)](_0x318ce6,arguments);return _0x2e57f2=null,_0x460aeb;}}}catch(_0x411a38){window[_0xc10e87(-0x65,0x3c,-0xc9,-0x58)]=!![],_0x23f9de['UbfgB'](addLog,'sd请求生图错误:\x20'+_0x411a38[_0xc10e87(0x65,-0x1f,0x90,0x18)]),console[_0xc10e87(0x90,0x4,-0x11,0x76)](_0x23f9de[_0xc10e87(-0x17,0x80,-0x78,0x10)],_0x411a38);throw _0x411a38;}}function _0x4d16(_0x5778da,_0x40bf89){const _0x57b99=_0x2563();return _0x4d16=function(_0xff3959,_0x5bedbb){_0xff3959=_0xff3959-(0x8f5*-0x2+-0x996+0x1c55);let _0x32f9e1=_0x57b99[_0xff3959];if(_0x4d16['AuqqBr']===undefined){var _0x303cff=function(_0x413127){const _0x42713e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x181f09='',_0x1c40b5='',_0x1cfc98=_0x181f09+_0x303cff;for(let _0x53e746=-0x7*-0x371+0x376+0x1*-0x1b8d,_0x5872af,_0x1b7e8a,_0x3b2215=-0x84f*-0x1+0x10fb+0x3*-0x86e;_0x1b7e8a=_0x413127['charAt'](_0x3b2215++);~_0x1b7e8a&&(_0x5872af=_0x53e746%(-0xd0b+-0x6*0x106+-0x1*-0x1333)?_0x5872af*(0x151c+-0x1ce9+0x80d)+_0x1b7e8a:_0x1b7e8a,_0x53e746++%(0x12*0x1c7+0x1dfa+-0x3df4))?_0x181f09+=_0x1cfc98['charCodeAt'](_0x3b2215+(-0x8f2*-0x2+0x156d+0x7db*-0x5))-(0x18bb+0xaae+0x1*-0x235f)!==-0x2f*0x6+-0x2*-0xaab+-0x143c*0x1?String['fromCharCode'](-0x1002+-0x56e*-0x1+0xb93&_0x5872af>>(-(-0xc*-0x26b+-0x1278+0x545*-0x2)*_0x53e746&-0x159f+0x122*0xc+0x80d)):_0x53e746:-0xc51+0x3a5+0xa*0xde){_0x1b7e8a=_0x42713e['indexOf'](_0x1b7e8a);}for(let _0x492223=0x1fc5+-0xd30+0x1295*-0x1,_0x71b0c8=_0x181f09['length'];_0x492223<_0x71b0c8;_0x492223++){_0x1c40b5+='%'+('00'+_0x181f09['charCodeAt'](_0x492223)['toString'](-0x1653+-0x1005*0x1+0x2668))['slice'](-(-0xf2f+-0x1dba+0x2ceb));}return decodeURIComponent(_0x1c40b5);};_0x4d16['AWxOQq']=_0x303cff,_0x5778da=arguments,_0x4d16['AuqqBr']=!![];}const _0x15472a=_0x57b99[0x1*0xe59+-0x19*0x54+-0x8f*0xb],_0x13f7c6=_0xff3959+_0x15472a,_0x5e8f32=_0x5778da[_0x13f7c6];if(!_0x5e8f32){const _0x5a04d8=function(_0x1ce624){this['ZFRBBi']=_0x1ce624,this['cjxRYn']=[-0xdf3*-0x2+-0x1331+0x8b4*-0x1,0xd60+0x2509+-0x3269,-0x2*0xfb2+0xf94+0xfd0],this['BwhOZF']=function(){return'newState';},this['rRxUgj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ACslnX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5a04d8['prototype']['hdoXhW']=function(){const _0x4f6a47=new RegExp(this['rRxUgj']+this['ACslnX']),_0x2e2c8b=_0x4f6a47['test'](this['BwhOZF']['toString']())?--this['cjxRYn'][0x233e+-0xe6e+0x7*-0x2f9]:--this['cjxRYn'][-0x1dee*0x1+-0x1d48+-0x16*-0x2b1];return this['wqlMlg'](_0x2e2c8b);},_0x5a04d8['prototype']['wqlMlg']=function(_0x1e32d2){if(!Boolean(~_0x1e32d2))return _0x1e32d2;return this['MWqTWu'](this['ZFRBBi']);},_0x5a04d8['prototype']['MWqTWu']=function(_0x1ef211){for(let _0x354ba2=0x2*-0x1364+0x1117*-0x1+0x37df,_0x500c69=this['cjxRYn']['length'];_0x354ba2<_0x500c69;_0x354ba2++){this['cjxRYn']['push'](Math['round'](Math['random']())),_0x500c69=this['cjxRYn']['length'];}return _0x1ef211(this['cjxRYn'][0x1154+0x4*-0x127+-0xcb8]);},new _0x5a04d8(_0x4d16)['hdoXhW'](),_0x32f9e1=_0x4d16['AWxOQq'](_0x32f9e1),_0x5778da[_0x13f7c6]=_0x32f9e1;}else _0x32f9e1=_0x5e8f32;return _0x32f9e1;},_0x4d16(_0x5778da,_0x40bf89);}async function sdGenerate(_0xeab38f){function _0x50c845(_0x5a6f0e,_0x3601d1,_0xf65ca2,_0x5b6ede){return _0x4d16(_0x5b6ede- -0x1c5,_0xf65ca2);}const _0x4a72a8={'wgaHc':function(_0x2e6e3e,_0x494055){return _0x2e6e3e(_0x494055);},'wWlGP':function(_0xdfaa9c,_0x161a72,_0x6bfb57,_0x5a149d){return _0xdfaa9c(_0x161a72,_0x6bfb57,_0x5a149d);},'JClqB':function(_0x1ce9e0,_0x56884b){return _0x1ce9e0(_0x56884b);},'uFAay':_0x50c845(-0x10,0x2,0x4,-0x4e)+_0x4974d3(0x579,0x4e2,0x4fe,0x51c)+_0x4974d3(0x4a5,0x4ad,0x49a,0x444)},{id:_0xdca221,prompt:_0x2020b5,width:_0x2fdf05,height:_0x49aff8,change:_0x26f10f}=_0xeab38f;addLog(_0x50c845(-0x49,0x3e,-0xbe,-0x52)+_0x50c845(-0xb2,-0xaf,-0xb3,-0xbf)+_0xdca221+(_0x50c845(-0x12d,-0x4e,-0x65,-0xd2)+':\x20')+_0x2020b5+(_0x26f10f?_0x4974d3(0x43d,0x3f1,0x46b,0x4bf)+'\x20'+_0x26f10f:''));function _0x4974d3(_0x134c8e,_0x3ddda7,_0x441b1b,_0x178e34){return _0x4d16(_0x441b1b-0x38a,_0x3ddda7);}try{const {image:_0xfcea77,change:_0x5556f6}=await _0x4a72a8[_0x50c845(-0x35,-0x31,-0x89,-0x82)](generateSDImage,{'prompt':_0x2020b5,'width':_0x2fdf05,'height':_0x49aff8,'change':_0x26f10f});await _0x4a72a8['wWlGP'](setItemImg,_0x2020b5,_0xfcea77,_0x5556f6),_0x4a72a8[_0x4974d3(0x4c9,0x4a9,0x4cd,0x45c)](addLog,_0x4974d3(0x59e,0x553,0x550,0x528)+_0x50c845(-0x23,-0xc1,-0x12b,-0xa9)+'\x20'+_0x2020b5);const _0x596d77={};_0x596d77['id']=_0xdca221,_0x596d77[_0x50c845(0x95,0x6a,-0x3e,0x2)]=!![],_0x596d77['imageData']=_0xfcea77,_0x596d77[_0x4974d3(0x540,0x5de,0x54b,0x595)]=_0x2020b5,_0x596d77[_0x4974d3(0x4a3,0x547,0x526,0x551)]=_0x5556f6,eventSource[_0x4974d3(0x515,0x4a4,0x523,0x57e)](EventType[_0x4974d3(0x4ec,0x4b3,0x4a1,0x41f)+'MAGE_RESPO'+'NSE'],_0x596d77),_0x4a72a8[_0x50c845(-0x1f,-0x54,-0x48,-0x40)](addLog,_0x50c845(-0xc9,-0x131,-0x5a,-0xef)+_0x50c845(0x28,0x27,0x67,0x21)+_0xdca221+')');}catch(_0x1fdbcf){const _0x249a06='SD生图流程捕获到异'+_0x4974d3(0x523,0x4d8,0x4a0,0x4fd)+_0xdca221+'):\x20'+_0x1fdbcf[_0x4974d3(0x51e,0x480,0x507,0x4d5)];_0x4a72a8[_0x50c845(0x19,-0x45,-0xcb,-0x40)](addLog,_0x50c845(-0x8f,0x5,-0x32,-0x5c)+_0x249a06),console['error'](_0x4a72a8[_0x50c845(0x42,-0x8,0x30,-0x10)],_0x1fdbcf);const _0x13a7f0={};_0x13a7f0['id']=_0xdca221,_0x13a7f0[_0x50c845(-0x5,0x43,-0x35,0x2)]=![],_0x13a7f0[_0x4974d3(0x541,0x590,0x565,0x56f)]=_0x1fdbcf[_0x4974d3(0x52e,0x4b9,0x507,0x47c)],_0x13a7f0[_0x50c845(0x89,0x8,-0x5f,-0x4)]=_0x2020b5,eventSource[_0x4974d3(0x512,0x5a8,0x523,0x55b)](EventType['GENERATE_I'+_0x4974d3(0x481,0x480,0x4f9,0x544)+'NSE'],_0x13a7f0),addLog(_0x4974d3(0x49f,0x409,0x479,0x422)+_0x50c845(0x23,0x26,0x1c,0x21)+_0xdca221+')');}}function initializeSDListener(){const _0x58ecd2={'btPLN':function(_0x302561,_0x58be53){return _0x302561(_0x58be53);}};function _0x36b794(_0x31a77e,_0x30ea0e,_0x3d73f6,_0x27fde8){return _0x4d16(_0x3d73f6- -0x3d9,_0x31a77e);}eventSource['on'](EventType[_0x36b794(-0x2e4,-0x299,-0x2c2,-0x2f9)+_0x36b794(-0x239,-0x2bc,-0x297,-0x2b5)+'ST'],sdGenerate);function _0x1880a1(_0x417b95,_0x5511e7,_0x16fb8d,_0x3fe539){return _0x4d16(_0x16fb8d- -0x4c,_0x3fe539);}_0x58ecd2[_0x36b794(-0x240,-0x28e,-0x239,-0x238)](addLog,_0x1880a1(0x50,0x1d,0x98,0xf5)+_0x1880a1(0x105,0x172,0x145,0x1bb));}export async function replaceWithSd(){function _0x45d6f6(_0x554ad1,_0x5b1f59,_0x354f13,_0x3c04f2){return _0x4d16(_0x354f13-0x334,_0x3c04f2);}const _0x3f6e94={'YUbvu':function(_0x3a3cb3,_0x5e3cb8){return _0x3a3cb3(_0x5e3cb8);},'sSCOD':function(_0x42b0ec,_0x18eeec){return _0x42b0ec==_0x18eeec;},'Qtyrm':function(_0x4607f1){return _0x4607f1();},'ESWFR':function(_0xf3af60){return _0xf3af60();},'ZsViT':'kPyeH','hToSR':_0x1fb41a(0x46,0x3c,0x6d,0x48),'dzIOt':function(_0x36b582,_0x4dfe1f){return _0x36b582===_0x4dfe1f;},'LJWIf':_0x45d6f6(0x437,0x4cf,0x4a4,0x415),'njLMm':_0x45d6f6(0x4e3,0x476,0x4b2,0x4f1),'WrAOg':_0x1fb41a(0x32,0x23,0x2f,-0xc)+_0x1fb41a(0x63,0xa3,0xcd,0xfc)};function _0x1fb41a(_0x4083cb,_0x272853,_0x589bf6,_0x35a206){return _0x4d16(_0x272853- -0xc1,_0x4083cb);}if(_0x3f6e94[_0x45d6f6(0x49c,0x4b2,0x45d,0x46e)](extension_settings[extensionName]['mode'],'sd'))!window[_0x45d6f6(0x442,0x442,0x4af,0x540)+_0x45d6f6(0x40f,0x4a5,0x487,0x40a)]&&(window[_0x45d6f6(0x53b,0x4ed,0x4af,0x4da)+_0x1fb41a(0x38,0x92,0x86,0xd4)]=!![],_0x3f6e94[_0x45d6f6(0x48c,0x4b0,0x478,0x494)](initializeSDListener)),_0x3f6e94[_0x1fb41a(-0x12,0x6e,0x2b,0x39)](initializeImageProcessing);else{if(_0x3f6e94[_0x45d6f6(0x4c5,0x4ad,0x48c,0x43a)]===_0x3f6e94[_0x45d6f6(0x553,0x4fc,0x508,0x521)]){_0x3f6e94[_0x1fb41a(0x5b,0x9d,0x92,0x24)](_0x122e77,_0x45d6f6(0x4aa,0x565,0x51c,0x59e)+_0x319f34['status']+'\x20'+_0x531a56['statusText']);throw new _0x192622(_0x45d6f6(0x57f,0x50b,0x51c,0x52f)+_0x47b8cf[_0x1fb41a(0x68,0x3a,0x99,0xc7)]+'\x20'+_0x19deb7['statusText']);}else window[_0x1fb41a(0x7e,0xba,0x6e,0x100)+_0x1fb41a(0xd9,0x92,0x24,0xa5)]&&(_0x3f6e94['dzIOt'](_0x3f6e94[_0x45d6f6(0x40a,0x4e1,0x46c,0x43b)],_0x3f6e94[_0x1fb41a(0x9f,0x115,0xe9,0x13d)])?_0x1470a2=_0x1c227b(_0xd2c69):(eventSource[_0x1fb41a(0xcf,0x132,0x16a,0xa4)+_0x1fb41a(0x7d,0x71,0xa3,0x29)](EventType[_0x1fb41a(0xd8,0x56,0xbb,-0x1a)+_0x45d6f6(0x503,0x44c,0x476,0x4e9)+'ST'],sdGenerate),window['initialize'+_0x1fb41a(0x3b,0x92,0x4b,0x10a)]=![],addLog(_0x3f6e94['WrAOg'])));}}
//# sourceMappingURL=http://localhost:8000/sd.js.map