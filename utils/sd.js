(function(_0xf76419,_0x56a08d){function _0x56240f(_0x2693b4,_0x1498fe,_0x5b282a,_0x337729){return _0x4bbd(_0x1498fe- -0x1f8,_0x5b282a);}function _0x232f24(_0x36ab81,_0x126b1c,_0x3d7a89,_0x258700){return _0x4bbd(_0x36ab81- -0x2f6,_0x258700);}const _0x246d0e=_0xf76419();while(!![]){try{const _0x4fc71e=parseInt(_0x232f24(-0x5b,-0x11,-0xd3,-0xde))/(0x1e09+0x87*-0x4+-0x1bec*0x1)*(-parseInt(_0x232f24(-0x39,0x63,0x2e,0x58))/(-0x81*0x29+-0xa*0x1ee+0x27f7))+parseInt(_0x56240f(0x9c,0x95,0xd3,0xa9))/(-0x124+0x11f8+0x7*-0x267)+-parseInt(_0x56240f(0x72,-0x4,-0xa3,0x60))/(-0x2314+-0xa91*-0x2+0xdf6*0x1)*(parseInt(_0x56240f(0xd7,0x4c,0x45,0x61))/(-0x16*-0x134+-0xa5e+-0x17*0xb3))+-parseInt(_0x56240f(0x7a,0xcc,0x6a,0x100))/(0x1ef8+0x131e*-0x2+-0x1*-0x74a)+parseInt(_0x232f24(-0x27,-0xb9,-0x14,0x7))/(-0xc*-0x116+0xe*-0x11b+0x3*0xd3)*(-parseInt(_0x232f24(-0x3,-0x43,-0x63,0x55))/(0x279*-0xf+0x684+0x1e9b))+parseInt(_0x232f24(-0xe9,-0xf5,-0xa2,-0x74))/(-0x301*0x3+0x1dde+-0xa69*0x2)*(-parseInt(_0x232f24(0x1b,0x93,-0x4a,-0x3))/(0x2132+-0x2523*-0x1+-0xe0f*0x5))+parseInt(_0x232f24(-0x2d,-0xbb,0x4,0x67))/(-0xa81*0x1+0x2*-0x110a+0x18*0x1dc);if(_0x4fc71e===_0x56a08d)break;else _0x246d0e['push'](_0x246d0e['shift']());}catch(_0x3748af){_0x246d0e['push'](_0x246d0e['shift']());}}}(_0xe5cd,-0xe3c0e+0xf590e+-0x1fd*-0x3e0));const _0x50f65c=(function(){let _0x5741f3=!![];return function(_0x31a600,_0x4253a8){const _0x2ceb75=_0x5741f3?function(){function _0x5f2242(_0x353b14,_0x336c68,_0x51cead,_0x568e4e){return _0x4bbd(_0x353b14- -0x1f5,_0x51cead);}if(_0x4253a8){const _0x439969=_0x4253a8[_0x5f2242(0x125,0x1b7,0x85,0xe5)](_0x31a600,arguments);return _0x4253a8=null,_0x439969;}}:function(){};return _0x5741f3=![],_0x2ceb75;};}()),_0x4b4a2d=_0x50f65c(this,function(){function _0x4fb4bd(_0x4de5e6,_0x4375aa,_0x3099e3,_0x3c48f9){return _0x4bbd(_0x4de5e6- -0xba,_0x3c48f9);}const _0x2dc373={};_0x2dc373[_0x4fb4bd(0x220,0x1cb,0x237,0x211)]=_0x4fb4bd(0x1d6,0x1db,0x19e,0x18f)+'+$';const _0x38d1d5=_0x2dc373;function _0xbe306a(_0x490aa9,_0x500565,_0x3e398a,_0x4c860a){return _0x4bbd(_0x3e398a- -0x6b,_0x490aa9);}return _0x4b4a2d['toString']()[_0xbe306a(0x2b0,0x1c0,0x24c,0x2d4)](_0x38d1d5[_0xbe306a(0x22a,0x2e1,0x26f,0x21d)])[_0xbe306a(0x296,0x192,0x229,0x23f)]()[_0x4fb4bd(0x23e,0x1bd,0x242,0x1ae)+'r'](_0x4b4a2d)[_0xbe306a(0x256,0x273,0x24c,0x2cd)](_0x38d1d5[_0x4fb4bd(0x220,0x286,0x2a2,0x2a4)]);});_0x4b4a2d();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';async function generateSDImage({prompt:_0x18d615,width:_0x15fa19,height:_0x451793,change:_0x29aaa1}){const _0x1dcdb7={'kUWch':function(_0x32486c,_0x43ee1c){return _0x32486c<=_0x43ee1c;},'NDsUY':function(_0x3930d4,_0x148aef){return _0x3930d4+_0x148aef;},'cRZwX':_0x472c17(0x5a2,0x5a4,0x604,0x63f),'wiDGu':function(_0x2a7efa,_0x28a6bc){return _0x2a7efa(_0x28a6bc);},'aslVq':function(_0x225154,_0x4ce6e8){return _0x225154(_0x4ce6e8);},'OiOmT':_0x112da4(-0xb0,-0xdb,-0xb7,-0x92)+_0x112da4(-0x17d,-0x151,-0x1ac,-0x123),'pNtBf':_0x472c17(0x5c0,0x5ff,0x65d,0x5c9)+'8n.pt','QTulO':function(_0x356be1,_0x35aa32){return _0x356be1+_0x35aa32;},'wnSZh':_0x112da4(-0xb3,-0x4a,-0xa9,-0x95)+'像数据。','wTemx':function(_0x34460b,_0x313b6e){return _0x34460b(_0x313b6e);},'ERHUm':'SD\x20生图事件监听器'+_0x472c17(0x67d,0x5db,0x65a,0x5ec),'xgpBD':_0x472c17(0x5ca,0x603,0x5a0,0x54a)+_0x472c17(0x576,0x57a,0x598,0x62b)+_0x472c17(0x5f3,0x5e2,0x638,0x622),'pNMup':_0x112da4(-0x1a8,-0x1a3,-0x115,-0xc4)+'+$','lcjGV':function(_0xe19479,_0x18db80){return _0xe19479+_0x18db80;},'pPwQw':function(_0x174e3d,_0x281ab9){return _0x174e3d(_0x281ab9);},'KQtmb':function(_0x2775d4){return _0x2775d4();},'RsewW':function(_0x3ceb82,_0x40d5a2){return _0x3ceb82!==_0x40d5a2;},'cGEEi':function(_0xc98d,_0x3d5934){return _0xc98d(_0x3d5934);},'xtnrH':'Scene\x20Comp'+'osition','dNuZt':function(_0x4bfba9,_0x32453f){return _0x4bfba9(_0x32453f);},'DLiEy':function(_0xcfdf1b,_0x330f9e){return _0xcfdf1b(_0x330f9e);},'pLvKg':function(_0x3ba4e3,_0x20ece4){return _0x3ba4e3(_0x20ece4);},'faBVQ':function(_0x3416d8,_0x193ebc){return _0x3416d8<=_0x193ebc;},'eKGXH':function(_0xfa6503,_0x2d66c8){return _0xfa6503===_0x2d66c8;},'XlsQg':_0x472c17(0x592,0x5cf,0x5dd,0x5a8),'rPaWm':function(_0x533137,_0x3ba3c6){return _0x533137+_0x3ba3c6;},'JEmrw':function(_0x55e876,_0x36bb17){return _0x55e876+_0x36bb17;},'oFfKt':'ZCjSG','ivuOk':_0x472c17(0x51b,0x4e6,0x53a,0x574)+'中的\x20prompt。','ZyAyp':function(_0x4bcba6,_0x52e69e,_0x5867f4){return _0x4bcba6(_0x52e69e,_0x5867f4);},'HOJgB':'wIzvf','POYGA':'zbUKY','buyFQ':_0x472c17(0x65b,0x6d7,0x64e,0x640),'GEKnZ':function(_0xfa56c4,_0x59a7da){return _0xfa56c4+_0x59a7da;},'nCdXI':function(_0x3cd09b,_0xeb3e20){return _0x3cd09b+_0xeb3e20;},'QRYRv':function(_0x18ca61,_0x561d85,_0x21ae72,_0x1736ac,_0x3826ec,_0x4b279f){return _0x18ca61(_0x561d85,_0x21ae72,_0x1736ac,_0x3826ec,_0x4b279f);},'MVOyz':function(_0x45165a,_0x19f8f4){return _0x45165a(_0x19f8f4);},'RMEAm':_0x472c17(0x4d9,0x53d,0x53e,0x4a6),'qhzmC':'XwaCC','kZgdP':_0x472c17(0x5da,0x5fc,0x5f4,0x64f),'dVZkC':_0x112da4(-0x18e,-0x100,-0x14e,-0x117),'fCGJA':function(_0x41b77e,_0x23506f){return _0x41b77e(_0x23506f);},'GoIVF':_0x472c17(0x606,0x5e7,0x5a9,0x60d)+_0x472c17(0x57a,0x62e,0x5ef,0x629),'zHqMM':_0x472c17(0x661,0x6b4,0x634,0x612)+_0x112da4(-0xab,-0xb9,-0xa8,-0xfc)+_0x472c17(0x539,0x501,0x571,0x4d5)+_0x112da4(-0xea,-0x47,-0xa5,-0x111),'KckhB':function(_0x354da2,_0x48141e){return _0x354da2!=_0x48141e;},'IJqgl':function(_0x20d33f,_0x3eb2c7){return _0x20d33f!==_0x3eb2c7;},'EkFGr':_0x112da4(-0x27,-0x7b,-0x84,-0x16),'XYsQx':function(_0xb198c7,_0x43fa51){return _0xb198c7(_0x43fa51);},'VpNMt':function(_0x36dfb0,_0x27897f){return _0x36dfb0!==_0x27897f;},'veCvV':_0x472c17(0x5f4,0x51a,0x5a7,0x576),'TvGbP':_0x112da4(-0xb6,-0xd4,-0x155,-0x153),'vhJyY':function(_0x4ffb0b,_0x54ece9){return _0x4ffb0b(_0x54ece9);},'SPaSj':function(_0x888c7b,_0x157b93,_0xd5198b){return _0x888c7b(_0x157b93,_0xd5198b);},'qAxia':function(_0xa2b458,_0xcd5734){return _0xa2b458!==_0xcd5734;},'SvVJT':function(_0x15ce4e,_0x45ee26){return _0x15ce4e(_0x45ee26);},'aJgqT':function(_0x372d25,_0x36c1f0){return _0x372d25>=_0x36c1f0;},'iztIT':_0x112da4(-0x14f,-0x11b,-0x189,-0x183),'SWOOB':function(_0x3ef6a4,_0x3225c0){return _0x3ef6a4==_0x3225c0;},'xEVFl':_0x472c17(0x577,0x5b7,0x616,0x5f0),'GzYxW':function(_0x3a4988,_0x7e7681){return _0x3a4988(_0x7e7681);},'pzufS':function(_0x437452,_0x536e76){return _0x437452==_0x536e76;},'aHfAb':function(_0x1bc2d0,_0x11c0d5,_0x1ea7e2){return _0x1bc2d0(_0x11c0d5,_0x1ea7e2);},'Fettm':function(_0x5ecdff,_0xe24c4){return _0x5ecdff(_0xe24c4);},'pRxze':function(_0x13c23d,_0x18aae1){return _0x13c23d===_0x18aae1;},'hBqCW':function(_0x4bbfb7,_0x46f110){return _0x4bbfb7!==_0x46f110;},'NCMfT':_0x112da4(-0x177,-0x1b9,-0x196,-0x214),'evwrB':_0x472c17(0x60e,0x5f6,0x60b,0x5cb),'rbUhI':function(_0x24a658,_0x52c4fa){return _0x24a658===_0x52c4fa;},'XnNEu':_0x472c17(0x4c8,0x526,0x55f,0x5f3),'wxJMq':_0x112da4(-0x134,-0xe8,-0x15e,-0x1a4)+'u8_sd_auth'+_0x112da4(-0x122,-0x97,-0x123,-0x14e),'Tpaym':_0x472c17(0x666,0x534,0x5d1,0x537)+_0x472c17(0x589,0x666,0x61b,0x5f7),'eAsqG':function(_0x712796,_0x1b741c){return _0x712796(_0x1b741c);},'BHVgt':_0x112da4(-0x30,-0xb5,-0x90,-0x5),'oSxpe':_0x472c17(0x64e,0x6dd,0x663,0x679),'gSpQE':'响应内容:','DNKwN':_0x112da4(-0xb7,-0x2d,-0xaf,-0xb3),'CuTTl':'gQLHJ','vIokn':function(_0x9ed7c2,_0x3d0bf6){return _0x9ed7c2(_0x3d0bf6);},'HHnmo':function(_0x51d346,_0x6e0f39){return _0x51d346+_0x6e0f39;},'NHpOx':function(_0x4046b6,_0x2caf52){return _0x4046b6(_0x2caf52);},'TkZou':'图像已成功获取并格式'+'化为\x20data\x20UR'+'L。','BGpGV':_0x112da4(-0x134,-0xd5,-0x160,-0x118),'bhMqJ':function(_0x28fa90,_0x2b8bf9){return _0x28fa90+_0x2b8bf9;},'tRQQX':_0x112da4(-0xf5,-0xff,-0xe7,-0xb4)+_0x472c17(0x4b8,0x5e7,0x555,0x539),'LmbaU':_0x112da4(-0xb2,-0xe2,-0x119,-0xf7)+_0x112da4(-0x126,-0x190,-0x18c,-0x1d8),'jltEb':function(_0x24a142,_0x4585e2){return _0x24a142||_0x4585e2;},'xQUYc':function(_0x151586,_0x2f20d0){return _0x151586!==_0x2f20d0;},'oxNXb':_0x472c17(0x61c,0x56c,0x5d8,0x5d8),'bLMgj':_0x112da4(-0x4f,-0xf1,-0x86,-0x4e),'Bnuzi':_0x472c17(0x677,0x5f0,0x662,0x5c9)+_0x472c17(0x565,0x54a,0x541,0x571)+_0x112da4(-0x231,-0x1f3,-0x1ae,-0x196)};let _0x3326c2=_0x29aaa1;_0x18d615=await stripChineseAnnotations(_0x18d615),_0x29aaa1=await stripChineseAnnotations(_0x29aaa1);const _0x53b8f8=extension_settings[extensionName]['sdUrl'][_0x472c17(0x622,0x5b2,0x62e,0x6ba)](),_0x5a6ab1=extension_settings[extensionName];_0x1dcdb7[_0x472c17(0x569,0x561,0x53c,0x50d)](clearLog),_0x1dcdb7['wTemx'](addLog,_0x112da4(-0x70,-0x64,-0xd3,-0x3f)+_0x112da4(-0x152,-0x15f,-0xec,-0x179)+'端为'+_0x5a6ab1[_0x472c17(0x636,0x613,0x5ec,0x621)]+_0x472c17(0x5ea,0x5be,0x57e,0x552)+_0x5a6ab1[_0x472c17(0x5d5,0x59a,0x571,0x603)+_0x112da4(-0x119,-0xdd,-0xa5,-0xd1)]);const _0x273e9e=_0x29aaa1&&_0x1dcdb7[_0x472c17(0x5e6,0x4ff,0x55e,0x559)](_0x29aaa1[_0x472c17(0x6b0,0x608,0x62e,0x5e8)](),'')?_0x29aaa1:_0x18d615;_0x1dcdb7[_0x472c17(0x62f,0x647,0x65c,0x698)](addLog,_0x472c17(0x521,0x5fe,0x5bd,0x582)+_0x273e9e);let _0x147e9c=![];_0x273e9e[_0x472c17(0x5a8,0x553,0x585,0x622)](_0x1dcdb7[_0x112da4(-0x124,0x3,-0x8f,-0xed)])&&(_0x147e9c=!![]);_0x1dcdb7[_0x472c17(0x581,0x51b,0x565,0x501)](addLog,'是否启用分角色模式\x20'+_0x112da4(-0x8f,0x2,-0x8c,-0x53)+'les):\x20'+_0x147e9c);let _0x445fd5={},_0x35c337='',_0x2c1d28='';if(_0x147e9c){_0x1dcdb7['DLiEy'](addLog,_0x112da4(-0x105,-0xec,-0x16f,-0xd0)+_0x472c17(0x56c,0x5a6,0x52f,0x49b)),_0x445fd5=_0x1dcdb7[_0x112da4(-0x135,-0x14b,-0x158,-0x13c)](parsePromptStringWithCoordinates,_0x273e9e),_0x35c337=_0x445fd5[_0x1dcdb7[_0x112da4(-0xeb,-0x9d,-0x8f,-0x4f)]];for(let _0x1d589c=-0x154a+-0x2*0xc31+0x2dad;_0x1dcdb7[_0x112da4(-0x17b,-0x162,-0x167,-0x1c6)](_0x1d589c,0xec9*-0x1+-0x3d*-0x5c+0x71f*-0x1);_0x1d589c++){_0x445fd5['Character\x20'+_0x1d589c+_0x112da4(-0xbf,-0x13c,-0xbc,-0x20)]&&(_0x1dcdb7[_0x112da4(-0xd0,-0xa9,-0xb4,-0xa3)](_0x112da4(-0xbb,-0xc6,-0x107,-0x15f),_0x1dcdb7[_0x472c17(0x5d3,0x5e9,0x59c,0x59f)])?_0x2c1d28=_0x1dcdb7[_0x472c17(0x5cb,0x66d,0x5d9,0x663)](_0x1dcdb7[_0x472c17(0x655,0x687,0x606,0x5ad)](_0x2c1d28,',\x20'),_0x445fd5[_0x112da4(-0x143,-0xb6,-0xed,-0x92)+_0x1d589c+_0x112da4(-0xe3,-0x7e,-0xbc,-0x62)]):_0x37451a(_0x112da4(-0x1d7,-0x1a2,-0x191,-0xf4)+'库'));}}else{if(_0x1dcdb7['oFfKt']===_0x1dcdb7[_0x112da4(0x0,-0x99,-0x9c,-0x3c)])addLog(_0x1dcdb7['ivuOk']),_0x35c337=_0x273e9e;else for(let _0x5e6c36=-0x17d5*0x1+0x23e0+-0xc0a;_0x1dcdb7[_0x472c17(0x532,0x58e,0x5cd,0x538)](_0x5e6c36,-0x2ab*0xb+0x1a5d+0x18*0x20);_0x5e6c36++){_0x3c8894[_0x472c17(0x606,0x630,0x5f7,0x5be)+_0x5e6c36+_0x472c17(0x6a5,0x603,0x628,0x64c)]&&(_0x46f44c=_0x1dcdb7[_0x112da4(-0xa5,-0xe1,-0x12e,-0xaa)](_0x1dcdb7['NDsUY'](_0x3e19c5,_0x1dcdb7['cRZwX']),_0x1dcdb7[_0x472c17(0x5c5,0x6a8,0x60a,0x56b)](_0x8100dc,_0xf26896[_0x112da4(-0x153,-0x126,-0xed,-0xf1)+_0x5e6c36+_0x472c17(0x6b5,0x5b9,0x628,0x59e)])));}}let {modifiedPrompt:_0x567568,insertions:_0x5a2f3a}=await _0x1dcdb7[_0x472c17(0x506,0x5fa,0x5a2,0x599)](prompt_replace,_0x35c337,_0x2c1d28);if(_0x147e9c){if(_0x472c17(0x4eb,0x527,0x566,0x4ed)!==_0x1dcdb7[_0x472c17(0x62e,0x556,0x5b5,0x646)])for(let _0x5b7dc8=-0x23d3+0x106b+-0x1*-0x1369;_0x1dcdb7[_0x472c17(0x5aa,0x5e0,0x5cd,0x573)](_0x5b7dc8,0x13*0x103+0x1*0x383+-0x16b8);_0x5b7dc8++){if(_0x445fd5[_0x112da4(-0xc6,-0x13b,-0xed,-0xfe)+_0x5b7dc8+_0x472c17(0x671,0x61f,0x628,0x6a9)]){if(_0x1dcdb7[_0x472c17(0x681,0x6ab,0x62b,0x628)]===_0x1dcdb7[_0x112da4(-0x18e,-0xd9,-0x12c,-0x15f)]){_0x1dcdb7[_0x112da4(-0xd6,-0x195,-0xfb,-0xde)](_0x45ce04,_0x1dcdb7[_0x472c17(0x656,0x61f,0x5de,0x54c)]);const _0x452dc1={};_0x452dc1['ad_model']=_0x1dcdb7[_0x472c17(0x565,0x60a,0x58a,0x508)];const _0x2b5cbb={};_0x2b5cbb['args']=[!![],!![],_0x452dc1];const _0x1e4206={};_0x1e4206[_0x112da4(-0x1c5,-0x1b2,-0x1af,-0x1c7)]=_0x2b5cbb;const _0x3f4a70={};_0x3f4a70[_0x472c17(0x5ed,0x544,0x5be,0x557)+_0x112da4(-0x108,-0x1bf,-0x162,-0x18d)]=_0x1e4206,_0x45fa06=_0x5b0afc(_0x2820b6,_0x3f4a70);}else _0x567568=_0x1dcdb7[_0x112da4(-0x142,-0xc1,-0xc6,-0x82)](_0x1dcdb7[_0x472c17(0x51d,0x528,0x52d,0x580)](_0x567568,_0x472c17(0x56b,0x5e2,0x604,0x614)),prompt_replace_for_character(_0x445fd5[_0x112da4(-0x8d,-0xe4,-0xed,-0x69)+_0x5b7dc8+_0x112da4(-0x15a,-0x102,-0xbc,-0x75)]));}}else _0x3c6432[_0x112da4(-0x74,-0xcb,-0xed,-0x151)+_0x200efd+_0x472c17(0x64f,0x64f,0x628,0x634)]&&(_0x756373=_0x1dcdb7[_0x472c17(0x56a,0x4c7,0x527,0x5ab)](_0x4959dd,',\x20')+_0x3ffafb[_0x472c17(0x696,0x629,0x5f7,0x613)+_0x408078+_0x112da4(-0xb6,-0x88,-0xbc,-0x109)]);}let _0x25eae9=await _0x1dcdb7[_0x472c17(0x533,0x53c,0x579,0x5a7)](zhengmian,extension_settings[extensionName][_0x112da4(-0x14b,-0x4d,-0xb5,-0xe3)][extension_settings[extensionName][_0x112da4(-0x1b8,-0x13e,-0x184,-0x186)]][_0x472c17(0x644,0x5d9,0x653,0x69a)+'t'],_0x567568,extension_settings[extensionName]['yushe'][extension_settings[extensionName]['yusheid_sd']][_0x472c17(0x5e5,0x66b,0x653,0x681)+'t_end'],extension_settings[extensionName][_0x112da4(-0x14a,-0x1d8,-0x1a2,-0x222)],_0x5a2f3a),_0x544fb2=await fumian(extension_settings[extensionName][_0x112da4(-0xfc,-0x61,-0xb5,-0xd6)][extension_settings[extensionName][_0x472c17(0x5d2,0x54a,0x560,0x530)]]['negativePr'+_0x112da4(-0xb1,-0x194,-0x11d,-0x170)],extension_settings[extensionName][_0x112da4(-0xdb,-0x1a1,-0x150,-0x1c6)]);_0x1dcdb7[_0x472c17(0x61f,0x5a4,0x593,0x561)](addLog,_0x472c17(0x669,0x557,0x5f2,0x58b)+_0x544fb2),extension_settings['sd'][_0x1dcdb7[_0x112da4(-0x153,-0x11b,-0x12b,-0x122)]]=_0x53b8f8,await _0x1dcdb7[_0x112da4(-0x1d4,-0x1fe,-0x1a8,-0x16f)](saveSettingsDebounced);try{if(_0x1dcdb7[_0x112da4(-0x15d,-0x1a8,-0x14b,-0x1ce)]===_0x1dcdb7['qhzmC']){if(_0x1dcdb7[_0x112da4(-0x10c,-0x111,-0xb4,-0x9c)](_0x5a6ab1['client'],_0x1dcdb7['kZgdP'])){const _0x2a17d0={};_0x2a17d0[_0x112da4(-0x103,-0x1b4,-0x11f,-0x94)]=_0x5a6ab1[_0x112da4(-0x203,-0xdd,-0x16c,-0x1f3)+_0x472c17(0x67e,0x5dc,0x601,0x5a9)]?_0x5a6ab1[_0x112da4(-0x148,-0x16b,-0x16c,-0x19f)+_0x472c17(0x609,0x686,0x601,0x605)]:'',_0x2a17d0[_0x472c17(0x652,0x62c,0x5fe,0x60a)]=_0x53b8f8;const _0x5b31aa=await fetch(_0x112da4(-0x197,-0x128,-0x113,-0x186)+'t-model',{'method':_0x1dcdb7[_0x472c17(0x5db,0x652,0x63a,0x5ae)],'body':JSON[_0x472c17(0x59d,0x589,0x620,0x671)](_0x2a17d0),'headers':_0x1dcdb7[_0x112da4(-0x1f0,-0x21c,-0x17d,-0x1a2)](getRequestHeaders,window['token'])});if(!_0x5b31aa['ok']){_0x1dcdb7[_0x472c17(0x5d2,0x5b6,0x58c,0x568)](addLog,'获取模型失败:\x20'+_0x5b31aa[_0x472c17(0x6af,0x6ac,0x626,0x5a3)]+'\x20'+_0x5b31aa[_0x472c17(0x6dc,0x683,0x647,0x6d1)]);throw new Error(_0x112da4(-0x10e,-0xeb,-0x14a,-0x161)+_0x5b31aa[_0x112da4(-0x10e,-0xf6,-0xbe,-0x27)]+'\x20'+_0x5b31aa[_0x472c17(0x5df,0x64b,0x647,0x67f)]);}let _0x3b1bbe=await _0x5b31aa[_0x472c17(0x55e,0x554,0x53b,0x527)]();console[_0x472c17(0x61e,0x674,0x5e0,0x623)](_0x1dcdb7[_0x112da4(-0x243,-0x1ae,-0x1ab,-0x229)],_0x3b1bbe),console['log'](_0x1dcdb7['zHqMM'],_0x5a6ab1[_0x112da4(-0x12c,-0x1d1,-0x173,-0x160)+_0x472c17(0x67b,0x616,0x63f,0x615)]);if(_0x1dcdb7['KckhB'](_0x3b1bbe,_0x5a6ab1[_0x472c17(0x518,0x5ee,0x571,0x4f0)+'8_model'])){if(_0x1dcdb7[_0x112da4(-0x166,-0x77,-0x114,-0xa8)](_0x1dcdb7[_0x112da4(-0xd3,-0x84,-0x108,-0x159)],_0x112da4(-0x32,-0xfc,-0x84,-0x35)))_0x40bda1=!![];else{_0x1dcdb7[_0x112da4(-0x186,-0x83,-0x10f,-0x14a)](addLog,_0x472c17(0x673,0x5b8,0x61d,0x636)+_0x5a6ab1[_0x112da4(-0x1cc,-0xdb,-0x173,-0x15d)+'8_model']+_0x472c17(0x63b,0x623,0x649,0x5fa)),toastr[_0x472c17(0x5e3,0x513,0x5ab,0x5c2)](_0x472c17(0x4d4,0x558,0x544,0x5a1)+_0x5a6ab1[_0x112da4(-0x1a1,-0xeb,-0x173,-0x131)+_0x112da4(-0x107,-0x116,-0xa5,-0x135)]);const _0x16ffb3={};_0x16ffb3[_0x472c17(0x5df,0x560,0x5c5,0x538)]=_0x5a6ab1[_0x112da4(-0x108,-0x11d,-0x16c,-0x1df)+'sd_auth']?_0x5a6ab1[_0x112da4(-0x145,-0x13a,-0x16c,-0x176)+_0x472c17(0x649,0x62d,0x601,0x617)]:'',_0x16ffb3[_0x112da4(-0xf6,-0xd4,-0xe6,-0x76)]=_0x53b8f8,_0x16ffb3[_0x472c17(0x632,0x613,0x5c0,0x597)]=_0x5a6ab1[_0x112da4(-0x114,-0x1b1,-0x173,-0x123)+'8_model'];const _0x5d3155=await _0x1dcdb7['ZyAyp'](fetch,_0x112da4(-0xf7,-0xcc,-0x95,0x3)+_0x112da4(-0x125,-0x8a,-0x125,-0x18b),{'method':_0x1dcdb7['dVZkC'],'body':JSON['stringify'](_0x16ffb3),'headers':getRequestHeaders(window[_0x112da4(-0x16b,-0x1d5,-0x181,-0xf5)])});if(!_0x5d3155['ok']){if(_0x1dcdb7[_0x112da4(-0x7f,-0x109,-0x11e,-0x15f)](_0x1dcdb7[_0x472c17(0x5ec,0x5e2,0x54d,0x4e0)],_0x1dcdb7['TvGbP'])){_0x1dcdb7['aslVq'](addLog,'切换模型失败:\x20'+_0x5d3155[_0x472c17(0x60b,0x68b,0x626,0x641)]+'\x20'+_0x5d3155[_0x112da4(-0x70,-0x109,-0x9d,-0x9)]);throw new Error('切换模型失败:\x20'+_0x5d3155[_0x112da4(-0xa7,-0x5e,-0xbe,-0x103)]+'\x20'+_0x5d3155[_0x472c17(0x6c5,0x65e,0x647,0x5fb)]);}else throw new _0x15a757(_0x1dcdb7[_0x112da4(-0x156,-0x1e8,-0x1b6,-0x245)]);}toastr[_0x112da4(-0xe5,-0x18d,-0x139,-0x114)]('设置模型...为'+_0x5a6ab1[_0x112da4(-0x1e1,-0x128,-0x173,-0x19b)+_0x112da4(-0x7e,-0xd8,-0xa5,-0x79)]+'成功');}}}else{let _0x1405c8=await getSDMode(_0x53b8f8);_0x1dcdb7['KckhB'](_0x1405c8,_0x5a6ab1[_0x472c17(0x50f,0x5b6,0x571,0x4e8)+'8_model'])&&(_0x1dcdb7['vhJyY'](addLog,_0x472c17(0x4e1,0x506,0x52c,0x538)+_0x5a6ab1[_0x112da4(-0x1ca,-0xdd,-0x173,-0x196)+'8_model']+_0x472c17(0x6dc,0x69f,0x649,0x5c8)),await _0x1dcdb7[_0x112da4(-0xe6,-0x1c3,-0x13e,-0x187)](setSDMode,_0x53b8f8,_0x5a6ab1[_0x472c17(0x527,0x552,0x571,0x60f)+_0x472c17(0x696,0x6b4,0x63f,0x5cb)]));}}else _0x37beaa['Character\x20'+_0x569836+_0x112da4(-0x126,-0x7f,-0xbc,-0x56)]&&(_0x14ce6c=_0x1dcdb7['QTulO'](_0x59b52d+_0x112da4(-0x10e,-0xcf,-0xe0,-0x48),_0x1dcdb7[_0x112da4(-0x9a,-0x178,-0x12a,-0xf1)](_0x12cc56,_0x5921c1[_0x112da4(-0x157,-0x18c,-0xed,-0xf9)+_0x362488+_0x472c17(0x5d6,0x607,0x628,0x6ac)])));}catch(_0x47ba22){_0x1dcdb7['XYsQx'](addLog,_0x472c17(0x6d3,0x68e,0x646,0x6b3)+':\x20'+_0x47ba22['message']+(_0x112da4(-0xc1,-0xda,-0xab,-0x2b)+_0x472c17(0x624,0x5c5,0x592,0x5f4)+'查模型是否正确。'));throw new Error(_0x472c17(0x63f,0x6ad,0x646,0x6b9)+_0x472c17(0x5bd,0x531,0x532,0x4ab)+'i是否正常启动，并检'+_0x112da4(-0x63,-0xb7,-0x9f,-0xff));}let _0x583b5f=-(-0x176f*-0x1+0x1452+-0x2bc0);const _0xd5d1be=_0x5a6ab1[_0x472c17(0x5d9,0x526,0x59e,0x5f3)];_0xd5d1be!==''&&_0x1dcdb7['qAxia'](_0xd5d1be,null)&&!_0x1dcdb7[_0x112da4(-0x117,-0x162,-0xd8,-0x98)](isNaN,Number(_0xd5d1be))&&_0x1dcdb7[_0x112da4(-0xe8,-0xfb,-0xc2,-0x96)](_0x1dcdb7[_0x112da4(-0xfb,-0xf1,-0x88,-0x4a)](Number,_0xd5d1be),0x2*-0x1363+-0x165e+-0x12d*-0x34)&&(_0x1dcdb7['qAxia'](_0x1dcdb7['iztIT'],_0x1dcdb7[_0x472c17(0x597,0x4e2,0x534,0x545)])?(_0x24ab26[_0x112da4(-0x14a,-0x137,-0x149,-0x1a1)+_0x112da4(-0x209,-0x1b1,-0x1b4,-0x210)](_0x165802['GENERATE_I'+_0x112da4(-0x163,-0x141,-0x16e,-0x15d)+'ST'],_0x2bc7b3),_0x104294[_0x112da4(-0x251,-0x1f3,-0x1bb,-0x203)+'SDListener']=![],_0x1dcdb7[_0x112da4(-0x62,-0xde,-0xda,-0x16f)](_0x53cba0,'SD\x20生图事件监听器'+'已关闭。')):_0x583b5f=Number(_0xd5d1be));let _0x148c1f={'prompt':_0x25eae9,'negative_prompt':_0x544fb2,'sampler_name':_0x5a6ab1['sd_cchatu_'+_0x472c17(0x5be,0x558,0x5e8,0x58b)+_0x112da4(-0x12b,-0xdb,-0xc3,-0xd1)],'scheduler':_0x5a6ab1[_0x472c17(0x56c,0x5c2,0x571,0x59d)+'8_schedule'+'r'],'steps':_0x5a6ab1['sd_csteps'],'cfg_scale':_0x5a6ab1['sdCfgScale'],'width':_0x15fa19?_0x15fa19:_0x5a6ab1['sd_cwidth'],'height':_0x451793?_0x451793:_0x5a6ab1[_0x112da4(-0x185,-0x1e5,-0x19d,-0x1f0)],'restore_faces':_0x1dcdb7[_0x112da4(-0xe5,-0x11d,-0xeb,-0x14c)](_0x5a6ab1['restoreFac'+'es'],_0x472c17(0x62e,0x5b8,0x616,0x680)),'enable_hr':_0x1dcdb7[_0x112da4(-0x187,-0xdb,-0xeb,-0x14f)](_0x5a6ab1[_0x112da4(-0x124,-0x103,-0xae,-0x12b)+'fix'],_0x1dcdb7['xEVFl']),'hr_upscaler':_0x5a6ab1[_0x472c17(0x5e8,0x601,0x571,0x553)+_0x112da4(-0x216,-0x1f5,-0x1be,-0x1e5)],'hr_scale':_0x5a6ab1[_0x112da4(-0xe6,-0x1ac,-0x14d,-0x150)+'e_factor'],'hr_additional_modules':[],'denoising_strength':_0x5a6ab1['sd_cdenois'+_0x472c17(0x5c2,0x5e3,0x5e2,0x5ae)+'th'],'hr_second_pass_steps':_0x5a6ab1[_0x472c17(0x60b,0x6c2,0x636,0x63e)+_0x472c17(0x5c9,0x521,0x573,0x57c)],'seed':_0x583b5f,'override_settings':{'CLIP_stop_at_last_layers':_0x1dcdb7[_0x472c17(0x5f0,0x54d,0x593,0x554)](Number,_0x5a6ab1[_0x112da4(-0x214,-0x1fb,-0x17c,-0x19f)+_0x472c17(0x5f6,0x5db,0x602,0x5cc)]),'sd_vae':_0x5a6ab1[_0x472c17(0x60b,0x536,0x571,0x5ba)+_0x112da4(-0x1c5,-0x1fe,-0x18d,-0x1cf)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x1dcdb7[_0x112da4(-0x215,-0x190,-0x17d,-0x1c2)](addLog,_0x112da4(-0x90,-0x124,-0x8d,-0xa)+_0x472c17(0x522,0x50e,0x546,0x540)+_0x148c1f[_0x472c17(0x6c7,0x659,0x657,0x6b5)+_0x472c17(0x4f7,0x5d3,0x590,0x5fa)]);function _0x472c17(_0x232a84,_0x19f827,_0x38298e,_0x28f083){return _0x4bbd(_0x38298e-0x33f,_0x19f827);}_0x1dcdb7[_0x112da4(-0xfd,-0x115,-0xb3,-0x5f)](addLog,_0x472c17(0x606,0x605,0x56c,0x60c)+_0x112da4(-0x127,-0x227,-0x1bc,-0x1b3)+_0x148c1f[_0x112da4(-0x1a1,-0xb2,-0x134,-0x136)]);_0x1dcdb7[_0x112da4(-0xb4,-0xbb,-0x9a,-0x1f)](_0x5a6ab1[_0x112da4(-0x1a8,-0x1ab,-0x194,-0x12c)+'ler'],_0x112da4(-0x119,-0x31,-0xce,-0x10f))&&(addLog(_0x1dcdb7[_0x472c17(0x56d,0x62b,0x5de,0x623)]),_0x148c1f=_0x1dcdb7[_0x472c17(0x55c,0x4cd,0x552,0x4e6)](deepMerge,_0x148c1f,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x1dcdb7[_0x112da4(-0xc9,-0xbc,-0x15a,-0xcf)]}]}}}));const _0x451cc3=_0x472c17(0x612,0x66c,0x5e4,0x5f8)+_0x112da4(-0x130,-0x14e,-0x157,-0x145)+'正面提示\x20(Prom'+'pt):**\x20'+_0x25eae9+(_0x112da4(-0x124,-0x19f,-0x15d,-0x133)+_0x472c17(0x667,0x5cc,0x5d2,0x5b3)+_0x472c17(0x5e6,0x593,0x5fb,0x5a7)+'\x20')+_0x544fb2+(_0x112da4(-0x65,-0x102,-0x80,-0xc7)+_0x472c17(0x4e9,0x58e,0x588,0x56c)+'**\x20')+_0x148c1f[_0x472c17(0x5b9,0x627,0x5b2,0x526)+'me']+(_0x112da4(-0x136,-0x10c,-0x18b,-0x15d)+_0x472c17(0x550,0x61f,0x5d7,0x5e2))+_0x148c1f[_0x112da4(-0x1ba,-0x1fd,-0x171,-0xec)]+('\x0a-\x20**CFG\x20S'+'cale:**\x20')+_0x148c1f[_0x472c17(0x6d0,0x6df,0x656,0x652)]+(_0x112da4(-0x1b1,-0x129,-0x176,-0x13d)+_0x112da4(-0x170,-0x169,-0x14f,-0x1a0))+_0x148c1f[_0x112da4(-0x106,-0x14d,-0x121,-0x8a)]+'x'+_0x148c1f['height']+(_0x112da4(-0x64,-0x85,-0x97,-0x2d)+_0x472c17(0x6c7,0x5d5,0x641,0x6b6))+(_0x148c1f['seed']===-(0x538*-0x5+-0xc7e+0x1*0x2697)?'随机(-1)':_0x148c1f[_0x472c17(0x4ed,0x4c3,0x549,0x549)])+('\x0a-\x20**模型\x20(M'+_0x112da4(-0xf0,-0xb2,-0xa1,-0x46))+_0x5a6ab1[_0x112da4(-0x147,-0x1ff,-0x173,-0x182)+_0x112da4(-0x52,-0x104,-0xa5,-0x116)]+('\x0a-\x20**VAE:*'+'*\x20')+_0x148c1f['override_s'+'ettings'][_0x472c17(0x502,0x581,0x569,0x5d2)]+(_0x472c17(0x622,0x65b,0x623,0x6c1)+'Skip:**\x20')+_0x148c1f[_0x472c17(0x5c3,0x5c1,0x5c4,0x653)+'ettings'][_0x472c17(0x609,0x521,0x5b1,0x619)+'at_last_la'+_0x112da4(-0x9,-0x39,-0x92,-0x12e)]+(_0x112da4(-0x144,-0x85,-0xe5,-0xa3)+'(Hires\x20Fix'+_0x112da4(-0x19c,-0x169,-0x168,-0x10f))+_0x148c1f[_0x472c17(0x648,0x561,0x5b0,0x527)]+('\x0a-\x20**放大倍率\x20'+_0x112da4(-0x12a,-0xaf,-0xa0,-0x71)+_0x112da4(-0x1ef,-0x113,-0x199,-0x104))+_0x148c1f[_0x112da4(-0xb6,-0x105,-0x93,-0x9a)]+(_0x472c17(0x64b,0x6a7,0x607,0x6a3)+'(Denoising'+'\x20Strength)'+_0x472c17(0x600,0x64b,0x617,0x5b6))+_0x148c1f['denoising_'+_0x472c17(0x5c2,0x4cc,0x56b,0x570)]+(_0x112da4(-0x16e,-0x7d,-0xd2,-0x149)+_0x472c17(0x595,0x629,0x5b4,0x540)+_0x112da4(-0x17a,-0x117,-0x13a,-0x19e))+_0x148c1f[_0x472c17(0x6bd,0x626,0x657,0x6e8)+_0x112da4(-0x1cd,-0x19f,-0x154,-0x13d)]+(_0x112da4(-0x162,-0x12a,-0xd5,-0xcc)+'iler:**\x20')+_0x1dcdb7[_0x472c17(0x584,0x5ea,0x5f9,0x65f)](_0x5a6ab1[_0x472c17(0x4f9,0x555,0x550,0x5bb)+_0x472c17(0x55e,0x5a4,0x5bc,0x5ff)],_0x1dcdb7[_0x472c17(0x5af,0x54c,0x537,0x529)])+_0x472c17(0x5e7,0x58f,0x564,0x558);_0x1dcdb7['Fettm'](addLog,_0x451cc3),_0x1dcdb7[_0x112da4(-0xf7,-0xba,-0x10f,-0x16c)](addLog,_0x472c17(0x5bf,0x632,0x605,0x5cc)+'数为'+JSON[_0x472c17(0x6b6,0x611,0x620,0x663)](_0x148c1f)),console[_0x472c17(0x65c,0x56f,0x5e0,0x665)](_0x112da4(-0xb7,-0x17c,-0xf7,-0x61),_0x148c1f);function _0x112da4(_0x4a14a9,_0x388a87,_0x344fb3,_0x547999){return _0x4bbd(_0x344fb3- -0x3a5,_0x4a14a9);}let _0x5837a6=!![];while(_0x5837a6){window['xiancheng']?_0x1dcdb7[_0x112da4(-0x18e,-0xd5,-0x116,-0x15c)](_0x112da4(-0x230,-0x140,-0x190,-0x1a7),_0x472c17(0x4bc,0x5e4,0x554,0x5b3))?_0x5837a6=![]:_0x14426c[_0x472c17(0x576,0x490,0x529,0x537)+_0x472c17(0x4c0,0x5d2,0x540,0x5c7)]&&(_0x5007e3['removeList'+'ener'](_0x2d5d9d[_0x112da4(-0x17e,-0x1bd,-0x188,-0x17d)+_0x472c17(0x55f,0x5b4,0x576,0x598)+'ST'],_0x221796),_0x203edf[_0x472c17(0x596,0x4e3,0x529,0x56c)+_0x112da4(-0x162,-0x13c,-0x1a4,-0x1ab)]=![],_0x1dcdb7['aslVq'](_0x182f28,_0x1dcdb7[_0x472c17(0x58a,0x647,0x627,0x624)])):await sleep(-0x1*0x2041+-0x3*0x2dd+0x2cc0);};try{if(_0x1dcdb7['hBqCW'](_0x1dcdb7[_0x112da4(-0x222,-0x183,-0x18a,-0x12a)],_0x1dcdb7[_0x472c17(0x617,0x58e,0x5f1,0x571)])){if(_0x1dcdb7[_0x472c17(0x6c4,0x5dc,0x630,0x6c6)](_0x5a6ab1['client'],_0x1dcdb7[_0x472c17(0x4de,0x5fa,0x57a,0x58b)])){if(_0x1dcdb7['rbUhI'](_0x1dcdb7['XnNEu'],_0x472c17(0x51d,0x52b,0x55f,0x564))){_0x148c1f[_0x472c17(0x651,0x581,0x5fe,0x55e)]=_0x53b8f8,console[_0x472c17(0x54d,0x553,0x5e0,0x54f)](_0x1dcdb7['wxJMq'],_0x5a6ab1[_0x112da4(-0x158,-0xf3,-0x16c,-0x13e)+_0x112da4(-0x97,-0x11f,-0xe3,-0x15f)]),_0x148c1f[_0x112da4(-0xd5,-0x182,-0x11f,-0xd2)]=_0x5a6ab1[_0x112da4(-0x175,-0x1cd,-0x16c,-0x1f7)+_0x112da4(-0x16d,-0xc4,-0xe3,-0x101)]?_0x5a6ab1['st_chatu8_'+_0x472c17(0x60b,0x624,0x601,0x5fb)]:'';const _0x29bd36=await _0x1dcdb7[_0x112da4(-0xc4,-0x14e,-0x13e,-0x190)](fetch,_0x1dcdb7[_0x472c17(0x4d4,0x5a9,0x551,0x4f9)],{'method':_0x1dcdb7['dVZkC'],'headers':_0x1dcdb7[_0x112da4(-0x78,-0xe8,-0xba,-0x43)](getRequestHeaders,window[_0x112da4(-0x164,-0x202,-0x181,-0xf7)]),'body':JSON[_0x472c17(0x5ee,0x5db,0x620,0x69c)](_0x148c1f)});if(!_0x29bd36['ok']){if(_0x1dcdb7[_0x472c17(0x5c8,0x5d2,0x630,0x5b7)](_0x1dcdb7[_0x112da4(-0xeb,-0xfd,-0x182,-0x202)],_0x1dcdb7[_0x112da4(-0x1bb,-0x1c4,-0x19a,-0x14c)])){if(_0x338267){const _0x9dea4c=_0x4ea99e['apply'](_0x58c995,arguments);return _0x5352f9=null,_0x9dea4c;}}else{const _0x49835b=await _0x29bd36['text']();_0x1dcdb7['pLvKg'](addLog,'酒馆\x20返回错误。状态'+_0x472c17(0x692,0x579,0x610,0x60a)+_0x29bd36[_0x112da4(-0x13b,-0x57,-0xbe,-0x137)]+_0x112da4(-0xa8,-0x134,-0x141,-0x158)+_0x49835b),console[_0x112da4(-0xe1,-0x187,-0x104,-0xe9)](_0x1dcdb7[_0x472c17(0x60a,0x636,0x5ca,0x62e)],_0x49835b);throw new Error('请求失败,状态码:\x20'+_0x29bd36['status']+',\x20详情:\x20'+_0x49835b);}}const _0x35d918=await _0x29bd36[_0x472c17(0x551,0x575,0x53b,0x4eb)]();let _0x496f3a='';try{if(_0x1dcdb7[_0x472c17(0x60b,0x5e2,0x65f,0x6d8)]===_0x1dcdb7['CuTTl'])_0x36742c(_0x1dcdb7[_0x112da4(-0xa5,-0xa8,-0xcf,-0x146)]),_0x336195=_0x91e5c8;else{const _0x4cd873=JSON[_0x472c17(0x537,0x530,0x561,0x5bc)](_0x35d918);_0x496f3a=_0x4cd873[_0x472c17(0x4c6,0x556,0x543,0x5cc)][0x29*0x5+-0x11f8+0x112b];}}catch(_0x1ee3d7){_0x1dcdb7[_0x472c17(0x526,0x596,0x5ac,0x52b)](addLog,_0x1dcdb7[_0x472c17(0x681,0x5fc,0x615,0x653)]),_0x496f3a=_0x35d918;}const _0x4e5c85=_0x1dcdb7[_0x112da4(-0x26,-0x27,-0xa4,-0x115)](_0x472c17(0x5b6,0x51e,0x56d,0x606)+_0x112da4(-0x1de,-0x1d9,-0x156,-0x1d7)+'4,',_0x496f3a);_0x1dcdb7[_0x112da4(-0x19,-0x118,-0x89,-0xc)](addLog,_0x1dcdb7['TkZou']);const _0x594d43={};return _0x594d43[_0x472c17(0x590,0x5b1,0x5a5,0x5d6)]=_0x4e5c85,_0x594d43[_0x472c17(0x554,0x5c9,0x577,0x539)]=_0x29aaa1||'',_0x594d43;}else{const _0x1e34b0=_0x17c5c1[_0x472c17(0x5c0,0x4f2,0x561,0x5ac)](_0xace75c);_0x35ceb1=_0x1e34b0[_0x112da4(-0x13a,-0x1cb,-0x1a1,-0x21a)][-0x74e+-0xa53*0x3+0x29*0xef];}}else{if(_0x1dcdb7['hBqCW'](_0x1dcdb7[_0x472c17(0x673,0x60c,0x5df,0x658)],_0x472c17(0x5e4,0x5ad,0x5b7,0x63a))){const _0x2bb5c4=new URL(_0x1dcdb7[_0x472c17(0x61e,0x5d7,0x5d4,0x59e)](_0x53b8f8,_0x1dcdb7[_0x472c17(0x5ae,0x55c,0x57f,0x502)]));window[_0x472c17(0x629,0x671,0x61c,0x67b)]=![];const _0x5676d7=await _0x1dcdb7[_0x112da4(-0xb1,-0x9e,-0x13e,-0x170)](fetch,_0x2bb5c4,{'method':_0x1dcdb7[_0x112da4(-0xc5,-0x3b,-0xaa,-0x27)],'body':JSON[_0x112da4(-0x15b,-0x46,-0xc4,-0xbc)](_0x148c1f),'headers':{'Content-Type':_0x1dcdb7[_0x472c17(0x58c,0x53e,0x59d,0x517)],'Authorization':_0x1dcdb7[_0x472c17(0x563,0x5c0,0x53c,0x4e4)](getsdAuth)}});window[_0x112da4(-0xd7,-0xf7,-0xc8,-0x166)]=!![];if(!_0x5676d7['ok']){const _0x462a1f=await _0x5676d7[_0x472c17(0x59a,0x4de,0x53b,0x4d6)]();addLog('SD\x20API\x20返回错'+_0x472c17(0x578,0x4db,0x545,0x553)+_0x5676d7[_0x112da4(-0x1f,-0x11c,-0xbe,-0xc1)]+_0x112da4(-0xb2,-0x125,-0x141,-0x15a)+_0x462a1f),console[_0x472c17(0x5e3,0x668,0x5e0,0x66c)](_0x1dcdb7[_0x112da4(-0xfd,-0xb7,-0x11a,-0x180)],_0x462a1f);throw new Error(_0x472c17(0x5c9,0x5fa,0x5a4,0x61a)+_0x5676d7[_0x472c17(0x649,0x64f,0x626,0x6a0)]+',\x20详情:\x20'+_0x462a1f);}const _0x322274=await _0x5676d7['json']();if(!_0x322274[_0x112da4(-0x1fc,-0x171,-0x1a1,-0x184)]||_0x322274[_0x112da4(-0x1f1,-0x225,-0x1a1,-0x12e)]['length']===0x12f6*-0x2+0x2464+-0x1c*-0xe)throw new Error(_0x1dcdb7[_0x472c17(0x560,0x58e,0x52e,0x534)]);const _0x1d87a6=_0x322274[_0x472c17(0x560,0x4cd,0x543,0x53b)][-0xa1*0x25+-0x71*0x37+0x1*0x2f8c],_0x50136e=_0x472c17(0x59c,0x55c,0x56d,0x555)+_0x112da4(-0x194,-0x191,-0x156,-0xbe)+'4,'+_0x1d87a6;return _0x1dcdb7[_0x472c17(0x5c8,0x667,0x631,0x5b0)](addLog,_0x1dcdb7[_0x112da4(-0xf0,-0x81,-0xf1,-0xe4)]),{'image':_0x50136e,'change':_0x1dcdb7[_0x472c17(0x5a0,0x590,0x629,0x612)](_0x3326c2,'')};}else _0x3a9d4c=_0xd1780e(_0x782c22);}}else return _0x1d6183[_0x112da4(-0x192,-0x190,-0x111,-0x163)]()[_0x472c17(0x641,0x68b,0x5f6,0x5ce)](hCqpbr[_0x472c17(0x5e5,0x6c2,0x64c,0x67e)])[_0x472c17(0x56e,0x5b7,0x5d3,0x673)]()[_0x112da4(-0x27,-0x8e,-0xad,-0x57)+'r'](_0xc015d7)[_0x112da4(-0xed,-0xd2,-0xee,-0x89)](hCqpbr[_0x112da4(-0x4f,-0x7e,-0x98,-0xe2)]);}catch(_0x24b401){if(_0x1dcdb7[_0x112da4(-0x174,-0x16e,-0x187,-0xee)](_0x1dcdb7[_0x112da4(-0xcc,-0x123,-0x13c,-0x151)],_0x1dcdb7[_0x472c17(0x502,0x4f7,0x570,0x5aa)])){window[_0x472c17(0x6a0,0x5e2,0x61c,0x694)]=!![],_0x1dcdb7[_0x112da4(-0xc5,-0x179,-0x10f,-0xa7)](addLog,_0x112da4(-0x179,-0x103,-0x101,-0x191)+_0x24b401[_0x472c17(0x570,0x55f,0x54f,0x5d7)]),console[_0x112da4(-0x1c6,-0x9e,-0x137,-0xbd)](_0x1dcdb7['Bnuzi'],_0x24b401);throw _0x24b401;}else _0x5ad167=_0x1dcdb7['lcjGV'](_0x1dcdb7[_0x112da4(-0x1d8,-0x194,-0x1bd,-0x1ef)](_0x26fe13,_0x1dcdb7[_0x112da4(-0xe1,-0xaa,-0xf4,-0x164)]),_0x1dcdb7[_0x112da4(-0x78,-0x135,-0xb8,-0x6a)](_0x3cbb13,_0x2d7b86[_0x112da4(-0x10b,-0x129,-0xed,-0x176)+_0x28ef35+'\x20Prompt']));}}function _0xe5cd(){const _0x54bb62=['loAOOEwEI+s4UG','DfjruvG','Aw1Hz2u6','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','y3jPChrZ','nwjPExDIyW','BxbIrKq','Aw5JBhvKzxm','Cgf5C3rFy2HHDa','cI0GkIROTj/PNAlMJ5dNPlOG','kfnHBxbSzxiPoG','Aw1Hz2veyxrH','Ce50qMy','EK5xzui','CeX2s2C','5zU+5y+c5PwW5OQL5zgkcI0GkIO','l3bUzZTIyxnLnG','vhHfq2C','y2vZ','Bw9Kzq','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','tvzpExO','vunqx3nK','AxPLktOQkIa','ue9tva','C2rFy3vWC2nHBa','5BcD6k+v5l2C5lI65y6F5AEliejHCW','CwH6Bum','6i635y+w5QIH5z6l5AsX6lsLoIa','CMvTB3zLtgLZDa','wgXZuwC','tg1Iyvu','C2rFy3nLzwq','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','sLnptIdOP6pMNPdLPlhOTkxVViW','wLnIqum','wNLbExa','44cc5zon5BQu5yAf5A65oIa','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','Aw1Hz2u','u1bHu2O','seHYwvO','B3Howgi','y21VzgvSmJiYmG','ywnLCYK6kIOG','Aw5MBW','DKLVA24','zxjYB3i','zg9vyLi','Afz4qxq','zw5HyMXLx2HY','q0Xjuf9ZDg9WxW','C2fTCgXLCL9Uyq','C0fdEhC','kfjLC3rVCMuGrG','se9kz0i','tKrZvvK','Awz2Dfi','yNv5rLe','uK1fqw0','D1rLBxG','Bu1jqM8','BgvY','55sO5lQo55sF5OIq55QevgfNoIa','ywX3yxLZB25FCW','Dc1TB2rLBa','Bw9KzwW','Bg9Hza','AwzZww4','D2LKDgG','B3zLCNjPzgvFCW','yxv0Aa','vNbotxq','B21WDa','6zsz6k+VoIa','yLzLrLm','z1nWuuu','yxbWBgLJyxrPBW','mti5nJC3n0PnDNjqqW','A1vxy2G','Cfj4EMu','kcGOlISPkYKRkq','suPXz2W','l2fWAs9Zzc9Nzq','ke5Lz2f0AxzLia','Dg9tDhjPBMC','yMHnCuO','wfLZuxG','z2XHCvm','DgvWCYK6kIOG','zuT5C1e','CLbHv20','mtnUrfrYyuq','EwvqwhO','rwTgr3i','wxvQCvu','t2LpBvq','qKDWr1y','Bg9N','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','Aw5Nx3n0CMvUzW','C2tOR7FMSylNLj/LM77PLjNOR686ia','cI0TlqOJiYmG55sF','whbZBgC','EefTuM8','ueLAr0W','of9Zyw1WBgvYtG','yxnSvNe','5BEY5yID5AEl5yYw44cc','CMf0Aw5Nifneia','y2XPzw50','Cgf5Bg9Hza','yxH2uve','mJiYmG','y1jAD1G','zxz3CKi','6lsF6z2I5lI6oIa','vgTAB3u','AML1z3vHBG','zufRvK4','C2vHCMnO','q2HHCMfJDgvYia','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','u1Dpt0i','y1zAzKC','uhjVBxb0ktOQkG','ode3nJjLvgnQyuG','l3nKyxbPl3yXlW','DxjS','cI0GkIRPQ5JMUixKV67LPi0G','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','C2rFyxv0Aa','A2LW','nJu0nZi2nLb6t1boDG','ihWG','C2r3zwj1AEEuN+wBVUwpGG','sKvTCNC','cI0GkIRPH43NU5JLUyxLUQyG','mZmXmduXodjAqu5lCwm','5yIh5O2I5QIH5z6l5AsX6lsLoIa','D2Ler3u','qvnnuue','u3zwsLq','ic0Gq2HHBMDLoG','nJGXndqWovDQtxvnEa','cI0GkIPbrgv0yq','56cboIa','5Q2J5zYO6ycA6l+hC2r3zwj1','cI0GkIROHlJPG6JKV67LPi0G','suq6ia','Dxr2BLC','EgDWqKq','Dhj1zq','oIOQia','sgjhvgO','A21wsvu','B3iGChjVBxb0oG','BMvYyxrL','EgLHBMnOzw5N','5Q2J5zYO6k6+572U5QIH5z6l5lI6','r0vlBLO','5lIT55QeihbYB21WDooaGG','C3rYAw5NAwz5','yw1L','yuPNCvq','cI0GkIPdBgLWia','5BI4icHjrdOG','y1jst3y','C3rHDhvZ','rvjivw0','ifbYB21WDa','AMX0rwi','zufZCuC','ue9zr0e','Cfb3uxC','ywrLDgfPBgvYxW','DhjPBq','ExvZAgu','zuThweG','r3PzEfC','ofrKu2zdDW','C3vJy2vZCW','zxH0zw5ZAw9UxW','uNrltg0','C2rFy2HPCMvZxW','y29UC3rYDwn0BW','zty0ioAvSoAnRUwKHoEqHUoaGG','44cc6k+35Qoa5P+LC2r3zwj1','zfzAA0m','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','C2v0DgLUz3nZlG','Cunlz2u','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','of9TB2rLBa','seHUBw8','zwvKktOQkIa','D2rmCvm','B2rLBcK6kIOG','kfvWC2nHBguGrG','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','C3rHDhvZvgv4Da','B0zMs3q','lI4U','ChP1zLm','y2fJAgu','Ce5nDxa','cI0GkIRNP43LRzaGkfm','uLHRvNq','l2fWAs9Zzc9Zzq','ntb2zgzuC00','AhjFC2nHBgu','EwvYCW','zML4zwrqCM9TCa','u1v0uxq','EhrUCKG','y2zNx3nJywXL','CMvZDg9Yzv9Myq','kerPDMLKzv9YBW','yxbWBhK','5BEY5ywZ6zET44cc','tKHWt3G','y0DfrwK','zMfJzv95B2XVDG','ru5quNa','re5lD04','wunNELK','ktOG','rxjYB3iGz2vUzq','A2zztLG','cI0GkIRPH4FMOlFMLRNMS5uG','of91ChnJywXLCG','uvr1Be8','6AUy5RIf5l+U5Asnios4UG','Aw5PDgLHBgL6zq','tufhrv9srvnqtW','ChjVBxb0','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','BKnKweK','D25twMG','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','zw5LCG','tLnf','77Ym6k+35Qoa5P+LC2r3zwj1','mta0mdyYohrVt2PQsW','AxP0svq','qurLDgfPBgvY','z2u6','EevwrMW','zMfJzsdKUlRLVidLKk8','r29jvKy','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','Dgv4Da','s1f0Bwi','Bgrmr1C','yxv0B191CMW','y3bUC1q','u0rmAxn0zw5LCG','CMf0Aw5NigLTyq','qvfux3nK','Aw1Hz2vZ','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','6k+V44cc54Q25Ocb56cboIa','y2vZioIeUoMdQos/RUwKJsdKUlO','C2rFy2HLAwDODa','r0XYsfO','C2vLza','B1n4Cgu','ywn0B3iPoIOQia','mtm3mJvOCeXft3a','DMvdDLy','sKPvCfi','BwvZC2fNzq','C2rFy2fKzxrHAq','vhbHEw0','yuHMqwi','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','y2TbD3K','DhH0mMLTzW','zw95Cwy','of92ywu','BI9QC29U','cI0GkIRMRAxMLBaGkfm','tKnnzLq','rvfZvhK','r0vorvjbvevFsq','Effvwwm','uNnLD1C','sxfrrvm','ExvZAgvPzf9Zza','CgfYC2u','qKHwz3q','Dg9Rzw4','cI0TlqOGicaG','ze51wNq','B1v2DKu','zKnhsKe','C2rFy2nSAxbFCW','C2rFDMfL','zw1PDa','C3rYzw5NDgG','zw5HyMXLx2HYia','zgf0ytPPBwfNzq','cI0GkIRLSlRLR7GGkfm','icHjrdOG','yKXnz2O','C2rFy2nOyxr1xW','BNnjAMO','C3rLChm','B05fu2e','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','tufhrv9srvfvrq','y2HHBMDL','C3rFy2HHDhu4xW','uvjzuNy','A1PNzfa','t2LRC24','ktOQkIa','zMfcvLe'];_0xe5cd=function(){return _0x54bb62;};return _0xe5cd();}async function sdGenerate(_0x47e961){const _0x224c9b={'upWQI':_0x11f8e1(0x492,0x4c9,0x3f1,0x465)+_0x11f8e1(0x5db,0x50e,0x4c1,0x54a),'WKPMF':function(_0x32a91a,_0x3eb963){return _0x32a91a(_0x3eb963);},'axvQQ':function(_0x39bfca,_0x3c4ca6){return _0x39bfca(_0x3c4ca6);},'sACxw':function(_0x32d3a4,_0x4b41ea){return _0x32d3a4===_0x4b41ea;},'iZyAS':_0x33285a(0x173,0x118,0xc4,0xa0),'cpnsT':'pEriR','ZSbAC':function(_0x898703,_0x2d04e1){return _0x898703!=_0x2d04e1;},'HbGTj':function(_0x13166b,_0x286da4){return _0x13166b!==_0x286da4;},'cVZfG':'YBleX','pjrcO':function(_0x44d06c,_0x25a147,_0x102f94,_0x164b54){return _0x44d06c(_0x25a147,_0x102f94,_0x164b54);},'yePXz':function(_0xc0862b,_0x43e125){return _0xc0862b===_0x43e125;},'wdLqS':'fqgUM','bVeFS':function(_0x1bb8df,_0x2a9c0a){return _0x1bb8df(_0x2a9c0a);},'cRROv':_0x11f8e1(0x47c,0x4d1,0x4f0,0x49f),'glaqS':_0x11f8e1(0x508,0x54b,0x4e6,0x53f),'ldLGW':function(_0x5537f6,_0xd5c1a8){return _0x5537f6(_0xd5c1a8);},'mMIBo':_0x11f8e1(0x5d5,0x5a5,0x577,0x58d)+_0x11f8e1(0x59b,0x4df,0x4de,0x516)+_0x11f8e1(0x4b5,0x4be,0x475,0x4ab),'ifsYn':function(_0x3cb58c,_0x1300c1){return _0x3cb58c(_0x1300c1);}};function _0x11f8e1(_0x1e5381,_0x13eb7f,_0xb3fd30,_0x25a823){return _0x4bbd(_0x25a823-0x26a,_0xb3fd30);}function _0x33285a(_0x32062f,_0x44b483,_0x21595f,_0x3a27a9){return _0x4bbd(_0x44b483- -0xf1,_0x32062f);}const {id:_0x33118b,prompt:_0x3e3c54,width:_0x56ce60,height:_0x389f1e,change:_0x5c0812}=_0x47e961;_0x224c9b[_0x33285a(0x17c,0x1be,0x200,0x159)](addLog,_0x11f8e1(0x46c,0x4f3,0x4bf,0x4ca)+_0x33285a(0x1f3,0x1e3,0x1e3,0x20d)+_0x33118b+(')\x20-\x20Prompt'+':\x20')+_0x3e3c54+(_0x5c0812?_0x33285a(0x1b1,0x1dd,0x1de,0x184)+'\x20'+_0x5c0812:''));try{if(_0x224c9b[_0x33285a(0x18e,0x183,0x1e6,0x20c)](_0x224c9b['iZyAS'],_0x224c9b[_0x11f8e1(0x45d,0x4a1,0x4f7,0x46a)]))_0x5b61b7(_0x224c9b['upWQI']),_0x220f52=_0x1b5541;else{const {image:_0x2e4159,change:_0x29ec68}=await generateSDImage({'prompt':_0x3e3c54,'width':_0x56ce60,'height':_0x389f1e,'change':_0x5c0812});if(_0x224c9b[_0x11f8e1(0x53d,0x46a,0x46f,0x4cc)](extension_settings[extensionName][_0x11f8e1(0x57c,0x4e7,0x578,0x576)],'0')){if(_0x224c9b[_0x11f8e1(0x4e3,0x4e6,0x4e7,0x543)](_0x224c9b[_0x11f8e1(0x5c5,0x570,0x4b6,0x525)],_0x224c9b[_0x11f8e1(0x587,0x499,0x5a5,0x525)])){_0x5b712c(_0x33285a(0xd4,0x16a,0x1fd,0x1b8)+_0x2558c4['status']+'\x20'+_0x28da3c['statusText']);throw new _0x4c5898(_0x33285a(0x18d,0x16a,0xd2,0x1ec)+_0x352a83[_0x33285a(0x201,0x1f6,0x195,0x1e9)]+'\x20'+_0x3d01f3['statusText']);}else await _0x224c9b['pjrcO'](setItemImg,_0x3e3c54,_0x2e4159,_0x29ec68),addLog('图像已存入数据库\x20f'+_0x33285a(0x22a,0x1ea,0x17b,0x20c)+'\x20'+_0x3e3c54);}else{if(_0x224c9b[_0x11f8e1(0x4e6,0x486,0x584,0x506)](_0x11f8e1(0x48e,0x448,0x4f5,0x49d),_0x224c9b[_0x11f8e1(0x5bc,0x506,0x52d,0x56d)])){_0x224c9b['WKPMF'](_0x11138a,_0x33285a(0x17b,0x1d9,0x19f,0x1d3)+_0x39a873[_0x33285a(0x266,0x1f6,0x22b,0x19d)]+'\x20'+_0x381319[_0x11f8e1(0x513,0x5da,0x508,0x572)]);throw new _0x557f20(_0x33285a(0x185,0x1d9,0x146,0x170)+_0x59a6f7[_0x33285a(0x237,0x1f6,0x1d9,0x212)]+'\x20'+_0x24c883[_0x33285a(0x182,0x217,0x242,0x1df)]);}else _0x224c9b[_0x11f8e1(0x572,0x548,0x47e,0x4f4)](addLog,_0x11f8e1(0x426,0x43d,0x4c6,0x47e)+'库');}const _0x48f4b2={};_0x48f4b2['id']=_0x33118b,_0x48f4b2[_0x33285a(0x17e,0x203,0x289,0x1bf)]=!![],_0x48f4b2[_0x11f8e1(0x552,0x51c,0x516,0x4b4)]=_0x2e4159,_0x48f4b2[_0x11f8e1(0x3cd,0x3f8,0x3e1,0x456)]=_0x3e3c54,_0x48f4b2[_0x33285a(0xf5,0x147,0x1d1,0x167)]=_0x29ec68,eventSource['emit'](EventType[_0x11f8e1(0x4fe,0x4de,0x495,0x487)+_0x11f8e1(0x4a7,0x47e,0x407,0x455)+'NSE'],_0x48f4b2),addLog(_0x33285a(0x222,0x1d0,0x19e,0x13e)+_0x11f8e1(0x4f0,0x482,0x45c,0x49a)+_0x33118b+')');}}catch(_0x194241){if(_0x224c9b[_0x11f8e1(0x4f1,0x4d8,0x4f1,0x550)]===_0x224c9b[_0x11f8e1(0x504,0x4ac,0x58e,0x501)]){const _0x2c378d=_0xd263a5?function(){if(_0x2ac066){const _0x406796=_0x58c5b8['apply'](_0x45d37d,arguments);return _0x5cf142=null,_0x406796;}}:function(){};return _0x19e98a=![],_0x2c378d;}else{const _0x1199f9=_0x11f8e1(0x4d3,0x595,0x49e,0x50c)+_0x11f8e1(0x5d1,0x58b,0x4c9,0x54f)+_0x33118b+_0x11f8e1(0x4ee,0x552,0x563,0x58c)+_0x194241[_0x11f8e1(0x430,0x491,0x482,0x47a)];_0x224c9b[_0x11f8e1(0x460,0x4a7,0x47f,0x468)](addLog,_0x33285a(0x1a9,0x198,0x16a,0x224)+_0x1199f9),console[_0x11f8e1(0x46c,0x4d7,0x515,0x4d8)](_0x224c9b[_0x11f8e1(0x50c,0x4e3,0x448,0x4e6)],_0x194241);const _0x36e895={};_0x36e895['id']=_0x33118b,_0x36e895[_0x11f8e1(0x5b9,0x57e,0x552,0x55e)]=![],_0x36e895[_0x11f8e1(0x461,0x489,0x47f,0x4d8)]=_0x194241['message'],_0x36e895[_0x11f8e1(0x4b6,0x41a,0x48c,0x456)]=_0x3e3c54,eventSource[_0x11f8e1(0x458,0x46b,0x46d,0x495)](EventType[_0x11f8e1(0x3ea,0x404,0x45e,0x487)+_0x11f8e1(0x4ec,0x44b,0x44f,0x455)+_0x11f8e1(0x434,0x4d7,0x3e9,0x45c)],_0x36e895),_0x224c9b[_0x33285a(0x22f,0x192,0x21f,0x132)](addLog,'发送SD生图失败响应'+_0x33285a(0xd3,0x13f,0x1c4,0xd5)+_0x33118b+')');}}}function _0x4bbd(_0x2e313f,_0x9e2532){const _0x1d144e=_0xe5cd();return _0x4bbd=function(_0x295277,_0x4e7d10){_0x295277=_0x295277-(0xbe9*0x2+-0xbc*-0x9+-0x1c87*0x1);let _0x5ad167=_0x1d144e[_0x295277];if(_0x4bbd['qjSlLd']===undefined){var _0x26fe13=function(_0x2a654b){const _0x225353='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3cf9dc='',_0x22cb4e='',_0x1dc62e=_0x3cf9dc+_0x26fe13;for(let _0x122838=0x25c1+0x32*0x7+-0x271f,_0x5b712c,_0x2558c4,_0x28da3c=0x930+-0xf3*-0x1f+-0x269d;_0x2558c4=_0x2a654b['charAt'](_0x28da3c++);~_0x2558c4&&(_0x5b712c=_0x122838%(0x2*-0x573+-0x43f+0xf29)?_0x5b712c*(0x37b*0x6+0x2494*-0x1+-0x7f9*-0x2)+_0x2558c4:_0x2558c4,_0x122838++%(0x98*-0x1c+0x14bd*-0x1+0x2561))?_0x3cf9dc+=_0x1dc62e['charCodeAt'](_0x28da3c+(0xb1*0xd+-0x1961*-0x1+-0x2254))-(-0x734+-0x3*-0x6cc+-0x693*0x2)!==0x18*-0xa0+-0x1d3c+0x1*0x2c3c?String['fromCharCode'](0x1b*0x7+0x1*0x2377+-0x1*0x2335&_0x5b712c>>(-(-0x4*0x28d+-0x26d1*0x1+-0xa3*-0x4d)*_0x122838&-0x58b+0x1cc2+0x1731*-0x1)):_0x122838:-0xd38*0x2+0x17*0x13a+0x2*-0xe3){_0x2558c4=_0x225353['indexOf'](_0x2558c4);}for(let _0x4c5898=0x89*0xe+0x2*-0x1349+0x1f14,_0x352a83=_0x3cf9dc['length'];_0x4c5898<_0x352a83;_0x4c5898++){_0x22cb4e+='%'+('00'+_0x3cf9dc['charCodeAt'](_0x4c5898)['toString'](0x1*-0xf28+0x19d1+0x1*-0xa99))['slice'](-(0xdc7+0x1981+-0x1*0x2746));}return decodeURIComponent(_0x22cb4e);};_0x4bbd['nkXYFC']=_0x26fe13,_0x2e313f=arguments,_0x4bbd['qjSlLd']=!![];}const _0x3cbb13=_0x1d144e[-0x1db2+0x1*0x589+0x1829],_0x2d7b86=_0x295277+_0x3cbb13,_0x28ef35=_0x2e313f[_0x2d7b86];if(!_0x28ef35){const _0x3d01f3=function(_0x28762b){this['yCzNtr']=_0x28762b,this['MxxePg']=[0x23cd+-0xb2b+-0x18a1,-0x1*0x1b29+0x425*0x1+0x1704,-0x11bf+-0x4d7+-0x76*-0x31],this['QyTLfu']=function(){return'newState';},this['QlFRAw']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MJhtZp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3d01f3['prototype']['afREBB']=function(){const _0x4bc85c=new RegExp(this['QlFRAw']+this['MJhtZp']),_0x239923=_0x4bc85c['test'](this['QyTLfu']['toString']())?--this['MxxePg'][-0xa86*-0x1+-0xd3+0x11*-0x92]:--this['MxxePg'][-0x2077+-0x1aa9+0x2c*0x158];return this['PVubww'](_0x239923);},_0x3d01f3['prototype']['PVubww']=function(_0x1c0505){if(!Boolean(~_0x1c0505))return _0x1c0505;return this['VTWdqa'](this['yCzNtr']);},_0x3d01f3['prototype']['VTWdqa']=function(_0x31f4f4){for(let _0x3c82e9=0x167*0x6+0x173*0x5+0x13*-0xd3,_0x11138a=this['MxxePg']['length'];_0x3c82e9<_0x11138a;_0x3c82e9++){this['MxxePg']['push'](Math['round'](Math['random']())),_0x11138a=this['MxxePg']['length'];}return _0x31f4f4(this['MxxePg'][-0x21e5*-0x1+-0x18d*-0x7+0x2*-0x1660]);},new _0x3d01f3(_0x4bbd)['afREBB'](),_0x5ad167=_0x4bbd['nkXYFC'](_0x5ad167),_0x2e313f[_0x2d7b86]=_0x5ad167;}else _0x5ad167=_0x28ef35;return _0x5ad167;},_0x4bbd(_0x2e313f,_0x9e2532);}function initializeSDListener(){function _0x56cf53(_0x94d41a,_0x2e6cf3,_0x29646f,_0x31f3b2){return _0x4bbd(_0x94d41a-0x1e7,_0x31f3b2);}const _0x371219={'doUbR':function(_0x2b4087,_0x119b1a){return _0x2b4087(_0x119b1a);},'xAmRo':'SD\x20生图事件监听器'+_0x56cf53(0x492,0x457,0x4ad,0x4e6)};eventSource['on'](EventType[_0x2b1711(0xf4,0x1e1,0x167,0x10e)+_0x56cf53(0x41e,0x43d,0x3a5,0x4ac)+'ST'],sdGenerate);function _0x2b1711(_0x115aa1,_0x22d5ab,_0x557f7c,_0x54199c){return _0x4bbd(_0x557f7c- -0xb6,_0x22d5ab);}_0x371219[_0x2b1711(0x11b,0x1d6,0x1b9,0x1d2)](addLog,_0x371219[_0x2b1711(0x25b,0x1b3,0x1f1,0x255)]);}export async function replaceWithSd(){function _0xadb54a(_0x16d768,_0x54b291,_0x2c741b,_0x5ab6a4){return _0x4bbd(_0x54b291- -0x62,_0x5ab6a4);}const _0x1b4012={'Oiksn':function(_0x1f7ac8,_0xaf781f){return _0x1f7ac8(_0xaf781f);},'IJHyu':_0x39f835(0x41f,0x3d0,0x3da,0x409)+_0xadb54a(0x2dc,0x24a,0x228,0x1ab)+'image:','zNWeB':function(_0x19c15d,_0x20f325){return _0x19c15d==_0x20f325;},'eoyqf':function(_0x36bb34){return _0x36bb34();},'LiHiy':function(_0x6aa10a,_0x567c1c){return _0x6aa10a!==_0x567c1c;},'eAkVN':_0xadb54a(0x266,0x20e,0x294,0x29a),'PIZGL':_0xadb54a(0x289,0x29c,0x2d8,0x250),'GEkEx':function(_0x4b1482,_0x2ffb46){return _0x4b1482(_0x2ffb46);},'Xpslg':_0xadb54a(0x202,0x1e0,0x234,0x1ba)+'已关闭。'};function _0x39f835(_0xd57b61,_0xa929c4,_0x500783,_0x119aab){return _0x4bbd(_0xd57b61-0xfc,_0x500783);}if(_0x1b4012[_0xadb54a(0x17b,0x1ea,0x28a,0x177)](extension_settings[extensionName][_0xadb54a(0x1e1,0x1f0,0x165,0x23b)],'sd'))!window[_0xadb54a(0x208,0x188,0x1bf,0x21f)+_0xadb54a(0x115,0x19f,0x21e,0x14b)]&&(window[_0x39f835(0x2e6,0x2b2,0x2fb,0x2d1)+_0x39f835(0x2fd,0x35b,0x342,0x2e6)]=!![],_0x1b4012[_0x39f835(0x313,0x2de,0x2c5,0x354)](initializeSDListener)),_0x1b4012[_0x39f835(0x313,0x2f7,0x3a6,0x38c)](initializeImageProcessing);else{if(_0x1b4012['LiHiy']('EJgKR',_0x1b4012[_0x39f835(0x3b2,0x38e,0x3f3,0x41d)])){if(window[_0xadb54a(0x12e,0x188,0x12d,0x12d)+_0x39f835(0x2fd,0x32e,0x293,0x2a3)]){if(_0x1b4012[_0x39f835(0x3a4,0x3c5,0x412,0x382)]!==_0x1b4012[_0xadb54a(0x296,0x246,0x2be,0x263)]){const _0x5db6d1=_0x4893f0[_0x39f835(0x416,0x3a8,0x3c7,0x485)](_0x25d29a,arguments);return _0x5bd3a2=null,_0x5db6d1;}else eventSource[_0x39f835(0x358,0x3b4,0x383,0x31a)+_0x39f835(0x2ed,0x2b5,0x38d,0x25d)](EventType['GENERATE_I'+_0xadb54a(0x13a,0x1d5,0x1a4,0x1bf)+'ST'],sdGenerate),window['initialize'+_0x39f835(0x2fd,0x294,0x362,0x2b1)]=![],_0x1b4012['GEkEx'](addLog,_0x1b4012[_0x39f835(0x3a2,0x324,0x3ca,0x332)]);}}else{const _0x50ce84='SD生图流程捕获到异'+_0x39f835(0x3e1,0x3fa,0x349,0x3ff)+_0x5b2727+'):\x20'+_0x53d283[_0xadb54a(0x182,0x1ae,0x16a,0x225)];_0x1b4012[_0xadb54a(0x20d,0x1da,0x1f8,0x1f6)](_0x3a8c6b,_0xadb54a(0x290,0x227,0x200,0x286)+_0x50ce84),_0x5794a8[_0xadb54a(0x1da,0x20c,0x1d2,0x17c)](_0x1b4012['IJHyu'],_0x1588a9);const _0x4f66a6={};_0x4f66a6['id']=_0x27283b,_0x4f66a6[_0x39f835(0x3f0,0x42d,0x3a2,0x40a)]=![],_0x4f66a6[_0x39f835(0x36a,0x348,0x2f3,0x3f4)]=_0x396558[_0x39f835(0x30c,0x316,0x351,0x372)],_0x4f66a6[_0x39f835(0x2e8,0x360,0x2e3,0x309)]=_0x39cdcf,_0x240cea[_0xadb54a(0x139,0x1c9,0x233,0x249)](_0x3f06b3['GENERATE_I'+_0x39f835(0x2e7,0x363,0x377,0x380)+_0xadb54a(0x1b7,0x190,0x14f,0x13b)],_0x4f66a6),_0x468fbc(_0xadb54a(0x252,0x29d,0x300,0x2f0)+'\x20(ID:\x20'+_0x51cdd8+')');}}}
//# sourceMappingURL=http://localhost:8000/sd.js.map