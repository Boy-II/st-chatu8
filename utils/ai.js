(function(_0x58b96e,_0x50da1e){function _0x4f2ceb(_0x566098,_0xcb9c29,_0x298b3b,_0x553b19){return _0x4d69(_0x553b19- -0x2da,_0xcb9c29);}const _0x2d1b31=_0x58b96e();function _0x43e3be(_0x3e8b17,_0x557dc0,_0x270f1e,_0x156b2d){return _0x4d69(_0x270f1e- -0x7e,_0x557dc0);}while(!![]){try{const _0x57c5cb=-parseInt(_0x43e3be(0x125,0x12e,0x10b,0xec))/(-0x13a*0x1f+-0x94+0x269b)+parseInt(_0x43e3be(0x11f,0x10a,0xfd,0x120))/(-0x15e5+-0x167a+0x2c61)+-parseInt(_0x4f2ceb(-0x13d,-0x171,-0x159,-0x160))/(0xa01+-0xa*-0x2c8+-0x12e7*0x2)+-parseInt(_0x43e3be(0x101,0x124,0x100,0xdd))/(0xb+0x231a+-0x187*0x17)+parseInt(_0x4f2ceb(-0x14b,-0x162,-0x185,-0x16d))/(0x9*0x39c+-0x125+-0xfa9*0x2)+-parseInt(_0x43e3be(0xf7,0x107,0xf5,0xf1))/(0x19a5+-0xcd8+-0xcc7)+parseInt(_0x43e3be(0x131,0xfd,0x11f,0x109))/(-0x2*-0xc73+0x817*-0x2+-0x8b1);if(_0x57c5cb===_0x50da1e)break;else _0x2d1b31['push'](_0x2d1b31['shift']());}catch(_0x2d6918){_0x2d1b31['push'](_0x2d1b31['shift']());}}}(_0x4833,-0x7c3e+-0x9ab+0x1bea*0x1f));const _0x48cb23=(function(){function _0x488079(_0xf6b8ab,_0x3da76d,_0x29c2f2,_0x2be06e){return _0x4d69(_0x2be06e-0xec,_0x3da76d);}const _0x560a9f={};_0x560a9f[_0x488079(0x252,0x239,0x249,0x255)]='qpApL';const _0x262c90=_0x560a9f;let _0x239370=!![];return function(_0x2a3ba9,_0x144ed6){function _0x3888cb(_0xf3ebb0,_0x1d6988,_0x4ffab5,_0x5d1da3){return _0x488079(_0xf3ebb0-0x1d6,_0x1d6988,_0x4ffab5-0x35,_0xf3ebb0- -0x2af);}function _0x2c3ebd(_0x27b5e5,_0xbd5e89,_0x4c83ba,_0xc10b0c){return _0x488079(_0x27b5e5-0x1b2,_0xbd5e89,_0x4c83ba-0x184,_0x27b5e5- -0x6c);}if('RMSjA'!==_0x262c90[_0x3888cb(-0x5a,-0x47,-0x49,-0x75)]){const _0x2fc15a=_0x239370?function(){function _0x56f508(_0x94c1a0,_0x59fc41,_0x161fd2,_0x218bcd){return _0x3888cb(_0x161fd2-0x27e,_0x94c1a0,_0x161fd2-0x5a,_0x218bcd-0x18d);}if(_0x144ed6){const _0x167363=_0x144ed6[_0x56f508(0x22b,0x20e,0x232,0x23e)](_0x2a3ba9,arguments);return _0x144ed6=null,_0x167363;}}:function(){};return _0x239370=![],_0x2fc15a;}else{const _0x1022dc=_0x452d8b[_0x2c3ebd(0x202,0x20c,0x217,0x214)](_0x138dde);_0x1022dc[_0x3888cb(-0x3d,-0x53,-0x41,-0x5f)]&&_0x1022dc[_0x2c3ebd(0x206,0x201,0x212,0x1e9)][0x1*-0x149d+-0x476*-0x8+-0xf13]['delta']&&_0x1022dc[_0x2c3ebd(0x206,0x1eb,0x1ed,0x1e5)][-0x2b*-0x83+0x2c*0x5f+-0x2655]['delta'][_0x2c3ebd(0x1e5,0x1e0,0x1db,0x1e1)]&&(_0x262efa+=_0x1022dc['choices'][-0x10c1+-0x1646+0x2707][_0x2c3ebd(0x1ff,0x1e9,0x202,0x209)]['content']);}};}()),_0x4b97fc=_0x48cb23(this,function(){const _0x4ee84f={};_0x4ee84f[_0x3e1c88(0x437,0x442,0x44a,0x42f)]=_0x3e1c88(0x473,0x45a,0x447,0x455)+'+$';const _0x41c98e=_0x4ee84f;function _0x2735bb(_0x769497,_0x577d60,_0x2d4ebd,_0x2acbe3){return _0x4d69(_0x2acbe3-0x332,_0x577d60);}function _0x3e1c88(_0x1b6384,_0x259ebd,_0x197dce,_0x16b8c9){return _0x4d69(_0x259ebd-0x2cc,_0x1b6384);}return _0x4b97fc[_0x2735bb(0x484,0x482,0x4a2,0x4a0)]()[_0x2735bb(0x492,0x4b0,0x4af,0x491)](_0x2735bb(0x4c8,0x4a0,0x4cf,0x4c0)+'+$')[_0x3e1c88(0x44d,0x43a,0x442,0x425)]()[_0x3e1c88(0x467,0x445,0x426,0x45f)+'r'](_0x4b97fc)['search'](_0x41c98e[_0x2735bb(0x493,0x4ac,0x49f,0x4a8)]);});_0x4b97fc();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../script.js';function _0x4d69(_0xfea1a4,_0x3cb188){const _0x4c0ba8=_0x4833();return _0x4d69=function(_0x161857,_0x1b8e08){_0x161857=_0x161857-(0xf2*0x21+0x75*-0x33+-0xd1*0x8);let _0x2d581e=_0x4c0ba8[_0x161857];if(_0x4d69['hPtGHG']===undefined){var _0x2331ac=function(_0x248e95){const _0x595c35='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18a945='',_0x34c589='',_0x13d552=_0x18a945+_0x2331ac;for(let _0x15fbe0=0x13a9*0x1+0x1022+-0x7*0x51d,_0x25539b,_0xd47b3d,_0x17f3e2=-0x5e0*-0x3+0x1*-0x1466+0x47*0xa;_0xd47b3d=_0x248e95['charAt'](_0x17f3e2++);~_0xd47b3d&&(_0x25539b=_0x15fbe0%(0x225a+0x237b+-0x45d1)?_0x25539b*(0xf3c+-0x1*-0xce5+-0x1be1)+_0xd47b3d:_0xd47b3d,_0x15fbe0++%(-0x537+-0x1457*0x1+0x1992))?_0x18a945+=_0x13d552['charCodeAt'](_0x17f3e2+(-0xf7b+-0x1774+0x1*0x26f9))-(0x1135+-0x5*0x6d1+0x10ea)!==0x1bb5*-0x1+0x9*0x3e7+0x76a*-0x1?String['fromCharCode'](0x1*0x1d11+-0xef*-0x1+-0x1d01&_0x25539b>>(-(-0x7ca*0x1+-0x39f*-0x9+0x241*-0xb)*_0x15fbe0&-0x1be*0x13+0xd*-0x12f+0xb*0x469)):_0x15fbe0:0x1*0x22dc+0x8e5+-0x2bc1){_0xd47b3d=_0x595c35['indexOf'](_0xd47b3d);}for(let _0x52c0fb=0xad7+0x18*-0x6d+-0x35*0x3,_0x5f1ae4=_0x18a945['length'];_0x52c0fb<_0x5f1ae4;_0x52c0fb++){_0x34c589+='%'+('00'+_0x18a945['charCodeAt'](_0x52c0fb)['toString'](0x20+-0x2e*0x53+-0x1*-0xeda))['slice'](-(-0x2215+0xf88+0x128f));}return decodeURIComponent(_0x34c589);};_0x4d69['ogEfOT']=_0x2331ac,_0xfea1a4=arguments,_0x4d69['hPtGHG']=!![];}const _0x1607fc=_0x4c0ba8[0x1ce1+0x1dff+-0x3ae0],_0x4e4bf6=_0x161857+_0x1607fc,_0xe20042=_0xfea1a4[_0x4e4bf6];if(!_0xe20042){const _0x3864ea=function(_0x309233){this['moDqOA']=_0x309233,this['LseQec']=[0x121*-0xd+-0x1*-0x1c7f+-0x3*0x49b,0x40*-0x5+-0x130e*-0x2+-0x24dc,0x65*-0x19+0x1159+-0x2*0x3be],this['SNQQmg']=function(){return'newState';},this['DHRGwD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pRHEhz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3864ea['prototype']['XUrLYP']=function(){const _0x4efd07=new RegExp(this['DHRGwD']+this['pRHEhz']),_0x4f5fda=_0x4efd07['test'](this['SNQQmg']['toString']())?--this['LseQec'][-0xf97+0x2bd+0xcdb]:--this['LseQec'][-0x1*0x19cc+-0x2107+0x197*0x25];return this['pxLsZR'](_0x4f5fda);},_0x3864ea['prototype']['pxLsZR']=function(_0x50de4e){if(!Boolean(~_0x50de4e))return _0x50de4e;return this['dEKTuf'](this['moDqOA']);},_0x3864ea['prototype']['dEKTuf']=function(_0x1d41c1){for(let _0x1779bc=0x16*0x87+-0x2050+0x14b6,_0x1bcb01=this['LseQec']['length'];_0x1779bc<_0x1bcb01;_0x1779bc++){this['LseQec']['push'](Math['round'](Math['random']())),_0x1bcb01=this['LseQec']['length'];}return _0x1d41c1(this['LseQec'][0x89c*0x2+0x34c+0x4*-0x521]);},new _0x3864ea(_0x4d69)['XUrLYP'](),_0x2d581e=_0x4d69['ogEfOT'](_0x2d581e),_0xfea1a4[_0x4e4bf6]=_0x2d581e;}else _0x2d581e=_0xe20042;return _0x2d581e;},_0x4d69(_0xfea1a4,_0x3cb188);}import{extensionName}from'./config.js';function _0x4833(){const _0x14174c=['quKGqvbjievYCG','vgPHCNe','CwD3rNG','EMfIA2S','EhqUCg9SBgLUyq','y29UDgvUDa','z2v0uMvHzgvY','rNHgvMW','q2LosKW','y1jtCg0','ANnVBG','thjPvgy','BvfdDNG','mtu4nte0nw9RsxnMDG','Dg9tDhjPBMC','Aw9U','CMvHza','uvDcD0C','qMP1BMK','ntG5nJi2DfDmq2vH','zNjVBsbbss4','C3vIC3rYAw5N','BvziCxe','yxbWBhK','zgf0ytO','y29UC3rYDwn0BW','nJmYmdy3s1r2rwr6','ntC1odjPsLHkEeW','zgvJB2rL','zxjYB3i','ota4nta0t25QtNvj','zgvSDge','DhjPBq','zMLSDgvY','CgfYC2u','DcbMywLSzwqGDW','C3rHCNrZv2L0Aa','C3rYAw5NAwz5','y2HVAwnLCW','DgLVBNmUywKVBW','rMfPBgvKihrVia','mJqZmJa0EM1Iwuvg','zMv0y2GGquKGyW','CeXvA1O','qxv0Ag9YAxPHDa','Ahr0Chm6lY90zq','kcGOlISPkYKRkq','uKPQtuG','zuP6Dey','qMvHCMvYia','BwvZC2fNzq','B21WBgv0Aw9UoG','BgDcrNG','AxrOihn0yxr1CW','qxP5tKy','rejLyKW','yM9KEq','ihjLy2vPDMvKia','rgjoueG','B3i6ia','C3bSAxq','ndm0ntaWnwnuEvL0vG','w0rptKvD','C3rHDhvZ','qvbjihjLCxvLCW','BI9QC29U','Dhj1zq','vevJBxq','Cw9QD1m','ue9tva','C2vHCMnO'];_0x4833=function(){return _0x14174c;};return _0x4833();}import{addLog}from'./utils.js';export async function callOpenAI(_0x50aa3a){const _0x53147e={'DBebL':_0x2a78e4(0x1aa,0x1d5,0x1bb,0x1d8)+_0x90aea3(0x2f8,0x2e2,0x2da,0x2f8),'lgBFx':function(_0x3dba33,_0x4b78f9){return _0x3dba33(_0x4b78f9);},'qojwS':function(_0xaf995d,_0x51f7c7){return _0xaf995d(_0x51f7c7);},'pLUkZ':function(_0x1188b7,_0xc123af){return _0x1188b7(_0xc123af);},'zabkk':function(_0x26e701,_0x3d6b0b){return _0x26e701(_0x3d6b0b);},'RJjMH':'true','CiNJL':function(_0x75468e,_0x26594e){return _0x75468e(_0x26594e);},'QWBwG':function(_0x5773df,_0x4dd7c7,_0x3f1345){return _0x5773df(_0x4dd7c7,_0x3f1345);},'qgwFx':function(_0x3f5942,_0x2e7c0f){return _0x3f5942!==_0x2e7c0f;},'DbNPH':_0x90aea3(0x2c9,0x2d4,0x2c0,0x2bf),'MkUGp':function(_0x4883c3,_0x16b166){return _0x4883c3===_0x16b166;},'LriTf':_0x90aea3(0x2e5,0x2cf,0x2d3,0x2cf),'mQCvx':_0x90aea3(0x2fe,0x311,0x335,0x32d),'AzyNF':_0x2a78e4(0x186,0x1b3,0x1a1,0x194),'WQxoL':_0x2a78e4(0x1b3,0x1ae,0x1bf,0x1b6),'FxFVl':_0x2a78e4(0x1b1,0x1ca,0x1b7,0x1ad)+_0x2a78e4(0x1ca,0x1a4,0x1b9,0x1aa)+'ompletion:'};function _0x90aea3(_0x510f76,_0x39a8e8,_0x16dcb6,_0x20f8ff){return _0x4d69(_0x39a8e8-0x173,_0x20f8ff);}function _0x2a78e4(_0x44c544,_0x297b90,_0x20a5f0,_0x1fce85){return _0x4d69(_0x20a5f0-0x2f,_0x1fce85);}const _0x2df99b=extension_settings[extensionName],{ai_model:_0x19c0d4,ai_temperature:_0x3ded8f,ai_top_p:_0x2d690f,ai_presence_penalty:_0x3196aa,ai_frequency_penalty:_0x22a339,ai_stream:_0x5ade01,ai_private:_0x50b3b4,ai_token:_0x113012}=_0x2df99b,_0x3f4aee={'model':_0x19c0d4,'messages':_0x50aa3a,'temperature':_0x53147e[_0x90aea3(0x2fe,0x307,0x2fc,0x326)](parseFloat,_0x3ded8f),'top_p':parseFloat(_0x2d690f),'presence_penalty':_0x53147e['qojwS'](parseFloat,_0x3196aa),'frequency_penalty':_0x53147e[_0x90aea3(0x310,0x2fe,0x2e5,0x30f)](parseFloat,_0x22a339),'stream':_0x53147e[_0x90aea3(0x2d3,0x2d6,0x2f2,0x2e0)](String,_0x5ade01)===_0x53147e[_0x90aea3(0x2f1,0x302,0x2e8,0x2fe)],'private':_0x53147e[_0x2a78e4(0x183,0x179,0x197,0x18b)](String,_0x50b3b4)===_0x90aea3(0x2f0,0x2ce,0x2d3,0x2ec)};try{const _0x535024={};_0x535024['Content-Ty'+'pe']='applicatio'+_0x2a78e4(0x1b8,0x1c9,0x1d0,0x1c5);const _0x33fb27=_0x535024;_0x113012&&(_0x33fb27[_0x2a78e4(0x1dc,0x1de,0x1bb,0x1c1)+_0x2a78e4(0x191,0x17b,0x19e,0x1be)]=_0x2a78e4(0x1a3,0x1a0,0x1c0,0x1df)+_0x113012);const _0x416cb0=await _0x53147e[_0x90aea3(0x2e6,0x2e4,0x2d5,0x2e3)](fetch,_0x90aea3(0x324,0x300,0x2f5,0x306)+_0x2a78e4(0x18a,0x191,0x193,0x182)+_0x2a78e4(0x196,0x1d6,0x1b6,0x1b3)+'penai',{'method':_0x2a78e4(0x1a4,0x16a,0x18d,0x19e),'headers':_0x33fb27,'body':JSON[_0x90aea3(0x31a,0x2f8,0x2dd,0x2da)](_0x3f4aee)});if(!_0x416cb0['ok']){if(_0x53147e[_0x90aea3(0x2cf,0x2d5,0x2d8,0x2f4)](_0x53147e[_0x90aea3(0x301,0x30d,0x32f,0x32b)],_0x53147e[_0x2a78e4(0x1e6,0x1bd,0x1c9,0x1c7)])){const _0x4724f7=_0x498c54['apply'](_0x263260,arguments);return _0x274fce=null,_0x4724f7;}else{const _0x19ec62=await _0x416cb0['text']();addLog(_0x2a78e4(0x16f,0x1a9,0x18f,0x191)+_0x2a78e4(0x1c5,0x1b5,0x1ca,0x1be)+_0x416cb0[_0x2a78e4(0x1b8,0x1ce,0x1ce,0x1d8)]+'\x20-\x20'+_0x19ec62);throw new Error(_0x90aea3(0x31e,0x313,0x318,0x307)+_0x2a78e4(0x1ba,0x19f,0x1b2,0x1c0)+_0x2a78e4(0x1e6,0x1db,0x1c4,0x1d6)+'\x20'+_0x416cb0['status']+':\x20'+_0x19ec62);}}if(_0x53147e[_0x90aea3(0x2f2,0x2d0,0x2b8,0x2b2)](String,_0x5ade01)===_0x53147e[_0x90aea3(0x322,0x302,0x2e1,0x2eb)]){if(_0x53147e['MkUGp'](_0x53147e[_0x90aea3(0x2ca,0x2de,0x2c9,0x2d9)],_0x53147e[_0x2a78e4(0x198,0x1b4,0x19a,0x1a7)])){const _0x966887=_0x416cb0[_0x2a78e4(0x1ca,0x1e0,0x1c7,0x1ba)][_0x2a78e4(0x185,0x1a8,0x195,0x17a)](),_0x3b8a32=new TextDecoder();let _0x4ee52e='',_0x25e681=![];while(!_0x25e681){const {value:_0x3705d7,done:_0x18bf20}=await _0x966887[_0x90aea3(0x2dd,0x2e3,0x305,0x2e6)]();_0x25e681=_0x18bf20;const _0x18c57d={};_0x18c57d['stream']=!![];const _0x17d6a9=_0x3b8a32[_0x2a78e4(0x190,0x1a8,0x1ab,0x1b4)](_0x3705d7,_0x18c57d),_0x24f310=_0x17d6a9[_0x90aea3(0x30e,0x30f,0x32d,0x309)]('\x0a')[_0x90aea3(0x2fa,0x2f4,0x2d4,0x2fa)](_0x594044=>_0x594044[_0x90aea3(0x305,0x2f3,0x313,0x2f7)]()[_0x2a78e4(0x1b6,0x1b0,0x1b3,0x1a7)](_0x90aea3(0x2e5,0x2eb,0x2f6,0x2eb)));for(const _0x5855ff of _0x24f310){const _0x5bad9a=_0x5855ff[_0x90aea3(0x2d6,0x2e8,0x2d9,0x2cf)](0xdab+0x15c7*0x1+0x3*-0xbcf)['trim']();if(_0x5bad9a===_0x53147e[_0x90aea3(0x2fe,0x2df,0x2d4,0x2d9)])break;try{const _0x2d015a=JSON[_0x90aea3(0x311,0x2f5,0x30e,0x313)](_0x5bad9a);_0x2d015a[_0x90aea3(0x311,0x2f9,0x316,0x2f6)]&&_0x2d015a[_0x90aea3(0x305,0x2f9,0x2ef,0x306)][-0x1*-0x1d95+-0x1112+-0xc83][_0x90aea3(0x312,0x2f2,0x2d3,0x2f3)]&&_0x2d015a[_0x90aea3(0x30c,0x2f9,0x2f6,0x30a)][-0x258b+-0xe5*0x1e+0x4061]['delta'][_0x90aea3(0x2df,0x2d8,0x2b8,0x2f2)]&&(_0x4ee52e+=_0x2d015a[_0x2a78e4(0x1a2,0x1d2,0x1b5,0x1a0)][0x4*0x10c+-0x95*-0x3a+0x2*-0x12f9][_0x90aea3(0x2d3,0x2f2,0x2d7,0x2df)][_0x90aea3(0x2fa,0x2d8,0x2f0,0x2d6)]);}catch(_0x266593){}}}return _0x4ee52e;}else _0x5c568d[_0x53147e[_0x2a78e4(0x1e3,0x1cb,0x1c6,0x1be)]]='Bearer\x20'+_0x532a63;}else{const _0x5bc695=await _0x416cb0[_0x90aea3(0x2bf,0x2dd,0x2ef,0x2ec)]();if(_0x5bc695['choices']&&_0x5bc695[_0x90aea3(0x2d9,0x2f9,0x304,0x2ea)][0x7*0x16a+-0x1d3d*-0x1+0xe9*-0x2b][_0x90aea3(0x313,0x305,0x2f3,0x324)]&&_0x5bc695[_0x2a78e4(0x1a0,0x1a0,0x1b5,0x197)][-0x1d*0x4+0x1980+0x4*-0x643][_0x90aea3(0x301,0x305,0x2f4,0x305)]['content'])return _0x5bc695[_0x2a78e4(0x1a1,0x1a4,0x1b5,0x1bc)][0xdc*0x11+0x3e9+-0x1285][_0x2a78e4(0x19f,0x1a0,0x1c1,0x1a2)]['content'];}return'No\x20content'+_0x90aea3(0x30b,0x30c,0x31f,0x301)+_0x2a78e4(0x192,0x19f,0x1a3,0x182);}catch(_0x460a64){if(_0x53147e[_0x2a78e4(0x18e,0x1b4,0x191,0x17f)](_0x53147e[_0x2a78e4(0x1ba,0x1e3,0x1c5,0x1b8)],_0x53147e['WQxoL'])){_0x53147e['zabkk'](addLog,_0x90aea3(0x2f5,0x2fb,0x316,0x2e6)+'fetch\x20AI\x20c'+_0x90aea3(0x31d,0x306,0x2fa,0x2fc)+'\x20'+_0x460a64[_0x2a78e4(0x1af,0x1bc,0x1c1,0x1b9)]),console[_0x2a78e4(0x1bc,0x18a,0x1ac,0x188)](_0x53147e[_0x90aea3(0x2ea,0x2da,0x2fe,0x2b6)],_0x460a64);throw _0x460a64;}else return _0x519b84['choices'][0x737+0xe*0x125+-0x173d][_0x2a78e4(0x1d5,0x1cc,0x1c1,0x1d1)][_0x2a78e4(0x18c,0x1a8,0x194,0x1ae)];}}
//# sourceMappingURL=http://localhost:8000/ai.js.map